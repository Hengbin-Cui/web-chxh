var websdk=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=114)}([function(module,exports,__webpack_require__){var global=__webpack_require__(3),getOwnPropertyDescriptor=__webpack_require__(21).f,hide=__webpack_require__(19),redefine=__webpack_require__(35),setGlobal=__webpack_require__(57),copyConstructorProperties=__webpack_require__(70),isForced=__webpack_require__(73);module.exports=function(options,source){var target,key,targetProperty,sourceProperty,descriptor,TARGET=options.target,GLOBAL=options.global,STATIC=options.stat;if(target=GLOBAL?global:STATIC?global[TARGET]||setGlobal(TARGET,{}):(global[TARGET]||{}).prototype)for(key in source){if(sourceProperty=source[key],targetProperty=options.noTargetGet?(descriptor=getOwnPropertyDescriptor(target,key))&&descriptor.value:target[key],!isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced)&&targetProperty!==undefined){if(typeof sourceProperty==typeof targetProperty)continue;copyConstructorProperties(sourceProperty,targetProperty)}(options.sham||targetProperty&&targetProperty.sham)&&hide(sourceProperty,"sham",!0),redefine(target,key,sourceProperty,options)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(67),msgStyle=__webpack_require__(14),chatInputStyle=__webpack_require__(102),MODE=window.__WEB_SDK_CONF__&&window.__WEB_SDK_CONF__.ENV.MODE,BASE_URL="";exports.BASE_URL=BASE_URL,exports.BASE_URL=BASE_URL="pre"===MODE?"https://precb2.wul.ai":"dev"===MODE?"https://testcb2.wul.ai":"test"===MODE?"https://newtestcb2.wul.ai":"https://cb2.wul.ai";exports.STREAM_LISTEN={SEND_MSG:"SEND_MSG",IS_SHOW_SUGLIST:"IS_SHOW_SUGLIST",ERROR_TIPS:"ERROR_TIPS",IMG_URL:"IMG_URL",IS_SHOW_LOADING_MSG:"IS_SHOW_LOADING_MSG",RECONNECT_RONGCOULD:"RECONNECT_RONGCOULD",TOAST:"TOAST",MESSAGE:"MESSAGE",IS_SHOW_RT_TIPS:"IS_SHOW_RT_TIPS"};var AVATAR_SHAPE={0:msgStyle.circle,1:msgStyle.square};exports.AVATAR_SHAPE=AVATAR_SHAPE;var HEADER_AVATAR_SHAPE={0:style.circle,1:style.square};exports.HEADER_AVATAR_SHAPE=HEADER_AVATAR_SHAPE;var FRAME_SHAPE={0:style.boderSquare,1:style.borderCircle};exports.FRAME_SHAPE=FRAME_SHAPE;var TEXTAREA_SHAPE={0:chatInputStyle.boderSquare,1:chatInputStyle.borderCircle};exports.TEXTAREA_SHAPE=TEXTAREA_SHAPE;var CHAT_BAR={0:msgStyle.bubbleDrip,1:msgStyle.bubbleCapsule,2:msgStyle.bubbleSquare};exports.CHAT_BAR=CHAT_BAR;exports.MSG_DIRECTION={user:"FROM_USER",staff:"TO_USER"};exports.TRACK_DIRECTION={user:"1",staff:"0"};exports.BACKGROUND_COLOR=["#ffd500"];exports.EXT_COLOR={"default":"#b3bdc5",doc:"#003bcb",docx:"#003bcb",jpg:"#333",jpeg:"#333",gif:"#333",png:"#333",pdf:"#d91d06",ppt:"#eceef0",pptx:"#E05635",txt:"#1778ff",xls:"#009056",xlsx:"#009056",mp4:"#ffb500",amr:"#41b313",csv:"#7715d2"}},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(120),__webpack_require__(138),__webpack_require__(173),__webpack_require__(185),__webpack_require__(188);var event_1=__webpack_require__(207),store_1=__webpack_require__(101),util_1=__webpack_require__(63),parser_1=__webpack_require__(211);function createVNode(html){var frag=document.createElement("div");return frag.innerHTML=html,frag.firstElementChild}Function.prototype.name===undefined&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),exports.createVNode=createVNode,exports.findVNode=function(uid){return Component.vnodes.find((function(vnode){return vnode.uid===uid}))};var Component=function(_super){function Component(opts){var _this=_super.call(this)||this;_this.refs={},_this.subs=[],_this.uid=util_1.generateUid();var el=opts.el,_a=opts.className,className=void 0===_a?"":_a,node=_this.node=createVNode('<div class="root-elem '+className+'" c-id="'+_this.uid+'"></div>'),store=_this.store=store_1["default"](Object.assign({},_this["static"].data,opts.data));return _this.data=store.getData(),_this.parser=new parser_1["default"](_this["static"].template,_this.data),_this._update=_this._update.bind(_this),Component.vnodes.push(_this),Promise.resolve(_this.create()).then((function(){store.addCallback(_this._update),_this._render(),el&&document.querySelector(el).appendChild(node),_this._process(),_this.mount()}))["catch"]((function(e){return _this.catchError(e)})),_this}return __extends(Component,_super),Object.defineProperty(Component.prototype,"static",{get:function(){return Reflect.get(this,"constructor")},enumerable:!0,configurable:!0}),Component.prototype.create=function(){},Component.prototype.useEvents=function(){event_1.delegate(this)},Component.prototype.mount=function(){},Component.prototype.unMount=function(){},Component.prototype._render=function(diff){var parser=this.parser,node=this.getNode();if(diff){var items=parser.getDiff();this._renderPatch(items)}else parser.compile(node)},Component.prototype._process=function(){var _this=this,parser=this.parser,components=this["static"].components;parser.items.forEach((function(item){var SubClass=components.find((function(component){return component.name===item.name}));if(SubClass){var data=item.data||{},extra=util_1.omit(item,["data","class","sel","name","ref"]),sub=new SubClass({data:Object.assign(data,extra),className:item["class"]});_this.addSub(sub,{ref:item.ref,sel:item.sel,replace:!0})}}))},Component.prototype._update=function(key,newVal,oldVal){"message"===key&&newVal.reduce?this._render(!0):(this.removeSubs(),this._render(),this._process()),this.update(key,newVal,oldVal)},Component.prototype._renderPatch=function(items){},Component.prototype.update=function(key,newVal,oldVal){},Component.prototype.getNode=function(){return this.node},Component.prototype.addSub=function(sub,opts){var ref=opts.ref,sel=opts.sel,replace=opts.replace,node=this.getNode(),refs=this.refs,target=sel?node.querySelector(sel):node;ref&&(refs[ref]=sub),replace?(target.insertAdjacentElement("afterend",sub.getNode()),target.parentNode.removeChild(target)):opts.opps?target.insertAdjacentElement("afterbegin",sub.getNode()):target.appendChild(sub.getNode()),this.subs.push(sub)},Component.prototype.removeSub=function(sub){this.subs=this.subs.filter((function(item){return item!==sub})),sub.dispose()},Component.prototype.removeSubs=function(){this.subs.forEach((function(sub){return sub.dispose()})),this.subs=[]},Component.prototype.dispose=function(){try{this.store.removeCallback(this._update),this.subs.map((function(sub){return sub.dispose})),this.getNode().innerHTML="",this.clearEvents(),this.unMount()}catch(e){this.catchError(e)}},Component.prototype.catchError=function(e){console.error(e)},Component.vnodes=[],Component}(event_1.AbstractCEvent);exports["default"]=Component},function(module,exports){module.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},function(module,exports,__webpack_require__){var isObject=__webpack_require__(8);module.exports=function(it){if(!isObject(it))throw TypeError(String(it)+" is not an object");return it}},function(module,exports,__webpack_require__){var store=__webpack_require__(36)("wks"),uid=__webpack_require__(58),Symbol=__webpack_require__(3).Symbol,NATIVE_SYMBOL=__webpack_require__(81);module.exports=function(name){return store[name]||(store[name]=NATIVE_SYMBOL&&Symbol[name]||(NATIVE_SYMBOL?Symbol:uid)("Symbol."+name))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var messageList,event=(messageList={},{listen:function(key,fn){messageList[key]||(messageList[key]=[]),messageList[key].push(fn)},trigger:function(){var key=Array.prototype.shift.call(arguments),fns=messageList[key];if(!fns||0===fns.length)return!1;for(var fn,i=0;fn=fns[i++];)fn.apply(this,arguments)},remove:function(key,fn){var fns=messageList[key];if(!fns)return!1;if(fn)for(var l=fns.length-1;l>=0;l--)fns[l]===fn&&fns.splice(l,1);else fns&&(fns.length=0)}});exports["default"]=event},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),"throw":verb(1),"return":verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var version="v"+__webpack_require__(214).version,storage=null;try{storage=window.localStorage}catch(err){storage=null}function zeroPad(num){return("0"+num).slice(-2)}function loadScript(opt,removed){var script=document.createElement("script");script.type="text/javascript",opt.charset&&(script.charset=opt.charset),opt.crossOrigin&&(script.crossOrigin=opt.crossOrigin),opt.async&&(script.async=!0);var done=!1;return new Promise((function(resolve){var head=document.getElementsByTagName("head")[0]||document.documentElement;script.onload=script.onreadystatechange=function(){done||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(done=!0,resolve(!0),script.onload=script.onreadystatechange=function(){return null},removed&&head&&script.parentNode&&head.removeChild(script))},script.src=opt.url,head.insertBefore(script,head.firstChild)}))}function isWeChat(){return"undefined"!=typeof window.WeixinJSBridge}exports.getUserInfo=function(){if("undefined"!=typeof window){if(storage){var result=JSON.parse(storage.getItem("SDK_USER_INFO")),pubkey=storage.getItem("SDK_PUBKEY");if(result){var info=result[pubkey];if(info)return __assign({},info,{version:version,source:"WEB_SDK"})}}return{userId:window.__USERID__,pubkey:window.__USER_PUBKEY__,version:version,source:"WEB_SDK"}}},exports.prefixUrl=function(url){return url&&0!==url.indexOf("http")?"http://"+url:url},exports.isBelowIE9=function(){return"Microsoft Internet Explorer"==navigator.appName&&parseInt(navigator.appVersion.split(";")[1].replace(/[ ]/g,"").replace("MSIE",""))<=9},exports.zeroPad=zeroPad,exports.isOnline=function(){if("undefined"!=typeof navigator)return!navigator.onLine},exports.loadScript=loadScript,exports.scrollToBottom=function(content,useAnim){if(void 0===useAnim&&(useAnim=!1),!window.requestAnimationFrame){for(var lastTime_1=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame=function(callback){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime_1)),id=window.setTimeout((function(){callback(currTime+timeToCall)}),timeToCall);return lastTime_1=currTime+timeToCall,id}}if(!useAnim)return requestAnimationFrame((function(){var scrollHeight=content.scrollHeight,clientHeight=content.clientHeight;content.scrollTop=scrollHeight-clientHeight}));var dis=content.scrollHeight-content.clientHeight,anim=function(){content.scrollTop+=1,--dis>=0&&requestAnimationFrame(anim)};requestAnimationFrame(anim)},exports.getUrlQuery=function(){var args={};return-1===location.hostname.indexOf("im.wulaibot.com")&&-1===location.hostname.indexOf("im.wul.ai")||location.search.substring(1).split("&").forEach((function(item){var pos=item.indexOf("=");if(-1!==pos){var name_1=item.substring(0,pos),value=item.substring(pos+1);args[name_1]=value}})),args},exports.throttle=function(fn,threshold,scope){var last,deferTimer;return void 0===threshold&&(threshold=250),void 0===scope&&(scope=null),function(){var now=Date.now(),args=arguments,context=scope||this;last&&now<last+threshold?(clearTimeout(deferTimer),deferTimer=setTimeout((function(){last=now,fn.apply(context,args)}),threshold)):(last=now,fn.apply(context,args))}},exports.debounce=function(fn,delay){void 0===delay&&(delay=300);var timer=null;return function(){clearTimeout(timer),timer=setTimeout((function(){fn.apply(this)}),delay)}},exports.getTimeByTimestamp=function(time){var tempTime,newDate=new Date;if(10===(""+time).length)tempTime=1e3*time;else{if(13!==(""+time).length)return"";tempTime=time}newDate.setTime(tempTime);var startDate=new Date(newDate.toString()),year=startDate.getFullYear(),month=zeroPad(startDate.getMonth()+1),day=zeroPad(startDate.getDate()),hour=zeroPad(startDate.getHours()),minute=zeroPad(startDate.getMinutes());return new Date(tempTime).toDateString()===(new Date).toDateString()?hour+":"+minute:year+"-"+month+"-"+day+" "+hour+":"+minute},exports.loadRongCloud=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return"undefined"==typeof window.require?[3,1]:(window.require.config({paths:{RongIMLib:"https://cdn.ronghub.com/RongIMLib-2.5.5.min",RongEmoji:"https://cdn.ronghub.com/RongEmoji-2.2.7.min",protobuf:"https://cdn.ronghub.com/protobuf-2.3.5.min"},shim:{protobuf:{deps:["RongIMLib"]},RongEmoji:{deps:["RongIMLib"]}}}),[2,new Promise((function(resolve,reject){window.require(["RongIMLib","RongEmoji","protobuf"],(function(RongIMLib,RongEmoji,protobuf){window.RongIMLib=RongIMLib,window.RongIMLib.RongIMClient.Protobuf=window.RongIMLib.RongIMClient.Protobuf||protobuf,window.RongIMLib.RongIMEmoji=RongEmoji,resolve(RongIMLib)})),window.require.onError=function(err){reject(err)}}))]);case 1:return[4,loadScript({url:"https://cdn.ronghub.com/RongIMLib-2.5.5.min.js"})];case 2:return _a.sent(),[4,loadScript({url:"https://cdn.ronghub.com/RongEmoji-2.2.7.min.js"})];case 3:return _a.sent(),[2,window.RongIMLib]}}))}))},exports.loadNunjucks=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return"undefined"==typeof window.require?[3,1]:(window.require.config({paths:{nunjucks:"https://saas-frontend.oss-cn-beijing.aliyuncs.com/nunjucks-1.0.1.min",es5Shim:"https://cdn.wul.ai/es5-shim.min",es5Sham:"https://cdn.wul.ai/es5-sham.min"}}),[2,new Promise((function(resolve,reject){window.require(["nunjucks","es5Shim","es5Sham"],(function(nunjucks){window.nunjucks=nunjucks,resolve(nunjucks)})),window.require.onError=function(err){reject(err)}}))]);case 1:return loadScript({url:"https://cdn.wul.ai/es5-shim.min.js"}),loadScript({url:"https://cdn.wul.ai/es5-sham.min.js"}),[4,loadScript({url:"https://cdn.wul.ai/nunjucks-1.0.1.min.js"})];case 2:return _a.sent(),[2,window.nunjucks]}}))}))},exports.loadAliOSS=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return"undefined"==typeof window.require?[3,1]:(window.require.config({paths:{oss:"https://gosspublic.alicdn.com/aliyun-oss-sdk.min"}}),[2,new Promise((function(resolve,reject){window.require(["oss"],(function(oss){window.OSS=oss,resolve(oss)})),window.require.onError=function(err){reject(err)}}))]);case 1:return[4,loadScript({url:"https://gosspublic.alicdn.com/aliyun-oss-sdk.min.js"})];case 2:return _a.sent(),[2,window.OSS]}}))}))},exports.isWeChat=isWeChat,exports.closeWindow=function(){isWeChat()&&window.WeixinJSBridge&&window.WeixinJSBridge.invoke("closeWindow")}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(31),min=Math.min;module.exports=function(argument){return argument>0?min(toInteger(argument),9007199254740991):0}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var path=__webpack_require__(22),has=__webpack_require__(11),wrappedWellKnownSymbolModule=__webpack_require__(98),defineProperty=__webpack_require__(15).f;module.exports=function(NAME){var Symbol=path.Symbol||(path.Symbol={});has(Symbol,NAME)||defineProperty(Symbol,NAME,{value:wrappedWellKnownSymbolModule.f(NAME)})}},function(module,exports,__webpack_require__){var requireObjectCoercible=__webpack_require__(55);module.exports=function(argument){return Object(requireObjectCoercible(argument))}},function(module,exports,__webpack_require__){var content=__webpack_require__(212);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0};options.insertInto=undefined;__webpack_require__(25)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(17),IE8_DOM_DEFINE=__webpack_require__(68),anObject=__webpack_require__(4),toPrimitive=__webpack_require__(34),nativeDefineProperty=Object.defineProperty;exports.f=DESCRIPTORS?nativeDefineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return nativeDefineProperty(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(String(it)+" is not a function");return it}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(7)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(module,exports,__webpack_require__){var IndexedObject=__webpack_require__(33),requireObjectCoercible=__webpack_require__(55);module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},function(module,exports,__webpack_require__){var definePropertyModule=__webpack_require__(15),createPropertyDescriptor=__webpack_require__(29);module.exports=__webpack_require__(17)?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){"use strict";var fails=__webpack_require__(7);module.exports=function(METHOD_NAME,argument){var method=[][METHOD_NAME];return!method||!fails((function(){method.call(null,argument||function(){throw Error()},1)}))}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(17),propertyIsEnumerableModule=__webpack_require__(47),createPropertyDescriptor=__webpack_require__(29),toIndexedObject=__webpack_require__(18),toPrimitive=__webpack_require__(34),has=__webpack_require__(11),IE8_DOM_DEFINE=__webpack_require__(68),nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?nativeGetOwnPropertyDescriptor:function(O,P){if(O=toIndexedObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(O,P)}catch(e){}if(has(O,P))return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O,P),O[P])}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)},function(module,exports,__webpack_require__){var UNSCOPABLES=__webpack_require__(5)("unscopables"),create=__webpack_require__(51),hide=__webpack_require__(19),ArrayPrototype=Array.prototype;ArrayPrototype[UNSCOPABLES]==undefined&&hide(ArrayPrototype,UNSCOPABLES,create(null)),module.exports=function(key){ArrayPrototype[UNSCOPABLES][key]=!0}},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map((function(item){var content=function(item,useSourceMap){var content=item[1]||"",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&"function"==typeof btoa){var sourceMapping=(sourceMap=cssMapping,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */"),sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL="+cssMapping.sourceRoot+source+" */"}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}var sourceMap;return[content].join("\n")}(item,useSourceMap);return item[2]?"@media "+item[2]+"{"+content+"}":content})).join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];null!=id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];null!=item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},function(module,exports,__webpack_require__){var fn,memo,stylesInDom={},isOldIE=(fn=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===memo&&(memo=fn.apply(this,arguments)),memo}),getTarget=function(target,parent){return parent?parent.querySelector(target):document.querySelector(target)},getElement=function(fn){var memo={};return function(target,parent){if("function"==typeof target)return target();if("undefined"==typeof memo[target]){var styleTarget=getTarget.call(this,target,parent);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}}(),singleton=null,singletonCounter=0,stylesInsertedAtTop=[],fixUrls=__webpack_require__(117);function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{var parts=[];for(j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list,options){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],part={css:item[1],media:item[2],sourceMap:item[3]};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,style){var target=getElement(options.insertInto);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var lastStyleElementInsertedAtTop=stylesInsertedAtTop[stylesInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?target.insertBefore(style,lastStyleElementInsertedAtTop.nextSibling):target.appendChild(style):target.insertBefore(style,target.firstChild),stylesInsertedAtTop.push(style);else if("bottom"===options.insertAt)target.appendChild(style);else{if("object"!=typeof options.insertAt||!options.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var nextSibling=getElement(options.insertAt.before,target);target.insertBefore(style,nextSibling)}}function removeStyleElement(style){if(null===style.parentNode)return!1;style.parentNode.removeChild(style);var idx=stylesInsertedAtTop.indexOf(style);idx>=0&&stylesInsertedAtTop.splice(idx,1)}function createStyleElement(options){var style=document.createElement("style");if(options.attrs.type===undefined&&(options.attrs.type="text/css"),options.attrs.nonce===undefined){var nonce=function(){0;return __webpack_require__.nc}();nonce&&(options.attrs.nonce=nonce)}return addAttrs(style,options.attrs),insertStyleElement(options,style),style}function addAttrs(el,attrs){Object.keys(attrs).forEach((function(key){el.setAttribute(key,attrs[key])}))}function addStyle(obj,options){var style,update,remove,result;if(options.transform&&obj.css){if(!(result="function"==typeof options.transform?options.transform(obj.css):options.transform["default"](obj.css)))return function(){};obj.css=result}if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=createStyleElement(options)),update=applyToSingletonTag.bind(null,style,styleIndex,!1),remove=applyToSingletonTag.bind(null,style,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(style=function(options){var link=document.createElement("link");return options.attrs.type===undefined&&(options.attrs.type="text/css"),options.attrs.rel="stylesheet",addAttrs(link,options.attrs),insertStyleElement(options,link),link}(options),update=updateLink.bind(null,style,options),remove=function(){removeStyleElement(style),style.href&&URL.revokeObjectURL(style.href)}):(style=createStyleElement(options),update=applyToTag.bind(null,style),remove=function(){removeStyleElement(style)});return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}module.exports=function(list,options){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(options=options||{}).attrs="object"==typeof options.attrs?options.attrs:{},options.singleton||"boolean"==typeof options.singleton||(options.singleton=isOldIE()),options.insertInto||(options.insertInto="head"),options.insertAt||(options.insertAt="bottom");var styles=listToStyles(list,options);return addStylesToDom(styles,options),function(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i];(domStyle=stylesInDom[item.id]).refs--,mayRemove.push(domStyle)}newList&&addStylesToDom(listToStyles(newList,options),options);for(i=0;i<mayRemove.length;i++){var domStyle;if(0===(domStyle=mayRemove[i]).refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var textStore,replaceText=(textStore=[],function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")});function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.css;if(style.styleSheet)style.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=style.childNodes;childNodes[index]&&style.removeChild(childNodes[index]),childNodes.length?style.insertBefore(cssNode,childNodes[index]):style.appendChild(cssNode)}}function applyToTag(style,obj){var css=obj.css,media=obj.media;if(media&&style.setAttribute("media",media),style.styleSheet)style.styleSheet.cssText=css;else{for(;style.firstChild;)style.removeChild(style.firstChild);style.appendChild(document.createTextNode(css))}}function updateLink(link,options,obj){var css=obj.css,sourceMap=obj.sourceMap,autoFixUrls=options.convertToAbsoluteUrls===undefined&&sourceMap;(options.convertToAbsoluteUrls||autoFixUrls)&&(css=fixUrls(css)),sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=link.href;link.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}},function(module,exports,__webpack_require__){var classof=__webpack_require__(30);module.exports=Array.isArray||function(arg){return"Array"==classof(arg)}},function(module,exports,__webpack_require__){var bind=__webpack_require__(42),IndexedObject=__webpack_require__(33),toObject=__webpack_require__(13),toLength=__webpack_require__(10),arraySpeciesCreate=__webpack_require__(44);module.exports=function(TYPE,specificCreate){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX,create=specificCreate||arraySpeciesCreate;return function($this,callbackfn,that){for(var value,result,O=toObject($this),self=IndexedObject(O),boundFunction=bind(callbackfn,that,3),length=toLength(self.length),index=0,target=IS_MAP?create($this,length):IS_FILTER?create($this,0):undefined;length>index;index++)if((NO_HOLES||index in self)&&(result=boundFunction(value=self[index],index,O),TYPE))if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return!0;case 5:return value;case 6:return index;case 2:target.push(value)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var config_1=__webpack_require__(1),utils_1=__webpack_require__(9),message=[];function createMsg(body,type){return{user_id:utils_1.getUserInfo().userId,msg_body:body,msg_type:type}}exports.createTextMsg=function(text){return createMsg({text:{content:text}},"TEXT")},exports.createImageMsg=function(url,thumbUrl){return void 0===thumbUrl&&(thumbUrl=""),createMsg({image:{resource_url:url,thumbUrl:thumbUrl}},"IMAGE")},exports.createEventMsg=function(eventType){return createMsg({event:{event_type:eventType}},"EVENT")},exports.createNoticeMsg=function(msg){return createMsg(msg,"NOTICE")},exports.createMsg=createMsg,exports.sendRtMessage=function(msgBody,msgType,isUserSend,direction){void 0===direction&&(direction=config_1.MSG_DIRECTION.user);var msg={msg_body:msgBody,msg_type:msgType,direction:direction,extra:"",msg_id:"",msg_ts:"",sender_info:{avatar_url:"",nickname:"",real_name:""},user_info:{avatar_url:"",nickname:""},isUserSend:isUserSend};return message.push(msg),message},exports.reRongMsgInfo=function(msgBody){var msg={msg_body:msgBody.msg_body,direction:config_1.MSG_DIRECTION.staff,extra:msgBody.msg_body.extra,msg_id:msgBody.msg_id,msg_ts:msgBody.msg_ts,msg_type:msgBody.msg_type,sender_info:msgBody.sender_info,user_info:{avatar_url:"",nickname:""},quick_reply:msgBody.quick_reply,similar_response:msgBody.similar_response,from:"rongCloud",user_id:msgBody.user_id,enable_evaluate:msgBody.enable_evaluate||!1,bot:msgBody.bot};return message.push(msg),message}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(argument){return isNaN(argument=+argument)?0:(argument>0?floor:ceil)(argument)}},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(15).f,has=__webpack_require__(11),TO_STRING_TAG=__webpack_require__(5)("toStringTag");module.exports=function(it,TAG,STATIC){it&&!has(it=STATIC?it:it.prototype,TO_STRING_TAG)&&defineProperty(it,TO_STRING_TAG,{configurable:!0,value:TAG})}},function(module,exports,__webpack_require__){var fails=__webpack_require__(7),classof=__webpack_require__(30),split="".split;module.exports=fails((function(){return!Object("z").propertyIsEnumerable(0)}))?function(it){return"String"==classof(it)?split.call(it,""):Object(it)}:Object},function(module,exports,__webpack_require__){var isObject=__webpack_require__(8);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports,__webpack_require__){var global=__webpack_require__(3),hide=__webpack_require__(19),has=__webpack_require__(11),setGlobal=__webpack_require__(57),nativeFunctionToString=__webpack_require__(69),InternalStateModule=__webpack_require__(38),getInternalState=InternalStateModule.get,enforceInternalState=InternalStateModule.enforce,TEMPLATE=String(nativeFunctionToString).split("toString");__webpack_require__(36)("inspectSource",(function(it){return nativeFunctionToString.call(it)})),(module.exports=function(O,key,value,options){var unsafe=!!options&&!!options.unsafe,simple=!!options&&!!options.enumerable,noTargetGet=!!options&&!!options.noTargetGet;"function"==typeof value&&("string"!=typeof key||has(value,"name")||hide(value,"name",key),enforceInternalState(value).source=TEMPLATE.join("string"==typeof key?key:"")),O!==global?(unsafe?!noTargetGet&&O[key]&&(simple=!0):delete O[key],simple?O[key]=value:hide(O,key,value)):simple?O[key]=value:setGlobal(key,value)})(Function.prototype,"toString",(function(){return"function"==typeof this&&getInternalState(this).source||nativeFunctionToString.call(this)}))},function(module,exports,__webpack_require__){var global=__webpack_require__(3),setGlobal=__webpack_require__(57),store=global["__core-js_shared__"]||setGlobal("__core-js_shared__",{});(module.exports=function(key,value){return store[key]||(store[key]=value!==undefined?value:{})})("versions",[]).push({version:"3.0.0",mode:__webpack_require__(37)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(module,exports){module.exports=!1},function(module,exports,__webpack_require__){var set,get,has,NATIVE_WEAK_MAP=__webpack_require__(122),isObject=__webpack_require__(8),hide=__webpack_require__(19),objectHas=__webpack_require__(11),sharedKey=__webpack_require__(48),hiddenKeys=__webpack_require__(49),WeakMap=__webpack_require__(3).WeakMap;if(NATIVE_WEAK_MAP){var store=new WeakMap,wmget=store.get,wmhas=store.has,wmset=store.set;set=function(it,metadata){return wmset.call(store,it,metadata),metadata},get=function(it){return wmget.call(store,it)||{}},has=function(it){return wmhas.call(store,it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(it,metadata){return hide(it,STATE,metadata),metadata},get=function(it){return objectHas(it,STATE)?it[STATE]:{}},has=function(it){return objectHas(it,STATE)}}module.exports={set:set,get:get,has:has,enforce:function(it){return has(it)?get(it):set(it,{})},getterFor:function(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required");return state}}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(31),max=Math.max,min=Math.min;module.exports=function(index,length){var integer=toInteger(index);return integer<0?max(integer+length,0):min(integer,length)}},function(module,exports,__webpack_require__){var has=__webpack_require__(11),toObject=__webpack_require__(13),IE_PROTO=__webpack_require__(48)("IE_PROTO"),CORRECT_PROTOTYPE_GETTER=__webpack_require__(75),ObjectPrototype=Object.prototype;module.exports=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectPrototype:null}},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(16);module.exports=function(fn,that,length){if(aFunction(fn),that===undefined)return fn;switch(length){case 0:return function(){return fn.call(that)};case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports,__webpack_require__){"use strict";var toPrimitive=__webpack_require__(34),definePropertyModule=__webpack_require__(15),createPropertyDescriptor=__webpack_require__(29);module.exports=function(object,key,value){var propertyKey=toPrimitive(key);propertyKey in object?definePropertyModule.f(object,propertyKey,createPropertyDescriptor(0,value)):object[propertyKey]=value}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(8),isArray=__webpack_require__(26),SPECIES=__webpack_require__(5)("species");module.exports=function(originalArray,length){var C;return isArray(originalArray)&&("function"!=typeof(C=originalArray.constructor)||C!==Array&&!isArray(C.prototype)?isObject(C)&&null===(C=C[SPECIES])&&(C=undefined):C=undefined),new(C===undefined?Array:C)(0===length?0:length)}},function(module,exports,__webpack_require__){var fails=__webpack_require__(7),SPECIES=__webpack_require__(5)("species");module.exports=function(METHOD_NAME){return!fails((function(){var array=[];return(array.constructor={})[SPECIES]=function(){return{foo:1}},1!==array[METHOD_NAME](Boolean).foo}))}},function(module,exports,__webpack_require__){var content=__webpack_require__(246);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0};options.insertInto=undefined;__webpack_require__(25)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";var nativePropertyIsEnumerable={}.propertyIsEnumerable,nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=nativeGetOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function(V){var descriptor=nativeGetOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:nativePropertyIsEnumerable},function(module,exports,__webpack_require__){var shared=__webpack_require__(36)("keys"),uid=__webpack_require__(58);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports){module.exports={}},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){var anObject=__webpack_require__(4),defineProperties=__webpack_require__(124),enumBugKeys=__webpack_require__(61),html=__webpack_require__(74),documentCreateElement=__webpack_require__(56),IE_PROTO=__webpack_require__(48)("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=documentCreateElement("iframe"),length=enumBugKeys.length;for(iframe.style.display="none",html.appendChild(iframe),iframe.src=String("javascript:"),(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;length--;)delete createDict.prototype[enumBugKeys[length]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),Properties===undefined?result:defineProperties(result,Properties)},__webpack_require__(49)[IE_PROTO]=!0},function(module,exports,__webpack_require__){var internalObjectKeys=__webpack_require__(72),enumBugKeys=__webpack_require__(61);module.exports=Object.keys||function(O){return internalObjectKeys(O,enumBugKeys)}},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),"throw":verb(1),"return":verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(216);var stream_1=__webpack_require__(6),config_1=__webpack_require__(1),defaultOptions={headers:{},method:"GET",mode:"cors"};function request(url,options){var _this=this;return void 0===options&&(options={}),new Promise((function(resolve,reject){return __awaiter(_this,void 0,void 0,(function(){var opt,res;return __generator(this,(function(_a){switch(_a.label){case 0:return options.url=url,window.__SESSION__&&options.headers&&(options.headers.session=window.__SESSION__),opt=function(options){var url=options.url,query=options.query;url=url||"/",query&&("object"==typeof query&&(query=JSON.stringify(query)),query&&(url+=(-1!==url.indexOf("?")?"&":"?")+query));options.url=url;var _a=options.method,method=void 0===_a?"GET":_a,body=options.body,mutate=options.mutate;"object"==typeof body&&/^(POST|PUT|PATCH)$/i.test(method)&&(options.body=JSON.stringify(body));return mutate?mutate(options):options}(Object.assign(__assign({},defaultOptions,{headers:__assign({},defaultOptions.headers)}),options)),[4,fetch(opt.url,opt)];case 1:return(res=_a.sent())&&res.status>=200&&res.status<400?(-1!==opt.url.indexOf("/user/login")&&(window.__SESSION__=res.headers.get("session")),[2,getBody(res).then(resolve,reject)]):[2,getBody(res).then((function(body){res.status<500&&3!==body.code&&setTimeout((function(){stream_1["default"].trigger(config_1.STREAM_LISTEN.RECONNECT_RONGCOULD,{isShowModal:!0,content:body.message})}),1e3),reject(body)}))]}}))}))}))}function getBody(res){var type=res.headers.get("Content-Type");return type&&-1!==type.indexOf("json")?res.json():res.text()}exports.HEADERS={POST:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},exports["default"]=request,exports.postForm=function(url,data,options){return void 0===data&&(data={}),void 0===options&&(options={}),options.method="POST","undefined"==typeof options.headers&&(options.headers={}),options.headers["Content-Type"]=exports.HEADERS.POST["Content-Type"],options.body=JSON.stringify(data),request(url,options)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(9),config_1=__webpack_require__(1),request_1=__webpack_require__(53),baseUrl=config_1.BASE_URL+"/msg";exports.getMsgHistory=function(msgId,num){void 0===msgId&&(msgId=""),void 0===num&&(num=50);var body={direction:"BACKWARD",msg_id:msgId,num:num,user_id:utils_1.getUserInfo().userId},url=baseUrl+"/history";return request_1["default"](url,{method:"POST",headers:{"Content-Type":"application/json; charset: UTF-8"},body:body})},exports.sendMsg=function(body){var url=baseUrl+"/receive";return request_1["default"](url,{method:"POST",headers:{"Content-Type":"application/json; charset: UTF-8"},body:body})},exports.satisfactionEvaluate=function(body){var url=baseUrl+"/evaluate";return request_1["default"](url,{method:"POST",headers:{"Content-Type":"application/json; charset: UTF-8"},body:body})}},function(module,exports){module.exports=function(it){if(it==undefined)throw TypeError("Can't call method on "+it);return it}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(8),document=__webpack_require__(3).document,exist=isObject(document)&&isObject(document.createElement);module.exports=function(it){return exist?document.createElement(it):{}}},function(module,exports,__webpack_require__){var global=__webpack_require__(3),hide=__webpack_require__(19);module.exports=function(key,value){try{hide(global,key,value)}catch(e){global[key]=value}return value}},function(module,exports){var id=0,postfix=Math.random();module.exports=function(key){return"Symbol(".concat(key===undefined?"":key,")_",(++id+postfix).toString(36))}},function(module,exports,__webpack_require__){var internalObjectKeys=__webpack_require__(72),hiddenKeys=__webpack_require__(61).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return internalObjectKeys(O,hiddenKeys)}},function(module,exports,__webpack_require__){var toIndexedObject=__webpack_require__(18),toLength=__webpack_require__(10),toAbsoluteIndex=__webpack_require__(39);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIndexedObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports){module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(module,exports,__webpack_require__){var path=__webpack_require__(22),global=__webpack_require__(3),aFunction=function(variable){return"function"==typeof variable?variable:undefined};module.exports=function(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(global[namespace]):path[namespace]&&path[namespace][method]||global[namespace]&&global[namespace][method]}},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__values=this&&this.__values||function(o){var m="function"==typeof Symbol&&o[Symbol.iterator],i=0;return m?m.call(o):{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}}};Object.defineProperty(exports,"__esModule",{value:!0});var uuid=__webpack_require__(208);exports.contains=function(root,node){for(;node;){if(node===root)return!0;node=node.parentNode}return!1},exports.findUidFromDom=function(sel){try{for(var node=document.querySelector(sel),uid=void 0;node&&!(uid=node.getAttribute("c-id"));)node=node.parentNode;return uid}catch(e){return undefined}},exports.generateUid=function(){return uuid.v4()},exports.omit=function(obj,fields){var e_1,_a,shallowCopy=__assign({},obj);try{for(var fields_1=__values(fields),fields_1_1=fields_1.next();!fields_1_1.done;fields_1_1=fields_1.next()){delete shallowCopy[fields_1_1.value]}}catch(e_1_1){e_1={error:e_1_1}}finally{try{fields_1_1&&!fields_1_1.done&&(_a=fields_1["return"])&&_a.call(fields_1)}finally{if(e_1)throw e_1.error}}return shallowCopy}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(9),config_1=__webpack_require__(1),request_1=__webpack_require__(53);exports.getUserInputSugList=function(input){var body={query:input,user_id:utils_1.getUserInfo().userId},url=config_1.BASE_URL+"/msg/user/input";return request_1["default"](url,{method:"POST",headers:{"Content-Type":"application/json; charset: UTF-8"},body:body})},exports.simulateMessage=function(hashUrl){var body={hash_id:hashUrl.split("/t/")[1],user_type:"PLATFORM"},url=config_1.BASE_URL+"/msg/trigger";return request_1["default"](url,{method:"POST",headers:{"Content-Type":"application/json; charset: UTF-8"},body:body})},exports.createUserTag=function(attribute){var body={user_id:utils_1.getUserInfo().userId,user_attribute_user_attribute_value:attribute},url=config_1.BASE_URL+"/user/tag";return request_1["default"](url,{method:"POST",headers:{"Content-Type":"application/json; charset: UTF-8"},body:body})}},function(module,exports,__webpack_require__){var DEFAULT=__webpack_require__(109),FilterCSS=__webpack_require__(229);for(var i in(exports=module.exports=function(html,options){return new FilterCSS(options).process(html)}).FilterCSS=FilterCSS,DEFAULT)exports[i]=DEFAULT[i];"undefined"!=typeof window&&(window.filterCSS=module.exports)},function(module,exports){module.exports={indexOf:function(arr,item){var i,j;if(Array.prototype.indexOf)return arr.indexOf(item);for(i=0,j=arr.length;i<j;i++)if(arr[i]===item)return i;return-1},forEach:function(arr,fn,scope){var i,j;if(Array.prototype.forEach)return arr.forEach(fn,scope);for(i=0,j=arr.length;i<j;i++)fn.call(scope,arr[i],i,arr)},trim:function(str){return String.prototype.trim?str.trim():str.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(str){var match=/\s|\n|\t/.exec(str);return match?match.index:-1}}},function(module,exports,__webpack_require__){var content=__webpack_require__(116);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0};options.insertInto=undefined;__webpack_require__(25)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(17)&&!__webpack_require__(7)((function(){return 7!=Object.defineProperty(__webpack_require__(56)("div"),"a",{get:function(){return 7}}).a}))},function(module,exports,__webpack_require__){module.exports=__webpack_require__(36)("native-function-to-string",Function.toString)},function(module,exports,__webpack_require__){var has=__webpack_require__(11),ownKeys=__webpack_require__(71),getOwnPropertyDescriptorModule=__webpack_require__(21),definePropertyModule=__webpack_require__(15);module.exports=function(target,source){for(var keys=ownKeys(source),defineProperty=definePropertyModule.f,getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,i=0;i<keys.length;i++){var key=keys[i];has(target,key)||defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},function(module,exports,__webpack_require__){var getOwnPropertyNamesModule=__webpack_require__(59),getOwnPropertySymbolsModule=__webpack_require__(50),anObject=__webpack_require__(4),Reflect=__webpack_require__(3).Reflect;module.exports=Reflect&&Reflect.ownKeys||function(it){var keys=getOwnPropertyNamesModule.f(anObject(it)),getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?keys.concat(getOwnPropertySymbols(it)):keys}},function(module,exports,__webpack_require__){var has=__webpack_require__(11),toIndexedObject=__webpack_require__(18),arrayIndexOf=__webpack_require__(60)(!1),hiddenKeys=__webpack_require__(49);module.exports=function(object,names){var key,O=toIndexedObject(object),i=0,result=[];for(key in O)!has(hiddenKeys,key)&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var fails=__webpack_require__(7),replacement=/#|\.prototype\./,isForced=function(feature,detection){var value=data[normalize(feature)];return value==POLYFILL||value!=NATIVE&&("function"==typeof detection?fails(detection):!!detection)},normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P";module.exports=isForced},function(module,exports,__webpack_require__){var document=__webpack_require__(3).document;module.exports=document&&document.documentElement},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(7)((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},function(module,exports,__webpack_require__){var validateSetPrototypeOfArguments=__webpack_require__(77);module.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var setter,correctSetter=!1,test={};try{(setter=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(test,[]),correctSetter=test instanceof Array}catch(e){}return function(O,proto){return validateSetPrototypeOfArguments(O,proto),correctSetter?setter.call(O,proto):O.__proto__=proto,O}}():undefined)},function(module,exports,__webpack_require__){var isObject=__webpack_require__(8),anObject=__webpack_require__(4);module.exports=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError("Can't set "+String(proto)+" as a prototype")}},function(module,exports,__webpack_require__){"use strict";var codePointAt=__webpack_require__(139),InternalStateModule=__webpack_require__(38),defineIterator=__webpack_require__(79),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("String Iterator");defineIterator(String,"String",(function(iterated){setInternalState(this,{type:"String Iterator",string:String(iterated),index:0})}),(function(){var point,state=getInternalState(this),string=state.string,index=state.index;return index>=string.length?{value:undefined,done:!0}:(point=codePointAt(string,index,!0),state.index+=point.length,{value:point,done:!1})}))},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(0),createIteratorConstructor=__webpack_require__(140),getPrototypeOf=__webpack_require__(40),setPrototypeOf=__webpack_require__(76),setToStringTag=__webpack_require__(32),hide=__webpack_require__(19),redefine=__webpack_require__(35),IS_PURE=__webpack_require__(37),ITERATOR=__webpack_require__(5)("iterator"),Iterators=__webpack_require__(41),IteratorsCore=__webpack_require__(80),IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,returnThis=function(){return this};module.exports=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var CurrentIteratorPrototype,methods,KEY,getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case"keys":case"values":case"entries":return function(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}},TO_STRING_TAG=NAME+" Iterator",INCORRECT_VALUES_NAME=!1,IterablePrototype=Iterable.prototype,nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT],defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT),anyNativeIterator="Array"==NAME&&IterablePrototype.entries||nativeIterator;if(anyNativeIterator&&(CurrentIteratorPrototype=getPrototypeOf(anyNativeIterator.call(new Iterable)),IteratorPrototype!==Object.prototype&&CurrentIteratorPrototype.next&&(IS_PURE||getPrototypeOf(CurrentIteratorPrototype)===IteratorPrototype||(setPrototypeOf?setPrototypeOf(CurrentIteratorPrototype,IteratorPrototype):"function"!=typeof CurrentIteratorPrototype[ITERATOR]&&hide(CurrentIteratorPrototype,ITERATOR,returnThis)),setToStringTag(CurrentIteratorPrototype,TO_STRING_TAG,!0,!0),IS_PURE&&(Iterators[TO_STRING_TAG]=returnThis))),"values"==DEFAULT&&nativeIterator&&"values"!==nativeIterator.name&&(INCORRECT_VALUES_NAME=!0,defaultIterator=function(){return nativeIterator.call(this)}),IS_PURE&&!FORCED||IterablePrototype[ITERATOR]===defaultIterator||hide(IterablePrototype,ITERATOR,defaultIterator),Iterators[NAME]=defaultIterator,DEFAULT)if(methods={values:getIterationMethod("values"),keys:IS_SET?defaultIterator:getIterationMethod("keys"),entries:getIterationMethod("entries")},FORCED)for(KEY in methods)(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype))&&redefine(IterablePrototype,KEY,methods[KEY]);else $export({target:NAME,proto:!0,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods);return methods}},function(module,exports,__webpack_require__){"use strict";var IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator,getPrototypeOf=__webpack_require__(40),hide=__webpack_require__(19),has=__webpack_require__(11),IS_PURE=__webpack_require__(37),ITERATOR=__webpack_require__(5)("iterator"),BUGGY_SAFARI_ITERATORS=!1;[].keys&&("next"in(arrayIterator=[].keys())?(PrototypeOfArrayIteratorPrototype=getPrototypeOf(getPrototypeOf(arrayIterator)))!==Object.prototype&&(IteratorPrototype=PrototypeOfArrayIteratorPrototype):BUGGY_SAFARI_ITERATORS=!0),IteratorPrototype==undefined&&(IteratorPrototype={}),IS_PURE||has(IteratorPrototype,ITERATOR)||hide(IteratorPrototype,ITERATOR,(function(){return this})),module.exports={IteratorPrototype:IteratorPrototype,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(7)((function(){String(Symbol())}))},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(5)("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},"return":function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR]=function(){return this},Array.from(iteratorWithReturn,(function(){throw 2}))}catch(e){}module.exports=function(exec,SKIP_CLOSING){if(!SKIP_CLOSING&&!SAFE_CLOSING)return!1;var ITERATION_SUPPORT=!1;try{var object={};object[ITERATOR]=function(){return{next:function(){return{done:ITERATION_SUPPORT=!0}}}},exec(object)}catch(e){}return ITERATION_SUPPORT}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(4);module.exports=function(iterator,fn,value,ENTRIES){try{return ENTRIES?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var returnMethod=iterator["return"];throw returnMethod!==undefined&&anObject(returnMethod.call(iterator)),e}}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(41),ITERATOR=__webpack_require__(5)("iterator"),ArrayPrototype=Array.prototype;module.exports=function(it){return it!==undefined&&(Iterators.Array===it||ArrayPrototype[ITERATOR]===it)}},function(module,exports,__webpack_require__){var classof=__webpack_require__(86),ITERATOR=__webpack_require__(5)("iterator"),Iterators=__webpack_require__(41);module.exports=function(it){if(it!=undefined)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports,__webpack_require__){var classofRaw=__webpack_require__(30),TO_STRING_TAG=__webpack_require__(5)("toStringTag"),CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}());module.exports=function(it){var O,tag,result;return it===undefined?"Undefined":null===it?"Null":"string"==typeof(tag=function(it,key){try{return it[key]}catch(e){}}(O=Object(it),TO_STRING_TAG))?tag:CORRECT_ARGUMENTS?classofRaw(O):"Object"==(result=classofRaw(O))&&"function"==typeof O.callee?"Arguments":result}},function(module,exports,__webpack_require__){"use strict";var isArray=__webpack_require__(26),isObject=__webpack_require__(8),toObject=__webpack_require__(13),toLength=__webpack_require__(10),createProperty=__webpack_require__(43),arraySpeciesCreate=__webpack_require__(44),IS_CONCAT_SPREADABLE=__webpack_require__(5)("isConcatSpreadable"),IS_CONCAT_SPREADABLE_SUPPORT=!__webpack_require__(7)((function(){var array=[];return array[IS_CONCAT_SPREADABLE]=!1,array.concat()[0]!==array})),SPECIES_SUPPORT=__webpack_require__(45)("concat"),isConcatSpreadable=function(O){if(!isObject(O))return!1;var spreadable=O[IS_CONCAT_SPREADABLE];return spreadable!==undefined?!!spreadable:isArray(O)},FORCED=!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT;__webpack_require__(0)({target:"Array",proto:!0,forced:FORCED},{concat:function(arg){var i,k,length,len,E,O=toObject(this),A=arraySpeciesCreate(O,0),n=0;for(i=-1,length=arguments.length;i<length;i++)if(E=-1===i?O:arguments[i],isConcatSpreadable(E)){if(n+(len=toLength(E.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(k=0;k<len;k++,n++)k in E&&createProperty(A,n,E[k])}else{if(n>=9007199254740991)throw TypeError("Maximum allowed index exceeded");createProperty(A,n++,E)}return A.length=n,A}})},function(module,exports,__webpack_require__){"use strict";var isArray=__webpack_require__(26),toLength=__webpack_require__(10),bind=__webpack_require__(42),flattenIntoArray=function(target,original,source,sourceLen,start,depth,mapper,thisArg){for(var element,targetIndex=start,sourceIndex=0,mapFn=!!mapper&&bind(mapper,thisArg,3);sourceIndex<sourceLen;){if(sourceIndex in source){if(element=mapFn?mapFn(source[sourceIndex],sourceIndex,original):source[sourceIndex],depth>0&&isArray(element))targetIndex=flattenIntoArray(target,original,element,toLength(element.length),targetIndex,depth-1)-1;else{if(targetIndex>=9007199254740991)throw TypeError();target[targetIndex]=element}targetIndex++}sourceIndex++}return targetIndex};module.exports=flattenIntoArray},function(module,exports,__webpack_require__){"use strict";var toIndexedObject=__webpack_require__(18),addToUnscopables=__webpack_require__(23),Iterators=__webpack_require__(41),InternalStateModule=__webpack_require__(38),defineIterator=__webpack_require__(79),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Array Iterator");module.exports=defineIterator(Array,"Array",(function(iterated,kind){setInternalState(this,{type:"Array Iterator",target:toIndexedObject(iterated),index:0,kind:kind})}),(function(){var state=getInternalState(this),target=state.target,kind=state.kind,index=state.index++;return!target||index>=target.length?(state.target=undefined,{value:undefined,done:!0}):"keys"==kind?{value:index,done:!1}:"values"==kind?{value:target[index],done:!1}:{value:[index,target[index]],done:!1}}),"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(16),toObject=__webpack_require__(13),IndexedObject=__webpack_require__(33),toLength=__webpack_require__(10);module.exports=function(that,callbackfn,argumentsLength,memo,isRight){aFunction(callbackfn);var O=toObject(that),self=IndexedObject(O),length=toLength(O.length),index=isRight?length-1:0,i=isRight?-1:1;if(argumentsLength<2)for(;;){if(index in self){memo=self[index],index+=i;break}if(index+=i,isRight?index<0:length<=index)throw TypeError("Reduce of empty array with no initial value")}for(;isRight?index>=0:length>index;index+=i)index in self&&(memo=callbackfn(memo,self[index],index,O));return memo}},function(module,exports,__webpack_require__){"use strict";var getBuiltIn=__webpack_require__(62),definePropertyModule=__webpack_require__(15),DESCRIPTORS=__webpack_require__(17),SPECIES=__webpack_require__(5)("species");module.exports=function(CONSTRUCTOR_NAME){var C=getBuiltIn(CONSTRUCTOR_NAME),defineProperty=definePropertyModule.f;DESCRIPTORS&&C&&!C[SPECIES]&&defineProperty(C,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){var toString=__webpack_require__(174),ObjectPrototype=Object.prototype;toString!==ObjectPrototype.toString&&__webpack_require__(35)(ObjectPrototype,"toString",toString,{unsafe:!0})},function(module,exports,__webpack_require__){var anObject=__webpack_require__(4),aFunction=__webpack_require__(16),SPECIES=__webpack_require__(5)("species");module.exports=function(O,defaultConstructor){var S,C=anObject(O).constructor;return C===undefined||(S=anObject(C)[SPECIES])==undefined?defaultConstructor:aFunction(S)}},function(module,exports,__webpack_require__){var defer,channel,port,global=__webpack_require__(3),classof=__webpack_require__(30),bind=__webpack_require__(42),html=__webpack_require__(74),createElement=__webpack_require__(56),set=global.setImmediate,clear=global.clearImmediate,process=global.process,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};set&&clear||(set=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){("function"==typeof fn?fn:Function(fn)).apply(undefined,args)},defer(counter),counter},clear=function(id){delete queue[id]},"process"==classof(process)?defer=function(id){process.nextTick(bind(run,id,1))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(bind(run,id,1))}:MessageChannel?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=bind(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer="onreadystatechange"in createElement("script")?function(id){html.appendChild(createElement("script")).onreadystatechange=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(bind(run,id,1),0)}),module.exports={set:set,clear:clear}},function(module,exports,__webpack_require__){var navigator=__webpack_require__(3).navigator;module.exports=navigator&&navigator.userAgent||""},function(module,exports,__webpack_require__){var anObject=__webpack_require__(4),isObject=__webpack_require__(8),newPromiseCapability=__webpack_require__(97);module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},function(module,exports,__webpack_require__){"use strict";var aFunction=__webpack_require__(16),PromiseCapability=function(C){var resolve,reject;this.promise=new C((function($$resolve,$$reject){if(resolve!==undefined||reject!==undefined)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject})),this.resolve=aFunction(resolve),this.reject=aFunction(reject)};module.exports.f=function(C){return new PromiseCapability(C)}},function(module,exports,__webpack_require__){exports.f=__webpack_require__(5)},function(module,exports){var getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);module.exports=function(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}},function(module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function(buf,offset){var i=offset||0,bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join("")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Watcher=function(){function Watcher(data,exp,fn){this.data=data,this.exp=exp,this.fn=fn,this.get()}return Watcher.prototype.get=function(){Store.target=this,this.val=this.data[this.exp],Store.target=null},Watcher.prototype.init=function(node){this.node=node,this.fn(node,this.val)},Watcher.prototype.update=function(newVal){this.val=newVal,this.fn(this.node,newVal)},Watcher}();exports.Watcher=Watcher;var Store=function(){function Store(initData){var _this=this;this.deps=[],this.callbacks=[],this.data={},this.timeid=null;var me=this;Object.keys(initData).forEach((function(key){var val=initData[key];Object.defineProperty(_this.data,key,{enumerable:!0,configurable:!1,get:function(){return Store.target&&me.subscribe(Store.target),val},set:function(newVal){var oldVal=val;val=newVal,me.publish(key,val,oldVal)}})}))}return Store.prototype.getData=function(){return this.data},Store.prototype.subscribe=function(watcher){this.deps.push(watcher)},Store.prototype.unSubscribe=function(watcher){var deps=this.deps;deps.forEach((function(dep,i){dep===watcher&&deps.splice(i,1)}))},Store.prototype.addCallback=function(callback){return this.callbacks.push(callback),callback._id=Symbol("id")},Store.prototype.removeCallback=function(id){var cbs=this.callbacks;cbs.forEach((function(callback,i){callback._id!==id&&callback!==id||cbs.splice(i,1)}))},Store.prototype.publish=function(key,newVal,oldVal){var _this=this;this.timeid||(this.timeid=Promise.resolve(!0).then((function(){var deal=!1;_this.deps.forEach((function(watcher){watcher.exp===key&&(watcher.update(newVal),deal=!0)})),deal||(_this.deps=[],_this.callbacks.forEach((function(callback){return callback(key,newVal,oldVal)}))),_this.timeid=null})))},Store}();exports["default"]=function(initData){return new Store(initData)}},function(module,exports,__webpack_require__){var content=__webpack_require__(213);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0};options.insertInto=undefined;__webpack_require__(25)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var config_1=__webpack_require__(1),utils_1=__webpack_require__(9),request_1=__webpack_require__(53);exports.getSDKConfig=function(pubkey,userInfo){void 0===userInfo&&(userInfo={userId:"",userAvatar:"",nickName:""});var info=utils_1.getUserInfo(),query={version:info.version,source:info.source,pub_key:pubkey};userInfo&&userInfo.userId||info.userId?query.web={nickname:userInfo.nickName,avatar_url:userInfo.userAvatar,user_id:userInfo.userId||info.userId}:query.anonymous=!0;var url=config_1.BASE_URL+"/user/login";return request_1["default"](url,{method:"POST",headers:{"Content-Type":"application/json; charset: UTF-8"},body:query})},exports.getPubkeyByHash=function(hash){var url=config_1.BASE_URL+"/pubkey/get/by/hash";return request_1.postForm(url,{hash:hash})},exports.getStsToken=function(){var url=config_1.BASE_URL+"/resource/oss/auth/write";return request_1["default"](url,{method:"POST",headers:{"Content-Type":"application/json; charset: UTF-8"},body:{}})},exports.getQrcodeByWebSDKLink=function(link){var url=config_1.BASE_URL+"/qrcode/get/by/websdklink";return request_1["default"](url,{method:"POST",headers:{"Content-Type":"application/json; charset: UTF-8"},body:{url:link,size:125}})}},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),"throw":verb(1),"return":verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(218),component_1=__webpack_require__(2),stream_1=__webpack_require__(6),config_1=__webpack_require__(1),message_1=__webpack_require__(28),QuickReplyMsg=function(_super){function QuickReplyMsg(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.moveQuickReplyList=function(direction){if(_this.data.quickReply.length){var replayBoxWidth=_this.getNode().getElementsByClassName("websdk-replayList")[0].clientWidth+36,replyContainer=_this.getNode().querySelector("ul"),nodeList=_this.getNode().querySelectorAll("li"),leftArrow=_this.getNode().getElementsByClassName("web-sdk-left-arrow")[0],rightArrow=_this.getNode().getElementsByClassName("web-sdk-right-arrow")[0];direction&&("right"===direction?QuickReplyMsg.index+=1:QuickReplyMsg.index-=1);var liWidth=0;nodeList.forEach((function(item){liWidth+=item.clientWidth+8})),Math.ceil(liWidth/replayBoxWidth)>=2&&(rightArrow.style.display="inline-block"),QuickReplyMsg.index!==nodeList.length-1&&0!==QuickReplyMsg.index||(QuickReplyMsg.index<=0?leftArrow.style.display="none":rightArrow.style.display="none");for(var leftWidth=0,i=0;i<QuickReplyMsg.index;i++)leftWidth+=nodeList[i].clientWidth+8;replyContainer.style.transform="translateX(-"+leftWidth+"px)",replyContainer.style.transition="all .3s",QuickReplyMsg.index<=nodeList.length-2&&QuickReplyMsg.index>0&&(rightArrow.style.display="inline-block",leftArrow.style.display="inline-block")}},_this}return __extends(QuickReplyMsg,_super),QuickReplyMsg.prototype.create=function(){var _this=this,color=config_1.BACKGROUND_COLOR.find((function(color){return color===_this.data.pageConfig.theme_color}));this.data.fontColorB=Boolean(color)},QuickReplyMsg.prototype.mount=function(){var _this=this;this.useEvents(),this.addEvent("click",".quick-reply",(function(evt){return __awaiter(this,void 0,void 0,(function(){var value,msg,message;return __generator(this,(function(_a){return value=evt.target.innerText,msg=message_1.createTextMsg(value),message=message_1.sendRtMessage(msg.msg_body,msg.msg_type,!0),stream_1["default"].trigger(config_1.STREAM_LISTEN.SEND_MSG,message),this.data.quickReply=[],[2]}))}))})),stream_1["default"].listen(config_1.STREAM_LISTEN.SEND_MSG,(function(message){var newMsg=message.filter((function(item){return item.direction===config_1.MSG_DIRECTION.staff})),quickReply=[];QuickReplyMsg.index=0,newMsg.length&&(quickReply=newMsg[newMsg.length-1].quick_reply),quickReply=quickReply.filter((function(item){return item})),_this.data.quickReply=quickReply,_this.data.quickReply.length&&setTimeout((function(){_this.moveQuickReplyList()}))})),this.addEvent("click",".web-sdk-left-arrow",(function(){_this.moveQuickReplyList("left")})),this.addEvent("click",".web-sdk-right-arrow",(function(){_this.moveQuickReplyList("right")}))},QuickReplyMsg.data={fontColorB:!1,quickReply:[]},QuickReplyMsg.index=0,QuickReplyMsg.template='\n    {% if quickReply.length %}\n      <div class="'+style.quickModal+'">\n        <div class="'+style.arrow+' web-sdk-left-arrow">\n          <span />\n        </div>\n\n        <div class="'+style.replyList+' websdk-replayList">\n          <ul>\n            {% for item in quickReply %}\n              <li\n                class="quick-reply {{ \''+style.fontColor+'\' if fontColorB else \'\' }}"\n                style="background: {{ pageConfig.theme_color}}"\n              >\n                {{ item }}\n              </li>\n            {% endfor %}\n          </ul>\n        </div>\n\n        <div class="'+style.arrow+" "+style.rightArrow+' web-sdk-right-arrow">\n          <span />\n        </div>\n      </div>\n    {% endif %}\n  ',QuickReplyMsg}(component_1["default"]);exports["default"]=QuickReplyMsg},function(module,exports,__webpack_require__){var content=__webpack_require__(224);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0};options.insertInto=undefined;__webpack_require__(25)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(14),component_1=__webpack_require__(2),utils_1=__webpack_require__(9),config_1=__webpack_require__(1),UserMsg_1=__webpack_require__(225),StaffMsg_1=__webpack_require__(240),Msg=function(_super){function Msg(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Msg,_super),Msg.prototype.create=function(){var nowMsg=this.data.msg,lastMsg=this.data.lastMsg;lastMsg&&(parseInt(nowMsg.msg_ts,10)-parseInt(lastMsg.msg_ts,10)>6e4?(this.data.isShowTime=!0,this.data.time=utils_1.getTimeByTimestamp(parseInt(nowMsg.msg_ts,10))):(this.data.isShowTime=!1,this.data.time=""))},Msg.data={direction:config_1.MSG_DIRECTION,isShowTime:!0,time:""},Msg.template='\n    {% if isShowTime %}\n      <p class="'+style.time+"\">{{ time }}</p>\n    {% endif %}\n\n    {% if pageConfig %}\n      {% if msg.msg_type === 'NOTICE' %}\n        <p class=\""+style.tips+'">{{ msg.body.content }}</p>\n      {% endif %}\n\n      {% if (msg.direction === direction.user) and (msg.msg_type !== \'EVENT\') %}\n        {% component name="UserMsg",msg=msg,pageConfig=pageConfig,fullScreen=fullScreen %}\n      {% elif msg.direction === direction.staff %}\n        {% component name="StaffMsg",msg=msg,pageConfig=pageConfig,isShowReportBtn=isShowReportBtn,fullScreen=fullScreen %}\n      {% endif %}\n    {% endif %}\n  ',Msg.components=[UserMsg_1["default"],StaffMsg_1["default"]],Msg}(component_1["default"]);exports["default"]=Msg},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var component_1=__webpack_require__(2),TextContent_1=__webpack_require__(226),ImgContent_1=__webpack_require__(232),ShareLinkContent_1=__webpack_require__(233),FileContent_1=__webpack_require__(234),AudioContent_1=__webpack_require__(235),VideoContent_1=__webpack_require__(236),RichTextContent_1=__webpack_require__(237),MsgContent=function(_super){function MsgContent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(MsgContent,_super),MsgContent.template="\n  {% if msg.msg_type === 'TEXT' %}\n    {% component name=\"TextContent\",msg=msg,pageConfig=pageConfig %}\n  {% endif %}\n\n  {% if msg.msg_type === 'IMAGE' %}\n    {% component name=\"ImgContent\",body=msg.msg_body %}\n  {% endif %}\n\n  {% if msg.msg_type === 'VIDEO' %}\n    {% component name=\"VideoContent\",body=msg.msg_body %}\n  {% endif %}\n\n  {% if msg.msg_type === 'VOICE' %}\n    {% component name=\"AudioContent\",body=msg.msg_body,pageConfig=pageConfig %}\n  {% endif %}\n\n  {% if msg.msg_type === 'SHARELINK' %}\n    {% component name=\"ShareLinkContent\",body=msg.msg_body %}\n  {% endif %}\n\n  {% if msg.msg_type === 'FILE' %}\n    {% component name=\"FileContent\",body=msg.msg_body,pageConfig=pageConfig %}\n  {% endif %}\n\n  {% if msg.msg_type === 'RICH_TEXT' %}\n    {% component name=\"RichTextContent\",body=msg.msg_body,pageConfig=pageConfig,fullScreen=fullScreen %}\n  {% endif %}\n  ",MsgContent.components=[TextContent_1["default"],ImgContent_1["default"],ShareLinkContent_1["default"],FileContent_1["default"],AudioContent_1["default"],VideoContent_1["default"],RichTextContent_1["default"]],MsgContent}(component_1["default"]);exports["default"]=MsgContent},function(module,exports,__webpack_require__){var FilterCSS=__webpack_require__(65).FilterCSS,getDefaultCSSWhiteList=__webpack_require__(65).getDefaultWhiteList,_=__webpack_require__(66);function getDefaultWhiteList(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var defaultCSSFilter=new FilterCSS;function escapeHtml(html){return html.replace(REGEXP_LT,"&lt;").replace(REGEXP_GT,"&gt;")}var REGEXP_LT=/</g,REGEXP_GT=/>/g,REGEXP_QUOTE=/"/g,REGEXP_QUOTE_2=/&quot;/g,REGEXP_ATTR_VALUE_1=/&#([a-zA-Z0-9]*);?/gim,REGEXP_ATTR_VALUE_COLON=/&colon;?/gim,REGEXP_ATTR_VALUE_NEWLINE=/&newline;?/gim,REGEXP_DEFAULT_ON_TAG_ATTR_4=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,REGEXP_DEFAULT_ON_TAG_ATTR_7=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,REGEXP_DEFAULT_ON_TAG_ATTR_8=/u\s*r\s*l\s*\(.*/gi;function escapeQuote(str){return str.replace(REGEXP_QUOTE,"&quot;")}function unescapeQuote(str){return str.replace(REGEXP_QUOTE_2,'"')}function escapeHtmlEntities(str){return str.replace(REGEXP_ATTR_VALUE_1,(function(str,code){return"x"===code[0]||"X"===code[0]?String.fromCharCode(parseInt(code.substr(1),16)):String.fromCharCode(parseInt(code,10))}))}function escapeDangerHtml5Entities(str){return str.replace(REGEXP_ATTR_VALUE_COLON,":").replace(REGEXP_ATTR_VALUE_NEWLINE," ")}function clearNonPrintableCharacter(str){for(var str2="",i=0,len=str.length;i<len;i++)str2+=str.charCodeAt(i)<32?" ":str.charAt(i);return _.trim(str2)}function friendlyAttrValue(str){return str=clearNonPrintableCharacter(str=escapeDangerHtml5Entities(str=escapeHtmlEntities(str=unescapeQuote(str))))}function escapeAttrValue(str){return str=escapeHtml(str=escapeQuote(str))}var STRIP_COMMENT_TAG_REGEXP=/<!--[\s\S]*?-->/g;exports.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},exports.getDefaultWhiteList=getDefaultWhiteList,exports.onTag=function(tag,html,options){},exports.onIgnoreTag=function(tag,html,options){},exports.onTagAttr=function(tag,name,value){},exports.onIgnoreTagAttr=function(tag,name,value){},exports.safeAttrValue=function(tag,name,value,cssFilter){if(value=friendlyAttrValue(value),"href"===name||"src"===name){if("#"===(value=_.trim(value)))return"#";if("http://"!==value.substr(0,7)&&"https://"!==value.substr(0,8)&&"mailto:"!==value.substr(0,7)&&"tel:"!==value.substr(0,4)&&"#"!==value[0]&&"/"!==value[0])return""}else if("background"===name){if(REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex=0,REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value))return""}else if("style"===name){if(REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex=0,REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value))return"";if(REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex=0,REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)&&(REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex=0,REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)))return"";!1!==cssFilter&&(value=(cssFilter=cssFilter||defaultCSSFilter).process(value))}return value=escapeAttrValue(value)},exports.escapeHtml=escapeHtml,exports.escapeQuote=escapeQuote,exports.unescapeQuote=unescapeQuote,exports.escapeHtmlEntities=escapeHtmlEntities,exports.escapeDangerHtml5Entities=escapeDangerHtml5Entities,exports.clearNonPrintableCharacter=clearNonPrintableCharacter,exports.friendlyAttrValue=friendlyAttrValue,exports.escapeAttrValue=escapeAttrValue,exports.onIgnoreTagStripAll=function(){return""},exports.StripTagBody=function(tags,next){"function"!=typeof next&&(next=function(){});var isRemoveAllTag=!Array.isArray(tags),removeList=[],posStart=!1;return{onIgnoreTag:function(tag,html,options){if(function(tag){return!!isRemoveAllTag||-1!==_.indexOf(tags,tag)}(tag)){if(options.isClosing){var ret="[/removed]",end=options.position+ret.length;return removeList.push([!1!==posStart?posStart:options.position,end]),posStart=!1,ret}return posStart||(posStart=options.position),"[removed]"}return next(tag,html,options)},remove:function(html){var rethtml="",lastPos=0;return _.forEach(removeList,(function(pos){rethtml+=html.slice(lastPos,pos[0]),lastPos=pos[1]})),rethtml+=html.slice(lastPos)}}},exports.stripCommentTag=function(html){return html.replace(STRIP_COMMENT_TAG_REGEXP,"")},exports.stripBlankChar=function(html){var chars=html.split("");return(chars=chars.filter((function(char){var c=char.charCodeAt(0);return 127!==c&&(!(c<=31)||(10===c||13===c))}))).join("")},exports.cssFilter=defaultCSSFilter,exports.getDefaultCSSWhiteList=getDefaultCSSWhiteList},function(module,exports){function getDefaultWhiteList(){var whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return whiteList}var REGEXP_URL_JAVASCRIPT=/javascript\s*\:/gim;exports.whiteList=getDefaultWhiteList(),exports.getDefaultWhiteList=getDefaultWhiteList,exports.onAttr=function(name,value,options){},exports.onIgnoreAttr=function(name,value,options){},exports.safeAttrValue=function(name,value){return REGEXP_URL_JAVASCRIPT.test(value)?"":value}},function(module,exports){module.exports={indexOf:function(arr,item){var i,j;if(Array.prototype.indexOf)return arr.indexOf(item);for(i=0,j=arr.length;i<j;i++)if(arr[i]===item)return i;return-1},forEach:function(arr,fn,scope){var i,j;if(Array.prototype.forEach)return arr.forEach(fn,scope);for(i=0,j=arr.length;i<j;i++)fn.call(scope,arr[i],i,arr)},trim:function(str){return String.prototype.trim?str.trim():str.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(str){return String.prototype.trimRight?str.trimRight():str.replace(/(\s*$)/g,"")}}},function(module,exports,__webpack_require__){var _=__webpack_require__(66);function getTagName(html){var i=_.spaceIndex(html);if(-1===i)var tagName=html.slice(1,-1);else tagName=html.slice(1,i+1);return"/"===(tagName=_.trim(tagName).toLowerCase()).slice(0,1)&&(tagName=tagName.slice(1)),"/"===tagName.slice(-1)&&(tagName=tagName.slice(0,-1)),tagName}function isClosing(html){return"</"===html.slice(0,2)}var REGEXP_ILLEGAL_ATTR_NAME=/[^a-zA-Z0-9_:\.\-]/gim;function findNextEqual(str,i){for(;i<str.length;i++){var c=str[i];if(" "!==c)return"="===c?i:-1}}function findBeforeEqual(str,i){for(;i>0;i--){var c=str[i];if(" "!==c)return"="===c?i:-1}}function stripQuoteWrap(text){return function(text){return'"'===text[0]&&'"'===text[text.length-1]||"'"===text[0]&&"'"===text[text.length-1]}(text)?text.substr(1,text.length-2):text}exports.parseTag=function(html,onTag,escapeHtml){var rethtml="",lastPos=0,tagStart=!1,quoteStart=!1,currentPos=0,len=html.length,currentTagName="",currentHtml="";for(currentPos=0;currentPos<len;currentPos++){var c=html.charAt(currentPos);if(!1===tagStart){if("<"===c){tagStart=currentPos;continue}}else if(!1===quoteStart){if("<"===c){rethtml+=escapeHtml(html.slice(lastPos,currentPos)),tagStart=currentPos,lastPos=currentPos;continue}if(">"===c){rethtml+=escapeHtml(html.slice(lastPos,tagStart)),currentTagName=getTagName(currentHtml=html.slice(tagStart,currentPos+1)),rethtml+=onTag(tagStart,rethtml.length,currentTagName,currentHtml,isClosing(currentHtml)),lastPos=currentPos+1,tagStart=!1;continue}if(('"'===c||"'"===c)&&"="===html.charAt(currentPos-1)){quoteStart=c;continue}}else if(c===quoteStart){quoteStart=!1;continue}}return lastPos<html.length&&(rethtml+=escapeHtml(html.substr(lastPos))),rethtml},exports.parseAttr=function(html,onAttr){var lastPos=0,retAttrs=[],tmpName=!1,len=html.length;function addAttr(name,value){if(!((name=(name=_.trim(name)).replace(REGEXP_ILLEGAL_ATTR_NAME,"").toLowerCase()).length<1)){var ret=onAttr(name,value||"");ret&&retAttrs.push(ret)}}for(var i=0;i<len;i++){var j,c=html.charAt(i);if(!1!==tmpName||"="!==c)if(!1===tmpName||i!==lastPos||'"'!==c&&"'"!==c||"="!==html.charAt(i-1))if(/\s|\n|\t/.test(c)){if(html=html.replace(/\s|\n|\t/g," "),!1===tmpName){if(-1===(j=findNextEqual(html,i))){addAttr(_.trim(html.slice(lastPos,i))),tmpName=!1,lastPos=i+1;continue}i=j-1;continue}if(-1===(j=findBeforeEqual(html,i-1))){addAttr(tmpName,stripQuoteWrap(_.trim(html.slice(lastPos,i)))),tmpName=!1,lastPos=i+1;continue}}else;else{if(-1===(j=html.indexOf(c,i+1)))break;addAttr(tmpName,_.trim(html.slice(lastPos+1,j))),tmpName=!1,lastPos=(i=j)+1}else tmpName=html.slice(lastPos,i),lastPos=i+1}return lastPos<html.length&&(!1===tmpName?addAttr(html.slice(lastPos)):addAttr(tmpName,stripQuoteWrap(_.trim(html.slice(lastPos))))),_.trim(retAttrs.join(" "))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={ChatInput:{placeholder:"Enter text to reply",pcPlaceholder:"Enter text to reply，shift+enter to change row"},Satisfaction:{thumbUp:"Solved",badAnswer:"Unsolved",wrongAnswer:"Mismatch",report:"Report"},Message:{historyMsgTips:"previous messages",noMore:"no more previous messages",download:"download",audio:"Click to play"},Logo:{waterMark:"https://cdn.wul.ai/sdk/logo_en.png"},Tips:{"delete":"The bot has been deleted and can not be uesd",reload:"reload",alertTitle:"prompt"},QCode:{copy:"I created an intelligent chatbot on the platform. Let's experience it",successTxt:"copy succeeded",message:"Scan code to experience chatbot ",copyBtn:"Share address quickly"},Uploader:{imgSize:"Picture size cannot exceed 10MB",imgType:"Picture type only supports jpeg/png/gif",errMsg:"File upload failed"},NetWork:{offline:"Network disconnected,please check it.",rongMsg:"The current dialog window is invalid. You can restart the dialog after refreshing"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={ChatInput:{placeholder:"输入文字进行回复",pcPlaceholder:"输入文字进行回复，Shift+Enter换行"},Satisfaction:{thumbUp:"满意",badAnswer:"内容不满意",wrongAnswer:"回答不匹配",report:"举报"},Message:{historyMsgTips:"以上是历史消息",noMore:"没有更多历史消息了",download:"下载",audio:"点击播放"},Logo:{waterMark:"https://cdn.wul.ai/sdk/logo_zh.png"},Tips:{"delete":"该机器人已被删除，暂无法使用",reload:"刷新",alertTitle:"提示"},QCode:{copy:"我在平台创建了一个智能对话机器人，快来体验一下吧",successTxt:"复制地址成功",message:"扫码体验对话机器人",copyBtn:"快速分享网址"},Uploader:{imgSize:"图片大小不能超过10MB哦",imgType:"图片类型仅支持 jpeg/png/gif",errMsg:"上传文件失败"},NetWork:{offline:"网络已断开,请检查网络设置",rongMsg:"已在其他页面发起对话，当前对话窗口失效，刷新后可以重新发起对话"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var views_1=__webpack_require__(115);exports["default"]=views_1["default"]},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),"throw":verb(1),"return":verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(67),copy=__webpack_require__(118),component_1=__webpack_require__(2),config_1=__webpack_require__(1),utils_1=__webpack_require__(9),rongcloud_1=__webpack_require__(215),stream_1=__webpack_require__(6),app_data_1=__webpack_require__(103),user_data_1=__webpack_require__(64),message_data_1=__webpack_require__(54),message_1=__webpack_require__(28),ChatInput_1=__webpack_require__(217),HistoryMsgPanel_1=__webpack_require__(223),RtMsgPanel_1=__webpack_require__(243),QuickReplyMsg_1=__webpack_require__(104),Error_1=__webpack_require__(245),ImgModal_1=__webpack_require__(247),ReloadModal_1=__webpack_require__(248),Toast_1=__webpack_require__(249),message_2=__webpack_require__(250),storage=null;try{storage=window.localStorage}catch(err){storage=null,alert("设置了cookie禁调，无法接收消息，打开cookie访问权限后可正常使用"),location.reload(!0)}var App=function(_super){function App(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(App,_super),App.prototype.create=function(){return __awaiter(this,void 0,void 0,(function(){var err_1,query,pubkey,hash,err_3,data,language,userInfo,input,result,info,err_4,err_5,_this=this;return __generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,3,,4]),[4,utils_1.loadAliOSS()];case 1:return _a.sent(),[4,utils_1.loadNunjucks()];case 2:return _a.sent(),[3,4];case 3:return err_1=_a.sent(),console.error("nunjucks模板加载失败",err_1),[3,4];case 4:return query=utils_1.getUrlQuery(),pubkey="",Object.keys(query).length?[3,5]:(pubkey=this.data.pubkey,this.data.urlStatus=!1,[3,12]);case 5:this.data.hideFooter=!0,hash=query.app,_a.label=6;case 6:return _a.trys.push([6,8,,9]),[4,app_data_1.getPubkeyByHash(hash)];case 7:if(!(data=_a.sent()).pubkey)throw this.data.urlStatus=!1,new Error("app hash不存在");return pubkey=data.pubkey,[3,9];case 8:return _a.sent(),this.data.urlStatus=!1,[3,9];case 9:return _a.trys.push([9,11,,12]),[4,app_data_1.getQrcodeByWebSDKLink(location.href)];case 10:return result=_a.sent(),this.data.qrcodeBase64=result.qrcode_base64,[3,12];case 11:return err_3=_a.sent(),console.error(err_3.message),[3,12];case 12:if(this.data.fullScreen&&(this.data.hideFooter=!0),!pubkey)return[2,!1];storage&&storage.setItem("SDK_PUBKEY",pubkey),_a.label=13;case 13:return _a.trys.push([13,20,,21]),[4,app_data_1.getSDKConfig(pubkey,this.data.userInfo)];case 14:data=_a.sent(),language=__webpack_require__(252)("./"+data.page_config.language_code)["default"],window.appLocale=language,this.data.qCode.message=window.appLocale.QCode.message,this.data.qCode.copyBtn=window.appLocale.QCode.copyBtn,sessionStorage.getItem("WINDOW_ID")||sessionStorage.setItem("WINDOW_ID",data.user_id+"_"+Date.now()),this.data.pageConfig=__assign({},data.page_config,{title:data.page_config.title||"网页机器人",theme_color:data.page_config.theme_color||"#1F77F3",bot_avatar:data.page_config.bot_avatar||"https://aibici-test.oss-cn-beijing.aliyuncs.com/rc-upload-1534856515077-31534856527229.png",user_avatar:data.page_config.user_avatar||"https://aibici-test.oss-cn-beijing.aliyuncs.com/rc-upload-1534854173706-41534855030375.png",entry_image_size:data.page_config.entry_image_size||64,screen_ratio:data.page_config.screen_ratio||100}),document.title=Object.keys(query).length?this.data.pageConfig.title:document.title,this.data.avatarShape=config_1.HEADER_AVATAR_SHAPE[data.page_config.avatar_shape],this.data.borderShape=config_1.FRAME_SHAPE[data.page_config.frame_shape],this.data.isLoadHistory=data.interaction_config.show_history,this.data.isShowSug=data.interaction_config.fuzzy_sug,this.data.popAfterClose=data.interaction_config.pop_after_close,this.data.autoPop=data.interaction_config.auto_pop,this.data.isShowReportBtn=data.interaction_config.enable_report,this.data.isShowWulaiLogo=data.interaction_config.enable_wulai_ad,this.data.isShowHeaderAvatar=2!==data.page_config.header_chose&&Boolean(data.page_config.header_avatar),this.data.startTs=data.start_ts,window.__USER_PUBKEY__=pubkey,window.__USERID__=this.data.userInfo?this.data.userInfo.userId:data.user_id,userInfo={},input={userId:window.__USERID__,pubkey:pubkey},storage&&!storage.getItem("SDK_USER_INFO")?(userInfo[""+pubkey]=input,storage.setItem("SDK_USER_INFO",JSON.stringify(userInfo))):storage&&(result=storage.getItem("SDK_USER_INFO"),(info=JSON.parse(result))[pubkey]={userId:window.__USERID__,pubkey:pubkey},storage.setItem("SDK_USER_INFO",JSON.stringify(info))),_a.label=15;case 15:return _a.trys.push([15,18,,19]),[4,utils_1.loadRongCloud()];case 16:return _a.sent(),[4,rongcloud_1.init(data.rong_key,data.rong_token)];case 17:return _a.sent(),setTimeout((function(){var enterMsg=message_1.createEventMsg("ENTER");message_data_1.sendMsg(enterMsg)}),500),[3,19];case 18:return err_4=_a.sent(),console.error("融云加载失败了。",err_4),[3,19];case 19:return[3,21];case 20:return err_5=_a.sent(),console.warn(err_5),[3,21];case 21:try{this.data.tagValues&&this.data.tagValues.length&&user_data_1.createUserTag(this.data.tagValues)}catch(err){console.warn(err)}return window.addEventListener("offline",(function(){stream_1["default"].trigger(config_1.STREAM_LISTEN.ERROR_TIPS,{isShow:!0,message:window.appLocale.NetWork.offline})})),window.addEventListener("online",(function(){stream_1["default"].trigger(config_1.STREAM_LISTEN.ERROR_TIPS,{isShow:!1}),rongcloud_1["default"].Monitor.reconnect()})),setTimeout((function(){var wulai=document.getElementById("websdk-wulai"),sdkModal=document.getElementById("websdk-modal"),entryPng=document.getElementById("entry-png"),closeEntryPng=document.getElementById("close-entry-png");_this.data.autoOpen||Object.keys(query).length?(App.enterTimes+=1,wulai.style.display=App.display,entryPng&&closeEntryPng&&(entryPng.style.opacity="1",closeEntryPng.style.opacity="0",sdkModal.style.display="block")):(wulai.style.display="none",sdkModal.style.display="none",entryPng&&closeEntryPng&&(entryPng.style.opacity="0",closeEntryPng.style.opacity="1"),_this.data.autoPop>0&&_this.applySillyCheck("autoPop",_this.data.autoPop));var sheet=document.createElement("style");sheet.type="text/css",sheet.innerHTML="\n        .video-hover-icon-bg:hover .play-icon {\n          background: "+_this.data.pageConfig.theme_color+" !important;\n        }\n        .staff-msg-link-color .staff-msg-file a {\n          color: "+_this.data.pageConfig.theme_color+";\n          filter: brightness(0.95);\n        }\n        .wulai-web-sdk-upload-icon:hover svg #instagram {\n          fill: "+_this.data.pageConfig.theme_color+";\n        }\n\n        @media screen and (min-width: 320px) and (max-width: 414px) {\n          .web-sdk-screen-ratio {\n            height: "+_this.data.pageConfig.screen_ratio+"% !important;\n            top: initial !important;\n          }\n        }\n      ",document.head.appendChild(sheet)})),[2]}}))}))},App.prototype.mount=function(){var _this=this;this.useEvents(),this.addEvent("click",".close-btn",(function(){var wulai=document.getElementById("websdk-wulai");App.toggleSDkVisible(),"none"===wulai.style.display&&_this.data.popAfterClose>0?_this.applySillyCheck("popAfter",_this.data.popAfterClose):App.stopSillyCheck()})),this.addEvent("click",".websdk-copy-input-url",(function(){var QCode=window.appLocale.QCode,content=QCode.copy+" "+location.href;copy(content),stream_1["default"].trigger(config_1.STREAM_LISTEN.MESSAGE,{isShow:!0,message:QCode.successTxt,type:"success"})}))},App.toggleSDkVisible=function(){var wulai=document.getElementById("websdk-wulai"),sdkModal=document.getElementById("websdk-modal"),entryPng=document.getElementById("entry-png"),closeEntryPng=document.getElementById("close-entry-png");wulai.style.display="none"===wulai.style.display?App.display:"none",sdkModal.style.display="none"===wulai.style.display?"none":"block",entryPng.style.opacity="none"===wulai.style.display?"0":"1",closeEntryPng.style.opacity="none"===wulai.style.display?"1":"0","none"!==wulai.style.display&&(App.enterTimes+=1,App.stopSillyCheck(),App.scrollMsgListToBottom())},App.stopSillyCheck=function(){App.timer&&clearInterval(App.timer),App.autoTimer&&clearInterval(App.autoTimer),App.timer=0,App.autoTimer=0},App.scrollMsgListToBottom=function(){if(App.enterTimes<=1){var $content=document.getElementById("msg-panel");utils_1.scrollToBottom($content)}},App.prototype.applySillyCheck=function(type,time){var wulai=document.getElementById("websdk-wulai"),entryPng=document.getElementById("entry-png"),closeEntryPng=document.getElementById("close-entry-png"),id=setInterval((function(){App.enterTimes+=1,wulai.style.display=App.display,entryPng.style.opacity="1",closeEntryPng.style.opacity="0",App.stopSillyCheck(),App.scrollMsgListToBottom()}),1e3*time);"popAfter"===type?App.timer=id:App.autoTimer=id},App.timer=0,App.autoTimer=0,App.display=utils_1.isBelowIE9()?"block":"flex",App.enterTimes=0,App.data={autoOpen:!1,pageConfig:null,avatarShape:"",isLoadHistory:!1,quickReply:[],isShowBox:!0,isShowSug:!1,isShowHeaderAvatar:!1,borderShape:"",popAfterClose:0,autoPop:0,hideFooter:!1,startTs:"",urlStatus:!0,qrcodeBase64:"",isShowReportBtn:!1,isShowWulaiLogo:!1,pos:{right:"16px",bottom:"16px"},qCode:{message:"",copyBtn:""}},App.template='<div class="'+style.app+" {{'"+style.largeApp+'\' if hideFooter else \'\' }}" style="right: {{ pos.right }};bottom: {{ pos.bottom }}">\n    {# 错误提示 #}\n    <component name="ErrorHeader", :hideFooter="hideFooter" />\n    {# 图片浮层 #}\n    <component name="ImgModal" />\n    <component name="Message" />\n\n    <div class="'+style.modal+'" id="websdk-modal"></div>\n\n    <div class="'+style.wrapper+'">\n      <div\n        class="'+style.wulai+" {{'"+style.largeWulai+'\' if hideFooter else \'\' }} {{ borderShape }} web-sdk-screen-ratio"\n        id="websdk-wulai"\n      >\n        <div class="'+style.header+'">\n          {% if isShowHeaderAvatar %}\n            <div class="'+style.avatar+' {{ avatarShape }}" style="background: {{ pageConfig.theme_color }}">\n              <img src="{{ pageConfig.header_avatar }}?x-oss-process=image/resize,w_72,h_72/quality,q_80" alt="header-avatar"/>\n            </div>\n          {% endif %}\n          <div class="'+style.title+'">{{ pageConfig.title }}</div>\n\n          {% if hideFooter === false %}\n            <div class="close-btn '+style.closeBtn+'">\n              <img src="https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/9c2ad2c1-1ffb-4f2c-8a2b-460109be9408.png" alt="close-btn"/>\n            </div>\n          {% endif %}\n        </div>\n\n        <div class="'+style.main+'" id="msg-panel">\n          {# 历史消息 #}\n          {% if isLoadHistory %}\n            {% component name="HistoryMsgPanel",pageConfig=pageConfig,startTs=startTs,fullScreen=fullScreen %}\n          {% endif %}\n\n          {# 实时消息 #}\n          {% if pageConfig %}\n            <component name="RtMsgPanel", :pageConfig="pageConfig", :isLoadHistory="isLoadHistory", :isShowReportBtn="isShowReportBtn", :fullScreen="fullScreen" />\n          {% endif %}\n        </div>\n\n        <div class="'+style.footer+'">\n          <component name="Toast"/>\n\n          {% if pageConfig %}\n            {% component name="ChatInput",pageConfig=pageConfig,isShowSug=isShowSug,isShowWulaiLogo=isShowWulaiLogo %}\n          {% endif %}\n        </div>\n\n        {# 弹窗提示 #}\n        <component name="ReLoadModal" />\n      </div>\n\n      {% if urlStatus %}\n        <div class="'+style.qCode+'">\n          <img src="{{ qrcodeBase64 }}" alt="qrcod"/>\n          <p>{{ qCode.message }}</p>\n          <button class="websdk-copy-input-url">{{ qCode.copyBtn }}</button>\n        </div>\n      {% endif %}\n    </div>\n\n    {% if pageConfig and (hideFooter === false) %}\n      <div\n        class="close-btn '+style.entryImg+'"\n        style="background: {{ pageConfig.theme_color }}; width: {{ pageConfig.entry_image_size }}px; height: {{ pageConfig.entry_image_size }}px"\n      >\n        <img\n          class="show-avatar '+style.showAvatar+'"\n          src="https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/6c64b84b-c00f-4eb4-b358-6880766adaa7.png"\n          id="entry-png"\n        />\n\n        <img\n          id="close-entry-png"\n          class="close-avatar '+style.closeAvatar+'"\n          style="width: {{ pageConfig.entry_image_size }}px; height: {{ pageConfig.entry_image_size }}px"\n          src="{{ pageConfig.entry_image if pageConfig.entry_image else \'https://aibici-test.oss-cn-beijing.aliyuncs.com/rc-upload-1534856515077-31534856527229.png\' }}"\n        />\n      </div>\n    {% endif %}\n  </div>',App.components=[HistoryMsgPanel_1["default"],RtMsgPanel_1["default"],ChatInput_1["default"],QuickReplyMsg_1["default"],Error_1["default"],ImgModal_1["default"],ReloadModal_1["default"],Toast_1["default"],message_2["default"]],App}(component_1["default"]);exports["default"]=App},function(module,exports,__webpack_require__){(exports=module.exports=__webpack_require__(24)(!1)).push([module.i,".app_2otyp {\n  position: fixed;\n  z-index: 9999;\n  text-align: right;\n  -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\n}\n.app_2otyp ::-webkit-scrollbar {\n  display: none;\n}\n.app_2otyp .entryImg_2YFE0 {\n  width: 64px;\n  height: 64px;\n  margin-top: 10px;\n  display: inline-block;\n  border-radius: 50%;\n  cursor: pointer;\n  position: relative;\n  box-shadow: 0 8px 16px 0 rgba(66, 91, 109, 0.3);\n}\n.app_2otyp .entryImg_2YFE0 img {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n}\n.app_2otyp .entryImg_2YFE0 .showAvatar_5yBBr {\n  width: 60%;\n}\n.app_2otyp .entryImg_2YFE0 .closeAvatar_2iD-5 {\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n}\n.app_2otyp .wulai_1VoXd {\n  width: 375px;\n  height: 668px;\n  max-height: calc(100vh - 106px);\n  text-align: left;\n  background: #eceef0;\n  overflow: hidden;\n  display: none;\n  flex-direction: column;\n  transition: all 0.2s ease-in-out;\n  box-shadow: 0 36px 120px 0 rgba(66, 91, 109, 0.3);\n  border: 1px solid #D9DEE2;\n  position: relative;\n}\n.app_2otyp .wulai_1VoXd .header_2putr {\n  height: 64px;\n  padding: 0 16px;\n  display: -webkit-flex;\n  display: -ms-flex;\n  display: flex;\n  width: 100%;\n  box-sizing: border-box;\n}\n.app_2otyp .wulai_1VoXd .header_2putr img {\n  display: inline-block;\n}\n.app_2otyp .wulai_1VoXd .header_2putr .avatar_1PhUG {\n  width: 36px;\n  height: 36px;\n  margin-top: 12px;\n  overflow: hidden;\n  float: left;\n}\n.app_2otyp .wulai_1VoXd .header_2putr .avatar_1PhUG img {\n  width: 100%;\n  height: 100%;\n}\n.app_2otyp .wulai_1VoXd .header_2putr .circle_3qT5Q {\n  border-radius: 50%;\n}\n.app_2otyp .wulai_1VoXd .header_2putr .square_3H07i {\n  border-radius: 0;\n}\n.app_2otyp .wulai_1VoXd .header_2putr .title_2S4qD {\n  flex: 1;\n  float: left;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 64px;\n  padding-left: 10px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.app_2otyp .wulai_1VoXd .header_2putr .closeBtn_ySuAu {\n  width: 50px;\n  text-align: right;\n  line-height: 60px;\n  float: right;\n  cursor: pointer;\n}\n.app_2otyp .wulai_1VoXd .header_2putr .closeBtn_ySuAu img {\n  width: 24px;\n  height: 24px;\n  vertical-align: middle;\n}\n.app_2otyp .wulai_1VoXd .main_2YzHy {\n  flex: 1;\n  height: 250px;\n  overflow-y: scroll;\n  padding: 0 16px;\n}\n.app_2otyp .wulai_1VoXd .footer_i20W0 {\n  width: 100%;\n  position: relative;\n}\n.app_2otyp .boderSquare_iKp_2 {\n  border-radius: 1px;\n}\n.app_2otyp .borderCircle_6xs9T {\n  border-radius: 32px;\n}\n.app_2otyp .show_2DkJ9 {\n  direction: block;\n}\n.app_2otyp .close_2ArAl {\n  display: none;\n}\n.largeApp_A1EOJ {\n  position: static;\n  position: initial;\n}\n.largeApp_A1EOJ .wrapper_3zML0 {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 5%;\n}\n.largeApp_A1EOJ .wrapper_3zML0 .largeWulai_3m-0f {\n  width: 80%;\n  max-width: 800px;\n  flex: 1;\n  margin-right: 48px;\n  display: block;\n}\n.largeApp_A1EOJ .wrapper_3zML0 .qCode_3xFQg img {\n  width: 148px;\n}\n.largeApp_A1EOJ .wrapper_3zML0 .qCode_3xFQg p {\n  font-size: 14px;\n  color: #425b6d;\n  margin: 0;\n}\n.largeApp_A1EOJ .wrapper_3zML0 .qCode_3xFQg button {\n  height: 36px;\n  border-radius: 4px;\n  border: none;\n  background: #1f77f3;\n  font-size: 14px;\n  color: #fff;\n  margin-top: 24px;\n  cursor: pointer;\n}\n.largeApp_A1EOJ .wrapper_3zML0 .qCode_3xFQg button:focus {\n  outline: none;\n}\n@media screen and (min-width: 320px) and (max-width: 414px) {\n  .app_2otyp {\n    position: initial;\n  }\n  .app_2otyp .wulai_1VoXd {\n    width: 100%;\n    max-height: 100vh;\n    border-radius: initial;\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 9999;\n  }\n  .app_2otyp .entryImg_2YFE0 {\n    bottom: 16px;\n    position: fixed;\n    right: 16px;\n    z-index: 99;\n  }\n  .app_2otyp .modal_1_jG- {\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.4);\n    position: fixed;\n    left: 0;\n    top: 0;\n    z-index: 100;\n  }\n  .largeApp_A1EOJ .wrapper_3zML0 .largeWulai_3m-0f {\n    width: 100%;\n  }\n  .largeApp_A1EOJ .wrapper_3zML0 .qCode_3xFQg {\n    display: none;\n  }\n}\n",""]),exports.locals={app:"app_2otyp",entryImg:"entryImg_2YFE0",showAvatar:"showAvatar_5yBBr",closeAvatar:"closeAvatar_2iD-5",wulai:"wulai_1VoXd",header:"header_2putr",avatar:"avatar_1PhUG",circle:"circle_3qT5Q",square:"square_3H07i",title:"title_2S4qD",closeBtn:"closeBtn_ySuAu",main:"main_2YzHy",footer:"footer_i20W0",boderSquare:"boderSquare_iKp_2",borderCircle:"borderCircle_6xs9T",show:"show_2DkJ9",close:"close_2ArAl",largeApp:"largeApp_A1EOJ",wrapper:"wrapper_3zML0",largeWulai:"largeWulai_3m-0f",qCode:"qCode_3xFQg",modal:"modal_1_jG-"}},function(module,exports){module.exports=function(css){var location="undefined"!=typeof window&&window.location;if(!location)throw new Error("fixUrls requires window.location");if(!css||"string"!=typeof css)return css;var baseUrl=location.protocol+"//"+location.host,currentDir=baseUrl+location.pathname.replace(/\/[^\/]*$/,"/");return css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(fullMatch,origUrl){var newUrl,unquotedOrigUrl=origUrl.trim().replace(/^"(.*)"$/,(function(o,$1){return $1})).replace(/^'(.*)'$/,(function(o,$1){return $1}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)?fullMatch:(newUrl=0===unquotedOrigUrl.indexOf("//")?unquotedOrigUrl:0===unquotedOrigUrl.indexOf("/")?baseUrl+unquotedOrigUrl:currentDir+unquotedOrigUrl.replace(/^\.\//,""),"url("+JSON.stringify(newUrl)+")")}))}},function(module,exports,__webpack_require__){"use strict";var deselectCurrent=__webpack_require__(119);module.exports=function(text,options){var debug,message,reselectPrevious,range,selection,mark,success=!1;options||(options={}),debug=options.debug||!1;try{if(reselectPrevious=deselectCurrent(),range=document.createRange(),selection=document.getSelection(),(mark=document.createElement("span")).textContent=text,mark.style.all="unset",mark.style.position="fixed",mark.style.top=0,mark.style.clip="rect(0, 0, 0, 0)",mark.style.whiteSpace="pre",mark.style.webkitUserSelect="text",mark.style.MozUserSelect="text",mark.style.msUserSelect="text",mark.style.userSelect="text",mark.addEventListener("copy",(function(e){e.stopPropagation(),options.format&&(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData(options.format,text))})),document.body.appendChild(mark),range.selectNodeContents(mark),selection.addRange(range),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");success=!0}catch(err){debug&&console.error("unable to copy using execCommand: ",err),debug&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(options.format||"text",text),success=!0}catch(err){debug&&console.error("unable to copy using clipboardData: ",err),debug&&console.error("falling back to prompt"),message=function(message){var copyKey=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return message.replace(/#{\s*key\s*}/g,copyKey)}("message"in options?options.message:"Copy to clipboard: #{key}, Enter"),window.prompt(message,text)}}finally{selection&&("function"==typeof selection.removeRange?selection.removeRange(range):selection.removeAllRanges()),mark&&document.body.removeChild(mark),reselectPrevious()}return success}},function(module,exports){module.exports=function(){var selection=document.getSelection();if(!selection.rangeCount)return function(){};for(var active=document.activeElement,ranges=[],i=0;i<selection.rangeCount;i++)ranges.push(selection.getRangeAt(i));switch(active.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":active.blur();break;default:active=null}return selection.removeAllRanges(),function(){"Caret"===selection.type&&selection.removeAllRanges(),selection.rangeCount||ranges.forEach((function(range){selection.addRange(range)})),active&&active.focus()}}},function(module,exports,__webpack_require__){__webpack_require__(121),__webpack_require__(123),__webpack_require__(126),__webpack_require__(127),__webpack_require__(128),__webpack_require__(129),__webpack_require__(130),__webpack_require__(131),__webpack_require__(132),__webpack_require__(133),__webpack_require__(134),__webpack_require__(136),__webpack_require__(137),module.exports=__webpack_require__(22).Reflect},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(16),anObject=__webpack_require__(4),nativeApply=(__webpack_require__(3).Reflect||{}).apply,functionApply=Function.apply,OPTIONAL_ARGUMENTS_LIST=!__webpack_require__(7)((function(){nativeApply((function(){}))}));__webpack_require__(0)({target:"Reflect",stat:!0,forced:OPTIONAL_ARGUMENTS_LIST},{apply:function(target,thisArgument,argumentsList){return aFunction(target),anObject(argumentsList),nativeApply?nativeApply(target,thisArgument,argumentsList):functionApply.call(target,thisArgument,argumentsList)}})},function(module,exports,__webpack_require__){var nativeFunctionToString=__webpack_require__(69),WeakMap=__webpack_require__(3).WeakMap;module.exports="function"==typeof WeakMap&&/native code/.test(nativeFunctionToString.call(WeakMap))},function(module,exports,__webpack_require__){var create=__webpack_require__(51),aFunction=__webpack_require__(16),anObject=__webpack_require__(4),isObject=__webpack_require__(8),fails=__webpack_require__(7),bind=__webpack_require__(125),nativeConstruct=(__webpack_require__(3).Reflect||{}).construct,NEW_TARGET_BUG=fails((function(){function F(){}return!(nativeConstruct((function(){}),[],F)instanceof F)})),ARGS_BUG=!fails((function(){nativeConstruct((function(){}))})),FORCED=NEW_TARGET_BUG||ARGS_BUG;__webpack_require__(0)({target:"Reflect",stat:!0,forced:FORCED,sham:FORCED},{construct:function(Target,args){aFunction(Target),anObject(args);var newTarget=arguments.length<3?Target:aFunction(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return nativeConstruct(Target,args,newTarget);if(Target==newTarget){switch(args.length){case 0:return new Target;case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3])}var $args=[null];return $args.push.apply($args,args),new(bind.apply(Target,$args))}var proto=newTarget.prototype,instance=create(isObject(proto)?proto:Object.prototype),result=Function.apply.call(Target,instance,args);return isObject(result)?result:instance}})},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(17),definePropertyModule=__webpack_require__(15),anObject=__webpack_require__(4),objectKeys=__webpack_require__(52);module.exports=DESCRIPTORS?Object.defineProperties:function(O,Properties){anObject(O);for(var key,keys=objectKeys(Properties),length=keys.length,i=0;length>i;)definePropertyModule.f(O,key=keys[i++],Properties[key]);return O}},function(module,exports,__webpack_require__){"use strict";var aFunction=__webpack_require__(16),isObject=__webpack_require__(8),arraySlice=[].slice,factories={},construct=function(C,argsLength,args){if(!(argsLength in factories)){for(var list=[],i=0;i<argsLength;i++)list[i]="a["+i+"]";factories[argsLength]=Function("C,a","return new C("+list.join(",")+")")}return factories[argsLength](C,args)};module.exports=Function.bind||function(that){var fn=aFunction(this),partArgs=arraySlice.call(arguments,1),boundFunction=function(){var args=partArgs.concat(arraySlice.call(arguments));return this instanceof boundFunction?construct(fn,args.length,args):fn.apply(that,args)};return isObject(fn.prototype)&&(boundFunction.prototype=fn.prototype),boundFunction}},function(module,exports,__webpack_require__){var definePropertyModule=__webpack_require__(15),anObject=__webpack_require__(4),toPrimitive=__webpack_require__(34),DESCRIPTORS=__webpack_require__(17),ERROR_INSTEAD_OF_FALSE=__webpack_require__(7)((function(){Reflect.defineProperty(definePropertyModule.f({},1,{value:1}),1,{value:2})}));__webpack_require__(0)({target:"Reflect",stat:!0,forced:ERROR_INSTEAD_OF_FALSE,sham:!DESCRIPTORS},{defineProperty:function(target,propertyKey,attributes){anObject(target),propertyKey=toPrimitive(propertyKey,!0),anObject(attributes);try{return definePropertyModule.f(target,propertyKey,attributes),!0}catch(e){return!1}}})},function(module,exports,__webpack_require__){var getOwnPropertyDescriptor=__webpack_require__(21).f,anObject=__webpack_require__(4);__webpack_require__(0)({target:"Reflect",stat:!0},{deleteProperty:function(target,propertyKey){var descriptor=getOwnPropertyDescriptor(anObject(target),propertyKey);return!(descriptor&&!descriptor.configurable)&&delete target[propertyKey]}})},function(module,exports,__webpack_require__){var getOwnPropertyDescriptorModule=__webpack_require__(21),getPrototypeOf=__webpack_require__(40),has=__webpack_require__(11),isObject=__webpack_require__(8),anObject=__webpack_require__(4);__webpack_require__(0)({target:"Reflect",stat:!0},{get:function get(target,propertyKey){var descriptor,prototype,receiver=arguments.length<3?target:arguments[2];return anObject(target)===receiver?target[propertyKey]:(descriptor=getOwnPropertyDescriptorModule.f(target,propertyKey))?has(descriptor,"value")?descriptor.value:descriptor.get===undefined?undefined:descriptor.get.call(receiver):isObject(prototype=getPrototypeOf(target))?get(prototype,propertyKey,receiver):void 0}})},function(module,exports,__webpack_require__){var getOwnPropertyDescriptorModule=__webpack_require__(21),anObject=__webpack_require__(4),DESCRIPTORS=__webpack_require__(17);__webpack_require__(0)({target:"Reflect",stat:!0,sham:!DESCRIPTORS},{getOwnPropertyDescriptor:function(target,propertyKey){return getOwnPropertyDescriptorModule.f(anObject(target),propertyKey)}})},function(module,exports,__webpack_require__){var objectGetPrototypeOf=__webpack_require__(40),anObject=__webpack_require__(4),CORRECT_PROTOTYPE_GETTER=__webpack_require__(75);__webpack_require__(0)({target:"Reflect",stat:!0,sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function(target){return objectGetPrototypeOf(anObject(target))}})},function(module,exports,__webpack_require__){__webpack_require__(0)({target:"Reflect",stat:!0},{has:function(target,propertyKey){return propertyKey in target}})},function(module,exports,__webpack_require__){var anObject=__webpack_require__(4),objectIsExtensible=Object.isExtensible;__webpack_require__(0)({target:"Reflect",stat:!0},{isExtensible:function(target){return anObject(target),!objectIsExtensible||objectIsExtensible(target)}})},function(module,exports,__webpack_require__){__webpack_require__(0)({target:"Reflect",stat:!0},{ownKeys:__webpack_require__(71)})},function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__(62),anObject=__webpack_require__(4),FREEZING=__webpack_require__(135);__webpack_require__(0)({target:"Reflect",stat:!0,sham:!FREEZING},{preventExtensions:function(target){anObject(target);try{var objectPreventExtensions=getBuiltIn("Object","preventExtensions");return objectPreventExtensions&&objectPreventExtensions(target),!0}catch(e){return!1}}})},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(7)((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(module,exports,__webpack_require__){var definePropertyModule=__webpack_require__(15),getOwnPropertyDescriptorModule=__webpack_require__(21),getPrototypeOf=__webpack_require__(40),has=__webpack_require__(11),createPropertyDescriptor=__webpack_require__(29),anObject=__webpack_require__(4),isObject=__webpack_require__(8);__webpack_require__(0)({target:"Reflect",stat:!0},{set:function set(target,propertyKey,V){var existingDescriptor,prototype,receiver=arguments.length<4?target:arguments[3],ownDescriptor=getOwnPropertyDescriptorModule.f(anObject(target),propertyKey);if(!ownDescriptor){if(isObject(prototype=getPrototypeOf(target)))return set(prototype,propertyKey,V,receiver);ownDescriptor=createPropertyDescriptor(0)}if(has(ownDescriptor,"value")){if(!1===ownDescriptor.writable||!isObject(receiver))return!1;if(existingDescriptor=getOwnPropertyDescriptorModule.f(receiver,propertyKey)){if(existingDescriptor.get||existingDescriptor.set||!1===existingDescriptor.writable)return!1;existingDescriptor.value=V,definePropertyModule.f(receiver,propertyKey,existingDescriptor)}else definePropertyModule.f(receiver,propertyKey,createPropertyDescriptor(0,V));return!0}return ownDescriptor.set!==undefined&&(ownDescriptor.set.call(receiver,V),!0)}})},function(module,exports,__webpack_require__){var objectSetPrototypeOf=__webpack_require__(76),validateSetPrototypeOfArguments=__webpack_require__(77);objectSetPrototypeOf&&__webpack_require__(0)({target:"Reflect",stat:!0},{setPrototypeOf:function(target,proto){validateSetPrototypeOfArguments(target,proto);try{return objectSetPrototypeOf(target,proto),!0}catch(e){return!1}}})},function(module,exports,__webpack_require__){__webpack_require__(78),__webpack_require__(141),__webpack_require__(143),__webpack_require__(144),__webpack_require__(87),__webpack_require__(145),__webpack_require__(147),__webpack_require__(148),__webpack_require__(150),__webpack_require__(151),__webpack_require__(152),__webpack_require__(153),__webpack_require__(154),__webpack_require__(155),__webpack_require__(157),__webpack_require__(158),__webpack_require__(89),__webpack_require__(159),__webpack_require__(160),__webpack_require__(162),__webpack_require__(163),__webpack_require__(164),__webpack_require__(165),__webpack_require__(166),__webpack_require__(167),__webpack_require__(168),__webpack_require__(169),__webpack_require__(170),__webpack_require__(171),__webpack_require__(172),module.exports=__webpack_require__(22).Array},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(31),requireObjectCoercible=__webpack_require__(55);module.exports=function(that,pos,CONVERT_TO_STRING){var first,second,S=String(requireObjectCoercible(that)),position=toInteger(pos),size=S.length;return position<0||position>=size?CONVERT_TO_STRING?"":undefined:(first=S.charCodeAt(position))<55296||first>56319||position+1===size||(second=S.charCodeAt(position+1))<56320||second>57343?CONVERT_TO_STRING?S.charAt(position):first:CONVERT_TO_STRING?S.slice(position,position+2):second-56320+(first-55296<<10)+65536}},function(module,exports,__webpack_require__){"use strict";var IteratorPrototype=__webpack_require__(80).IteratorPrototype,create=__webpack_require__(51),createPropertyDescriptor=__webpack_require__(29),setToStringTag=__webpack_require__(32),Iterators=__webpack_require__(41),returnThis=function(){return this};module.exports=function(IteratorConstructor,NAME,next){var TO_STRING_TAG=NAME+" Iterator";return IteratorConstructor.prototype=create(IteratorPrototype,{next:createPropertyDescriptor(1,next)}),setToStringTag(IteratorConstructor,TO_STRING_TAG,!1,!0),Iterators[TO_STRING_TAG]=returnThis,IteratorConstructor}},function(module,exports,__webpack_require__){var INCORRECT_ITERATION=!__webpack_require__(82)((function(iterable){Array.from(iterable)}));__webpack_require__(0)({target:"Array",stat:!0,forced:INCORRECT_ITERATION},{from:__webpack_require__(142)})},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(42),toObject=__webpack_require__(13),callWithSafeIterationClosing=__webpack_require__(83),isArrayIteratorMethod=__webpack_require__(84),toLength=__webpack_require__(10),createProperty=__webpack_require__(43),getIteratorMethod=__webpack_require__(85);module.exports=function(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),C="function"==typeof this?this:Array,argumentsLength=arguments.length,mapfn=argumentsLength>1?arguments[1]:undefined,mapping=mapfn!==undefined,index=0,iteratorMethod=getIteratorMethod(O);if(mapping&&(mapfn=bind(mapfn,argumentsLength>2?arguments[2]:undefined,2)),iteratorMethod==undefined||C==Array&&isArrayIteratorMethod(iteratorMethod))for(result=new C(length=toLength(O.length));length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iteratorMethod.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?callWithSafeIterationClosing(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}},function(module,exports,__webpack_require__){__webpack_require__(0)({target:"Array",stat:!0},{isArray:__webpack_require__(26)})},function(module,exports,__webpack_require__){"use strict";var createProperty=__webpack_require__(43),ISNT_GENERIC=__webpack_require__(7)((function(){function F(){}return!(Array.of.call(F)instanceof F)}));__webpack_require__(0)({target:"Array",stat:!0,forced:ISNT_GENERIC},{of:function(){for(var index=0,argumentsLength=arguments.length,result=new("function"==typeof this?this:Array)(argumentsLength);argumentsLength>index;)createProperty(result,index,arguments[index++]);return result.length=argumentsLength,result}})},function(module,exports,__webpack_require__){__webpack_require__(0)({target:"Array",proto:!0},{copyWithin:__webpack_require__(146)}),__webpack_require__(23)("copyWithin")},function(module,exports,__webpack_require__){"use strict";var toObject=__webpack_require__(13),toAbsoluteIndex=__webpack_require__(39),toLength=__webpack_require__(10);module.exports=[].copyWithin||function(target,start){var O=toObject(this),len=toLength(O.length),to=toAbsoluteIndex(target,len),from=toAbsoluteIndex(start,len),end=arguments.length>2?arguments[2]:undefined,count=Math.min((end===undefined?len:toAbsoluteIndex(end,len))-from,len-to),inc=1;for(from<to&&to<from+count&&(inc=-1,from+=count-1,to+=count-1);count-- >0;)from in O?O[to]=O[from]:delete O[to],to+=inc,from+=inc;return O}},function(module,exports,__webpack_require__){"use strict";var internalEvery=__webpack_require__(27)(4),SLOPPY_METHOD=__webpack_require__(20)("every");__webpack_require__(0)({target:"Array",proto:!0,forced:SLOPPY_METHOD},{every:function(callbackfn){return internalEvery(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){__webpack_require__(0)({target:"Array",proto:!0},{fill:__webpack_require__(149)}),__webpack_require__(23)("fill")},function(module,exports,__webpack_require__){"use strict";var toObject=__webpack_require__(13),toAbsoluteIndex=__webpack_require__(39),toLength=__webpack_require__(10);module.exports=function(value){for(var O=toObject(this),length=toLength(O.length),argumentsLength=arguments.length,index=toAbsoluteIndex(argumentsLength>1?arguments[1]:undefined,length),end=argumentsLength>2?arguments[2]:undefined,endPos=end===undefined?length:toAbsoluteIndex(end,length);endPos>index;)O[index++]=value;return O}},function(module,exports,__webpack_require__){"use strict";var internalFilter=__webpack_require__(27)(2),SPECIES_SUPPORT=__webpack_require__(45)("filter");__webpack_require__(0)({target:"Array",proto:!0,forced:!SPECIES_SUPPORT},{filter:function(callbackfn){return internalFilter(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){"use strict";var internalFind=__webpack_require__(27)(5),SKIPS_HOLES=!0;"find"in[]&&Array(1).find((function(){SKIPS_HOLES=!1})),__webpack_require__(0)({target:"Array",proto:!0,forced:SKIPS_HOLES},{find:function(callbackfn){return internalFind(this,callbackfn,arguments.length>1?arguments[1]:undefined)}}),__webpack_require__(23)("find")},function(module,exports,__webpack_require__){"use strict";var internalFindIndex=__webpack_require__(27)(6),SKIPS_HOLES=!0;"findIndex"in[]&&Array(1).findIndex((function(){SKIPS_HOLES=!1})),__webpack_require__(0)({target:"Array",proto:!0,forced:SKIPS_HOLES},{findIndex:function(callbackfn){return internalFindIndex(this,callbackfn,arguments.length>1?arguments[1]:undefined)}}),__webpack_require__(23)("findIndex")},function(module,exports,__webpack_require__){"use strict";var flattenIntoArray=__webpack_require__(88),toObject=__webpack_require__(13),toLength=__webpack_require__(10),toInteger=__webpack_require__(31),arraySpeciesCreate=__webpack_require__(44);__webpack_require__(0)({target:"Array",proto:!0},{flat:function(){var depthArg=arguments[0],O=toObject(this),sourceLen=toLength(O.length),A=arraySpeciesCreate(O,0);return A.length=flattenIntoArray(A,O,O,sourceLen,0,depthArg===undefined?1:toInteger(depthArg)),A}})},function(module,exports,__webpack_require__){"use strict";var flattenIntoArray=__webpack_require__(88),toObject=__webpack_require__(13),toLength=__webpack_require__(10),aFunction=__webpack_require__(16),arraySpeciesCreate=__webpack_require__(44);__webpack_require__(0)({target:"Array",proto:!0},{flatMap:function(callbackfn){var A,O=toObject(this),sourceLen=toLength(O.length);return aFunction(callbackfn),(A=arraySpeciesCreate(O,0)).length=flattenIntoArray(A,O,O,sourceLen,0,1,callbackfn,arguments[1]),A}})},function(module,exports,__webpack_require__){"use strict";var forEach=__webpack_require__(156);__webpack_require__(0)({target:"Array",proto:!0,forced:[].forEach!=forEach},{forEach:forEach})},function(module,exports,__webpack_require__){"use strict";var nativeForEach=[].forEach,internalForEach=__webpack_require__(27)(0),SLOPPY_METHOD=__webpack_require__(20)("forEach");module.exports=SLOPPY_METHOD?function(callbackfn){return internalForEach(this,callbackfn,arguments[1])}:nativeForEach},function(module,exports,__webpack_require__){"use strict";var internalIncludes=__webpack_require__(60)(!0);__webpack_require__(0)({target:"Array",proto:!0},{includes:function(el){return internalIncludes(this,el,arguments.length>1?arguments[1]:undefined)}}),__webpack_require__(23)("includes")},function(module,exports,__webpack_require__){"use strict";var internalIndexOf=__webpack_require__(60)(!1),nativeIndexOf=[].indexOf,NEGATIVE_ZERO=!!nativeIndexOf&&1/[1].indexOf(1,-0)<0,SLOPPY_METHOD=__webpack_require__(20)("indexOf");__webpack_require__(0)({target:"Array",proto:!0,forced:NEGATIVE_ZERO||SLOPPY_METHOD},{indexOf:function(searchElement){return NEGATIVE_ZERO?nativeIndexOf.apply(this,arguments)||0:internalIndexOf(this,searchElement,arguments[1])}})},function(module,exports,__webpack_require__){"use strict";var toIndexedObject=__webpack_require__(18),nativeJoin=[].join,ES3_STRINGS=__webpack_require__(33)!=Object,SLOPPY_METHOD=__webpack_require__(20)("join",",");__webpack_require__(0)({target:"Array",proto:!0,forced:ES3_STRINGS||SLOPPY_METHOD},{join:function(separator){return nativeJoin.call(toIndexedObject(this),separator===undefined?",":separator)}})},function(module,exports,__webpack_require__){var arrayLastIndexOf=__webpack_require__(161);__webpack_require__(0)({target:"Array",proto:!0,forced:arrayLastIndexOf!==[].lastIndexOf},{lastIndexOf:arrayLastIndexOf})},function(module,exports,__webpack_require__){"use strict";var toIndexedObject=__webpack_require__(18),toInteger=__webpack_require__(31),toLength=__webpack_require__(10),nativeLastIndexOf=[].lastIndexOf,NEGATIVE_ZERO=!!nativeLastIndexOf&&1/[1].lastIndexOf(1,-0)<0,SLOPPY_METHOD=__webpack_require__(20)("lastIndexOf");module.exports=NEGATIVE_ZERO||SLOPPY_METHOD?function(searchElement){if(NEGATIVE_ZERO)return nativeLastIndexOf.apply(this,arguments)||0;var O=toIndexedObject(this),length=toLength(O.length),index=length-1;for(arguments.length>1&&(index=Math.min(index,toInteger(arguments[1]))),index<0&&(index=length+index);index>=0;index--)if(index in O&&O[index]===searchElement)return index||0;return-1}:nativeLastIndexOf},function(module,exports,__webpack_require__){"use strict";var internalMap=__webpack_require__(27)(1),SPECIES_SUPPORT=__webpack_require__(45)("map");__webpack_require__(0)({target:"Array",proto:!0,forced:!SPECIES_SUPPORT},{map:function(callbackfn){return internalMap(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){"use strict";var internalReduce=__webpack_require__(90),SLOPPY_METHOD=__webpack_require__(20)("reduce");__webpack_require__(0)({target:"Array",proto:!0,forced:SLOPPY_METHOD},{reduce:function(callbackfn){return internalReduce(this,callbackfn,arguments.length,arguments[1],!1)}})},function(module,exports,__webpack_require__){"use strict";var internalReduceRight=__webpack_require__(90),SLOPPY_METHOD=__webpack_require__(20)("reduceRight");__webpack_require__(0)({target:"Array",proto:!0,forced:SLOPPY_METHOD},{reduceRight:function(callbackfn){return internalReduceRight(this,callbackfn,arguments.length,arguments[1],!0)}})},function(module,exports,__webpack_require__){"use strict";var isArray=__webpack_require__(26),nativeReverse=[].reverse,test=[1,2];__webpack_require__(0)({target:"Array",proto:!0,forced:String(test)===String(test.reverse())},{reverse:function(){return isArray(this)&&(this.length=this.length),nativeReverse.call(this)}})},function(module,exports,__webpack_require__){"use strict";var isObject=__webpack_require__(8),isArray=__webpack_require__(26),toAbsoluteIndex=__webpack_require__(39),toLength=__webpack_require__(10),toIndexedObject=__webpack_require__(18),createProperty=__webpack_require__(43),SPECIES=__webpack_require__(5)("species"),nativeSlice=[].slice,max=Math.max,SPECIES_SUPPORT=__webpack_require__(45)("slice");__webpack_require__(0)({target:"Array",proto:!0,forced:!SPECIES_SUPPORT},{slice:function(start,end){var Constructor,result,n,O=toIndexedObject(this),length=toLength(O.length),k=toAbsoluteIndex(start,length),fin=toAbsoluteIndex(end===undefined?length:end,length);if(isArray(O)&&("function"!=typeof(Constructor=O.constructor)||Constructor!==Array&&!isArray(Constructor.prototype)?isObject(Constructor)&&null===(Constructor=Constructor[SPECIES])&&(Constructor=undefined):Constructor=undefined,Constructor===Array||Constructor===undefined))return nativeSlice.call(O,k,fin);for(result=new(Constructor===undefined?Array:Constructor)(max(fin-k,0)),n=0;k<fin;k++,n++)k in O&&createProperty(result,n,O[k]);return result.length=n,result}})},function(module,exports,__webpack_require__){"use strict";var internalSome=__webpack_require__(27)(3),SLOPPY_METHOD=__webpack_require__(20)("some");__webpack_require__(0)({target:"Array",proto:!0,forced:SLOPPY_METHOD},{some:function(callbackfn){return internalSome(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){"use strict";var aFunction=__webpack_require__(16),toObject=__webpack_require__(13),fails=__webpack_require__(7),nativeSort=[].sort,test=[1,2,3],FAILS_ON_UNDEFINED=fails((function(){test.sort(undefined)})),FAILS_ON_NULL=fails((function(){test.sort(null)})),SLOPPY_METHOD=__webpack_require__(20)("sort"),FORCED=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||SLOPPY_METHOD;__webpack_require__(0)({target:"Array",proto:!0,forced:FORCED},{sort:function(comparefn){return comparefn===undefined?nativeSort.call(toObject(this)):nativeSort.call(toObject(this),aFunction(comparefn))}})},function(module,exports,__webpack_require__){__webpack_require__(91)("Array")},function(module,exports,__webpack_require__){"use strict";var toAbsoluteIndex=__webpack_require__(39),toInteger=__webpack_require__(31),toLength=__webpack_require__(10),toObject=__webpack_require__(13),arraySpeciesCreate=__webpack_require__(44),createProperty=__webpack_require__(43),max=Math.max,min=Math.min,SPECIES_SUPPORT=__webpack_require__(45)("splice");__webpack_require__(0)({target:"Array",proto:!0,forced:!SPECIES_SUPPORT},{splice:function(start,deleteCount){var insertCount,actualDeleteCount,A,k,from,to,O=toObject(this),len=toLength(O.length),actualStart=toAbsoluteIndex(start,len),argumentsLength=arguments.length;if(0===argumentsLength?insertCount=actualDeleteCount=0:1===argumentsLength?(insertCount=0,actualDeleteCount=len-actualStart):(insertCount=argumentsLength-2,actualDeleteCount=min(max(toInteger(deleteCount),0),len-actualStart)),len+insertCount-actualDeleteCount>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(A=arraySpeciesCreate(O,actualDeleteCount),k=0;k<actualDeleteCount;k++)(from=actualStart+k)in O&&createProperty(A,k,O[from]);if(A.length=actualDeleteCount,insertCount<actualDeleteCount){for(k=actualStart;k<len-actualDeleteCount;k++)to=k+insertCount,(from=k+actualDeleteCount)in O?O[to]=O[from]:delete O[to];for(k=len;k>len-actualDeleteCount+insertCount;k--)delete O[k-1]}else if(insertCount>actualDeleteCount)for(k=len-actualDeleteCount;k>actualStart;k--)to=k+insertCount-1,(from=k+actualDeleteCount-1)in O?O[to]=O[from]:delete O[to];for(k=0;k<insertCount;k++)O[k+actualStart]=arguments[k+2];return O.length=len-actualDeleteCount+insertCount,A}})},function(module,exports,__webpack_require__){__webpack_require__(23)("flat")},function(module,exports,__webpack_require__){__webpack_require__(23)("flatMap")},function(module,exports,__webpack_require__){__webpack_require__(92),__webpack_require__(78),__webpack_require__(175),__webpack_require__(177),__webpack_require__(184),module.exports=__webpack_require__(22).Promise},function(module,exports,__webpack_require__){"use strict";var classof=__webpack_require__(86),test={};test[__webpack_require__(5)("toStringTag")]="z",module.exports="[object z]"!==String(test)?function(){return"[object "+classof(this)+"]"}:test.toString},function(module,exports,__webpack_require__){var DOMIterables=__webpack_require__(176),ArrayIteratorMethods=__webpack_require__(89),global=__webpack_require__(3),hide=__webpack_require__(19),wellKnownSymbol=__webpack_require__(5),ITERATOR=wellKnownSymbol("iterator"),TO_STRING_TAG=wellKnownSymbol("toStringTag"),ArrayValues=ArrayIteratorMethods.values;for(var COLLECTION_NAME in DOMIterables){var Collection=global[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype){if(CollectionPrototype[ITERATOR]!==ArrayValues)try{hide(CollectionPrototype,ITERATOR,ArrayValues)}catch(e){CollectionPrototype[ITERATOR]=ArrayValues}if(CollectionPrototype[TO_STRING_TAG]||hide(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),DOMIterables[COLLECTION_NAME])for(var METHOD_NAME in ArrayIteratorMethods)if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{hide(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch(e){CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}}},function(module,exports){module.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(module,exports,__webpack_require__){"use strict";var Internal,OwnPromiseCapability,PromiseWrapper,PROMISE="Promise",IS_PURE=__webpack_require__(37),global=__webpack_require__(3),$export=__webpack_require__(0),isObject=__webpack_require__(8),aFunction=__webpack_require__(16),anInstance=__webpack_require__(178),classof=__webpack_require__(30),iterate=__webpack_require__(179),checkCorrectnessOfIteration=__webpack_require__(82),speciesConstructor=__webpack_require__(93),task=__webpack_require__(94).set,microtask=__webpack_require__(180),promiseResolve=__webpack_require__(96),hostReportErrors=__webpack_require__(181),newPromiseCapabilityModule=__webpack_require__(97),perform=__webpack_require__(182),userAgent=__webpack_require__(95),SPECIES=__webpack_require__(5)("species"),InternalStateModule=__webpack_require__(38),isForced=__webpack_require__(73),getInternalState=InternalStateModule.get,setInternalState=InternalStateModule.set,getInternalPromiseState=InternalStateModule.getterFor(PROMISE),PromiseConstructor=global[PROMISE],TypeError=global.TypeError,document=global.document,process=global.process,$fetch=global.fetch,versions=process&&process.versions,v8=versions&&versions.v8||"",newPromiseCapability=newPromiseCapabilityModule.f,newGenericPromiseCapability=newPromiseCapability,IS_NODE="process"==classof(process),DISPATCH_EVENT=!!(document&&document.createEvent&&global.dispatchEvent),FORCED=isForced(PROMISE,(function(){var promise=PromiseConstructor.resolve(1),empty=function(){},FakePromise=(promise.constructor={})[SPECIES]=function(exec){exec(empty,empty)};return!((IS_NODE||"function"==typeof PromiseRejectionEvent)&&(!IS_PURE||promise["finally"])&&promise.then(empty)instanceof FakePromise&&0!==v8.indexOf("6.6")&&-1===userAgent.indexOf("Chrome/66"))})),INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration((function(iterable){PromiseConstructor.all(iterable)["catch"]((function(){}))})),isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function(promise,state,isReject){if(!state.notified){state.notified=!0;var chain=state.reactions;microtask((function(){for(var value=state.value,ok=1==state.state,i=0,run=function(reaction){var result,then,exited,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2===state.rejection&&onHandleUnhandled(promise,state),state.rejection=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){domain&&!exited&&domain.exit(),reject(e)}};chain.length>i;)run(chain[i++]);state.reactions=[],state.notified=!1,isReject&&!state.rejection&&onUnhandled(promise,state)}))}},dispatchEvent=function(name,promise,reason){var event,handler;DISPATCH_EVENT?((event=document.createEvent("Event")).promise=promise,event.reason=reason,event.initEvent(name,!1,!0),global.dispatchEvent(event)):event={promise:promise,reason:reason},(handler=global["on"+name])?handler(event):"unhandledrejection"===name&&hostReportErrors("Unhandled promise rejection",reason)},onUnhandled=function(promise,state){task.call(global,(function(){var result,value=state.value,IS_UNHANDLED=isUnhandled(state);if(IS_UNHANDLED&&(result=perform((function(){IS_NODE?process.emit("unhandledRejection",value,promise):dispatchEvent("unhandledrejection",promise,value)})),state.rejection=IS_NODE||isUnhandled(state)?2:1),IS_UNHANDLED&&result.e)throw result.v}))},isUnhandled=function(state){return 1!==state.rejection&&!state.parent},onHandleUnhandled=function(promise,state){task.call(global,(function(){IS_NODE?process.emit("rejectionHandled",promise):dispatchEvent("rejectionhandled",promise,state.value)}))},bind=function(fn,promise,state,unwrap){return function(value){fn(promise,state,value,unwrap)}},internalReject=function(promise,state,value,unwrap){state.done||(state.done=!0,unwrap&&(state=unwrap),state.value=value,state.state=2,notify(promise,state,!0))},internalResolve=function(promise,state,value,unwrap){if(!state.done){state.done=!0,unwrap&&(state=unwrap);try{if(promise===value)throw TypeError("Promise can't be resolved itself");var then=isThenable(value);then?microtask((function(){var wrapper={done:!1};try{then.call(value,bind(internalResolve,promise,wrapper,state),bind(internalReject,promise,wrapper,state))}catch(e){internalReject(promise,wrapper,e,state)}})):(state.value=value,state.state=1,notify(promise,state,!1))}catch(e){internalReject(promise,{done:!1},e,state)}}};FORCED&&(PromiseConstructor=function(executor){anInstance(this,PromiseConstructor,PROMISE),aFunction(executor),Internal.call(this);var state=getInternalState(this);try{executor(bind(internalResolve,this,state),bind(internalReject,this,state))}catch(err){internalReject(this,state,err)}},(Internal=function(executor){setInternalState(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:undefined})}).prototype=__webpack_require__(183)(PromiseConstructor.prototype,{then:function(onFulfilled,onRejected){var state=getInternalPromiseState(this),reaction=newPromiseCapability(speciesConstructor(this,PromiseConstructor));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=IS_NODE?process.domain:undefined,state.parent=!0,state.reactions.push(reaction),0!=state.state&&notify(this,state,!1),reaction.promise},"catch":function(onRejected){return this.then(undefined,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal,state=getInternalState(promise);this.promise=promise,this.resolve=bind(internalResolve,promise,state),this.reject=bind(internalReject,promise,state)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===PromiseConstructor||C===PromiseWrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)},IS_PURE||"function"!=typeof $fetch||$export({global:!0,enumerable:!0,forced:!0},{fetch:function(input){return promiseResolve(PromiseConstructor,$fetch.apply(global,arguments))}})),$export({global:!0,wrap:!0,forced:FORCED},{Promise:PromiseConstructor}),__webpack_require__(32)(PromiseConstructor,PROMISE,!1,!0),__webpack_require__(91)(PROMISE),PromiseWrapper=__webpack_require__(22)[PROMISE],$export({target:PROMISE,stat:!0,forced:FORCED},{reject:function(r){var capability=newPromiseCapability(this);return capability.reject.call(undefined,r),capability.promise}}),$export({target:PROMISE,stat:!0,forced:IS_PURE||FORCED},{resolve:function(x){return promiseResolve(IS_PURE&&this===PromiseWrapper?PromiseConstructor:this,x)}}),$export({target:PROMISE,stat:!0,forced:INCORRECT_ITERATION},{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform((function(){var values=[],counter=0,remaining=1;iterate(iterable,(function(promise){var index=counter++,alreadyCalled=!1;values.push(undefined),remaining++,C.resolve(promise).then((function(value){alreadyCalled||(alreadyCalled=!0,values[index]=value,--remaining||resolve(values))}),reject)})),--remaining||resolve(values)}));return result.e&&reject(result.v),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform((function(){iterate(iterable,(function(promise){C.resolve(promise).then(capability.resolve,reject)}))}));return result.e&&reject(result.v),capability.promise}})},function(module,exports){module.exports=function(it,Constructor,name){if(!(it instanceof Constructor))throw TypeError("Incorrect "+(name?name+" ":"")+"invocation");return it}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(4),isArrayIteratorMethod=__webpack_require__(84),toLength=__webpack_require__(10),bind=__webpack_require__(42),getIteratorMethod=__webpack_require__(85),callWithSafeIterationClosing=__webpack_require__(83),BREAK={};(module.exports=function(iterable,fn,that,ENTRIES,ITERATOR){var iterator,iterFn,index,length,step,boundFunction=bind(fn,that,ENTRIES?2:1);if(ITERATOR)iterator=iterable;else{if("function"!=typeof(iterFn=getIteratorMethod(iterable)))throw TypeError("Target is not iterable");if(isArrayIteratorMethod(iterFn)){for(index=0,length=toLength(iterable.length);length>index;index++)if((ENTRIES?boundFunction(anObject(step=iterable[index])[0],step[1]):boundFunction(iterable[index]))===BREAK)return BREAK;return}iterator=iterFn.call(iterable)}for(;!(step=iterator.next()).done;)if(callWithSafeIterationClosing(iterator,boundFunction,step.value,ENTRIES)===BREAK)return BREAK}).BREAK=BREAK},function(module,exports,__webpack_require__){var flush,head,last,notify,toggle,node,promise,global=__webpack_require__(3),getOwnPropertyDescriptor=__webpack_require__(21).f,classof=__webpack_require__(30),macrotask=__webpack_require__(94).set,userAgent=__webpack_require__(95),MutationObserver=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,IS_NODE="process"==classof(process),queueMicrotaskDescriptor=getOwnPropertyDescriptor(global,"queueMicrotask"),queueMicrotask=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value;queueMicrotask||(flush=function(){var parent,fn;for(IS_NODE&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=undefined,e}}last=undefined,parent&&parent.enter()},IS_NODE?notify=function(){process.nextTick(flush)}:MutationObserver&&!/(iPhone|iPod|iPad).*AppleWebKit/i.test(userAgent)?(toggle=!0,node=document.createTextNode(""),new MutationObserver(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}):Promise&&Promise.resolve?(promise=Promise.resolve(undefined),notify=function(){promise.then(flush)}):notify=function(){macrotask.call(global,flush)}),module.exports=queueMicrotask||function(fn){var task={fn:fn,next:undefined};last&&(last.next=task),head||(head=task,notify()),last=task}},function(module,exports,__webpack_require__){var global=__webpack_require__(3);module.exports=function(a,b){var console=global.console;console&&console.error&&(1===arguments.length?console.error(a):console.error(a,b))}},function(module,exports){module.exports=function(exec){try{return{e:!1,v:exec()}}catch(e){return{e:!0,v:e}}}},function(module,exports,__webpack_require__){var redefine=__webpack_require__(35);module.exports=function(target,src,options){for(var key in src)redefine(target,key,src[key],options);return target}},function(module,exports,__webpack_require__){"use strict";var getBuiltIn=__webpack_require__(62),speciesConstructor=__webpack_require__(93),promiseResolve=__webpack_require__(96);__webpack_require__(0)({target:"Promise",proto:!0,real:!0},{"finally":function(onFinally){var C=speciesConstructor(this,getBuiltIn("Promise")),isFunction="function"==typeof onFinally;return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then((function(){return x}))}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then((function(){throw e}))}:onFinally)}})},function(module,exports,__webpack_require__){__webpack_require__(186),module.exports=__webpack_require__(22).Object.assign},function(module,exports,__webpack_require__){var assign=__webpack_require__(187);__webpack_require__(0)({target:"Object",stat:!0,forced:Object.assign!==assign},{assign:assign})},function(module,exports,__webpack_require__){"use strict";var objectKeys=__webpack_require__(52),getOwnPropertySymbolsModule=__webpack_require__(50),propertyIsEnumerableModule=__webpack_require__(47),toObject=__webpack_require__(13),IndexedObject=__webpack_require__(33),nativeAssign=Object.assign;module.exports=!nativeAssign||__webpack_require__(7)((function(){var A={},B={},symbol=Symbol();return A[symbol]=7,"abcdefghijklmnopqrst".split("").forEach((function(chr){B[chr]=chr})),7!=nativeAssign({},A)[symbol]||"abcdefghijklmnopqrst"!=objectKeys(nativeAssign({},B)).join("")}))?function(target,source){for(var T=toObject(target),argumentsLength=arguments.length,index=1,getOwnPropertySymbols=getOwnPropertySymbolsModule.f,propertyIsEnumerable=propertyIsEnumerableModule.f;argumentsLength>index;)for(var key,S=IndexedObject(arguments[index++]),keys=getOwnPropertySymbols?objectKeys(S).concat(getOwnPropertySymbols(S)):objectKeys(S),length=keys.length,j=0;length>j;)propertyIsEnumerable.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:nativeAssign},function(module,exports,__webpack_require__){__webpack_require__(87),__webpack_require__(92),__webpack_require__(189),__webpack_require__(192),__webpack_require__(193),__webpack_require__(194),__webpack_require__(195),__webpack_require__(196),__webpack_require__(197),__webpack_require__(198),__webpack_require__(199),__webpack_require__(200),__webpack_require__(201),__webpack_require__(202),__webpack_require__(203),__webpack_require__(204),__webpack_require__(205),__webpack_require__(206),module.exports=__webpack_require__(22).Symbol},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(3),has=__webpack_require__(11),DESCRIPTORS=__webpack_require__(17),IS_PURE=__webpack_require__(37),$export=__webpack_require__(0),redefine=__webpack_require__(35),hiddenKeys=__webpack_require__(49),fails=__webpack_require__(7),shared=__webpack_require__(36),setToStringTag=__webpack_require__(32),uid=__webpack_require__(58),wellKnownSymbol=__webpack_require__(5),wrappedWellKnownSymbolModule=__webpack_require__(98),defineWellKnownSymbol=__webpack_require__(12),enumKeys=__webpack_require__(190),isArray=__webpack_require__(26),anObject=__webpack_require__(4),isObject=__webpack_require__(8),toIndexedObject=__webpack_require__(18),toPrimitive=__webpack_require__(34),createPropertyDescriptor=__webpack_require__(29),nativeObjectCreate=__webpack_require__(51),getOwnPropertyNamesExternal=__webpack_require__(191),getOwnPropertyDescriptorModule=__webpack_require__(21),definePropertyModule=__webpack_require__(15),propertyIsEnumerableModule=__webpack_require__(47),hide=__webpack_require__(19),objectKeys=__webpack_require__(52),HIDDEN=__webpack_require__(48)("hidden"),InternalStateModule=__webpack_require__(38),setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor("Symbol"),nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,nativeDefineProperty=definePropertyModule.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,$Symbol=global.Symbol,JSON=global.JSON,nativeJSONStringify=JSON&&JSON.stringify,TO_PRIMITIVE=wellKnownSymbol("toPrimitive"),nativePropertyIsEnumerable=propertyIsEnumerableModule.f,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),ObjectPrototypeSymbols=shared("op-symbols"),WellKnownSymbolsStore=shared("wks"),ObjectPrototype=Object.prototype,QObject=global.QObject,NATIVE_SYMBOL=__webpack_require__(81),USE_SETTER=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDescriptor=DESCRIPTORS&&fails((function(){return 7!=nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a}))?function(it,key,D){var ObjectPrototypeDescriptor=nativeGetOwnPropertyDescriptor(ObjectPrototype,key);ObjectPrototypeDescriptor&&delete ObjectPrototype[key],nativeDefineProperty(it,key,D),ObjectPrototypeDescriptor&&it!==ObjectPrototype&&nativeDefineProperty(ObjectPrototype,key,ObjectPrototypeDescriptor)}:nativeDefineProperty,wrap=function(tag,description){var symbol=AllSymbols[tag]=nativeObjectCreate($Symbol.prototype);return setInternalState(symbol,{type:"Symbol",tag:tag,description:description}),DESCRIPTORS||(symbol.description=description),symbol},isSymbol=NATIVE_SYMBOL&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return Object(it)instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectPrototype&&$defineProperty(ObjectPrototypeSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=nativeObjectCreate(D,{enumerable:createPropertyDescriptor(0,!1)})):(has(it,HIDDEN)||nativeDefineProperty(it,HIDDEN,createPropertyDescriptor(1,{})),it[HIDDEN][key]=!0),setSymbolDescriptor(it,key,D)):nativeDefineProperty(it,key,D)},$defineProperties=function(it,P){anObject(it);for(var key,keys=enumKeys(P=toIndexedObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$propertyIsEnumerable=function(key){var E=nativePropertyIsEnumerable.call(this,key=toPrimitive(key,!0));return!(this===ObjectPrototype&&has(AllSymbols,key)&&!has(ObjectPrototypeSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function(it,key){if(it=toIndexedObject(it),key=toPrimitive(key,!0),it!==ObjectPrototype||!has(AllSymbols,key)||has(ObjectPrototypeSymbols,key)){var D=nativeGetOwnPropertyDescriptor(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=nativeGetOwnPropertyNames(toIndexedObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||has(hiddenKeys,key)||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectPrototype,names=nativeGetOwnPropertyNames(IS_OP?ObjectPrototypeSymbols:toIndexedObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectPrototype,key)||result.push(AllSymbols[key]);return result};NATIVE_SYMBOL||(redefine(($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor");var description=arguments[0]===undefined?undefined:String(arguments[0]),tag=uid(description),setter=function(value){this===ObjectPrototype&&setter.call(ObjectPrototypeSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDescriptor(this,tag,createPropertyDescriptor(1,value))};return DESCRIPTORS&&USE_SETTER&&setSymbolDescriptor(ObjectPrototype,tag,{configurable:!0,set:setter}),wrap(tag,description)}).prototype,"toString",(function(){return getInternalState(this).tag})),propertyIsEnumerableModule.f=$propertyIsEnumerable,definePropertyModule.f=$defineProperty,getOwnPropertyDescriptorModule.f=$getOwnPropertyDescriptor,__webpack_require__(59).f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,__webpack_require__(50).f=$getOwnPropertySymbols,DESCRIPTORS&&(nativeDefineProperty($Symbol.prototype,"description",{configurable:!0,get:function(){return getInternalState(this).description}}),IS_PURE||redefine(ObjectPrototype,"propertyIsEnumerable",$propertyIsEnumerable,{unsafe:!0})),wrappedWellKnownSymbolModule.f=function(name){return wrap(wellKnownSymbol(name),name)}),$export({global:!0,wrap:!0,forced:!NATIVE_SYMBOL,sham:!NATIVE_SYMBOL},{Symbol:$Symbol});for(var wellKnownSymbols=objectKeys(WellKnownSymbolsStore),k=0;wellKnownSymbols.length>k;)defineWellKnownSymbol(wellKnownSymbols[k++]);$export({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL},{"for":function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){USE_SETTER=!0},useSimple:function(){USE_SETTER=!1}}),$export({target:"Object",stat:!0,forced:!NATIVE_SYMBOL,sham:!DESCRIPTORS},{create:function(it,P){return P===undefined?nativeObjectCreate(it):$defineProperties(nativeObjectCreate(it),P)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor}),$export({target:"Object",stat:!0,forced:!NATIVE_SYMBOL},{getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),JSON&&$export({target:"JSON",stat:!0,forced:!NATIVE_SYMBOL||fails((function(){var symbol=$Symbol();return"[null]"!=nativeJSONStringify([symbol])||"{}"!=nativeJSONStringify({a:symbol})||"{}"!=nativeJSONStringify(Object(symbol))}))},{stringify:function(it){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);if($replacer=replacer=args[1],(isObject(replacer)||it!==undefined)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,nativeJSONStringify.apply(JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||hide($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),hiddenKeys[HIDDEN]=!0},function(module,exports,__webpack_require__){var objectKeys=__webpack_require__(52),getOwnPropertySymbolsModule=__webpack_require__(50),propertyIsEnumerableModule=__webpack_require__(47);module.exports=function(it){var result=objectKeys(it),getOwnPropertySymbols=getOwnPropertySymbolsModule.f;if(getOwnPropertySymbols)for(var key,symbols=getOwnPropertySymbols(it),propertyIsEnumerable=propertyIsEnumerableModule.f,i=0;symbols.length>i;)propertyIsEnumerable.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports,__webpack_require__){var toIndexedObject=__webpack_require__(18),nativeGetOwnPropertyNames=__webpack_require__(59).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?function(it){try{return nativeGetOwnPropertyNames(it)}catch(e){return windowNames.slice()}}(it):nativeGetOwnPropertyNames(toIndexedObject(it))}},function(module,exports,__webpack_require__){__webpack_require__(12)("asyncIterator")},function(module,exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(17),has=__webpack_require__(11),isObject=__webpack_require__(8),defineProperty=__webpack_require__(15).f,copyConstructorProperties=__webpack_require__(70),NativeSymbol=__webpack_require__(3).Symbol;if(DESCRIPTORS&&"function"==typeof NativeSymbol&&(!("description"in NativeSymbol.prototype)||NativeSymbol().description!==undefined)){var EmptyStringDescriptionStore={},SymbolWrapper=function(){var description=arguments.length<1||arguments[0]===undefined?undefined:String(arguments[0]),result=this instanceof SymbolWrapper?new NativeSymbol(description):description===undefined?NativeSymbol():NativeSymbol(description);return""===description&&(EmptyStringDescriptionStore[result]=!0),result};copyConstructorProperties(SymbolWrapper,NativeSymbol);var symbolPrototype=SymbolWrapper.prototype=NativeSymbol.prototype;symbolPrototype.constructor=SymbolWrapper;var symbolToString=symbolPrototype.toString,native="Symbol(test)"==String(NativeSymbol("test")),regexp=/^Symbol\((.*)\)[^)]+$/;defineProperty(symbolPrototype,"description",{configurable:!0,get:function(){var symbol=isObject(this)?this.valueOf():this,string=symbolToString.call(symbol);if(has(EmptyStringDescriptionStore,symbol))return"";var desc=native?string.slice(7,-1):string.replace(regexp,"$1");return""===desc?undefined:desc}}),__webpack_require__(0)({global:!0,forced:!0},{Symbol:SymbolWrapper})}},function(module,exports,__webpack_require__){__webpack_require__(12)("hasInstance")},function(module,exports,__webpack_require__){__webpack_require__(12)("isConcatSpreadable")},function(module,exports,__webpack_require__){__webpack_require__(12)("iterator")},function(module,exports,__webpack_require__){__webpack_require__(12)("match")},function(module,exports,__webpack_require__){__webpack_require__(12)("replace")},function(module,exports,__webpack_require__){__webpack_require__(12)("search")},function(module,exports,__webpack_require__){__webpack_require__(12)("species")},function(module,exports,__webpack_require__){__webpack_require__(12)("split")},function(module,exports,__webpack_require__){__webpack_require__(12)("toPrimitive")},function(module,exports,__webpack_require__){__webpack_require__(12)("toStringTag")},function(module,exports,__webpack_require__){__webpack_require__(12)("unscopables")},function(module,exports,__webpack_require__){__webpack_require__(32)(Math,"Math",!0)},function(module,exports,__webpack_require__){__webpack_require__(32)(__webpack_require__(3).JSON,"JSON",!0)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var util_1=__webpack_require__(63),CEvent=function(){function CEvent(){this.listeners={}}return CEvent.prototype.add=function(key,sel,fn){fn||(fn=sel=null);var listeners=this.listeners,list=listeners[key]||(listeners[key]=[]),id=Symbol("id");return list.push({id:id,sel:sel,fn:fn}),id},CEvent.prototype.remove=function(id){var listeners=this.listeners;Object.values(listeners).forEach((function(list){list.forEach((function(item,i){item.id==id&&list.splice(i,1)}))}))},CEvent.prototype.removeByKey=function(key){delete this.listeners[key]},CEvent.prototype.removeBySel=function(type,sel){var list=this.listeners[type];Object.values(list).forEach((function(item,i){item.sel==sel&&list.splice(i,1)}))},CEvent.prototype.clear=function(){this.listeners={}},CEvent.prototype.trigger=function(key){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var list=this.listeners[key];list&&list.forEach((function(item){return Reflect.apply(item.fn,null,args)}))},CEvent}();exports.CEvent=CEvent,exports.delegate=function(source){var root=source.getNode(),event=source.event=new CEvent;["click","mousedown","mouseup","change","input","keydown"].forEach((function(type){root.addEventListener(type,(function(e){e.stopImmediatePropagation();var list=event.listeners[type];list&&list.forEach((function(item){Array.from(root.querySelectorAll(item.sel)).forEach((function(node){util_1.contains(node,e.target)&&Reflect.apply(item.fn,source,[e,node])}))}))}))})),source.addEvent=function(type,sel,fn){event.add(type,sel,fn)},source.removeEvent=function(type,sel){event.removeBySel(type,sel)},source.clearEvents=function(){event.clear()}};var AbstractCEvent=function(){function AbstractCEvent(){}return AbstractCEvent.prototype.addEvent=function(type,sel,fn){},AbstractCEvent.prototype.removeEvent=function(type,sel){},AbstractCEvent.prototype.clearEvents=function(){},AbstractCEvent}();exports.AbstractCEvent=AbstractCEvent},function(module,exports,__webpack_require__){var v1=__webpack_require__(209),v4=__webpack_require__(210),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},function(module,exports,__webpack_require__){var _nodeId,_clockseq,rng=__webpack_require__(99),bytesToUuid=__webpack_require__(100),_lastMSecs=0,_lastNSecs=0;module.exports=function(options,buf,offset){var i=buf&&offset||0,b=buf||[],node=(options=options||{}).node||_nodeId,clockseq=options.clockseq!==undefined?options.clockseq:_clockseq;if(null==node||null==clockseq){var seedBytes=rng();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=16383&(seedBytes[6]<<8|seedBytes[7]))}var msecs=options.msecs!==undefined?options.msecs:(new Date).getTime(),nsecs=options.nsecs!==undefined?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&options.clockseq===undefined&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&options.nsecs===undefined&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}},function(module,exports,__webpack_require__){var rng=__webpack_require__(99),bytesToUuid=__webpack_require__(100);module.exports=function(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"===options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var util_1=__webpack_require__(63),store_1=__webpack_require__(101),rcomponent=/<component\s[^>]*>(<\/component>)?/g,rattr=/\s([^\s:"'<>\/=]+)\s*=\s*"([^"]*)"/g,rprop=/:([^\s:"'<>\/=]+)\s*=\s*"([^"]*)"/g,rbind=/<([^\s]*).*\s@[^@=]*="([^"]*)"[^/<]*(?:\/>|<\/\1>)/g,hooks={valHook:function(node,value){node.value=value},textHook:function(node,value){node.textContent=value},blockHook:function(node,value){node.innerHTML=value}},createExtension=function(obj){return function(){this.tags=["component"],this.parse=function(parser,nodes,lexer){var token=parser.nextToken(),args=parser.parseSignature(null,!0);return parser.advanceAfterBlockEnd(token.value),new nodes.CallExtension(this,"run",args)},this.run=function(context,args){var id=util_1.generateUid();return delete args.__keywords,obj.items.push(__assign({sel:'div[r-id="'+id+'"]'},args)),'<div r-id="'+id+'"></div>'}}},Parser=function(){function Parser(tpl,data){this.data=data,this.template=this.rtemplate=tpl}return Parser.prototype.parseDirective=function(){for(var result,_loop_1=function(){var id=util_1.generateUid(),tag=result[1],exp=result[2],fn=/input|textarea/i.test(tag)?hooks.valHook:hooks.textHook;this_1.rtemplate=this_1.rtemplate.replace(/@[^@=]*="([^"]*)"/,'d-id="'+id+'"'),this_1.watchers.push(new store_1.Watcher(this_1.data,exp,(function(node,newVal){fn(node.querySelector('[d-id="'+id+'"]'),newVal)})))},this_1=this;result=rbind.exec(this.rtemplate);)_loop_1()},Parser.prototype.parseComponent=function(){var _this=this,list=this.rtemplate.match(rcomponent),data=this.data;list&&list.forEach((function(tag){var attrs,props,id=util_1.generateUid(),item={sel:'div[r-id="'+id+'"]',data:{}};for(_this.rtemplate=_this.rtemplate.replace(tag,'<div r-id="'+id+'"></div>');attrs=rattr.exec(tag);)item[attrs[1]]=attrs[2];for(;props=rprop.exec(tag);)item.data[props[1]]=data[props[2]];_this.items.push(item)}))},Parser.prototype.compile=function(node){var env=window.nunjucks.configure({autoescape:!1}),addComponent=createExtension(this);env.addExtension("custom",new addComponent),this.watchers=[],this.items=[],this.rtemplate=env.renderString(this.template,this.data),this.parseComponent(),this.parseDirective(),node.innerHTML=this.rtemplate,this.watchers.forEach((function(watcher){return watcher.init(node)}))},Parser.prototype.getDiff=function(){var lastItems=this.items.filter((function(item){return item.msg})),env=window.nunjucks.configure({autoescape:!1}),addComponent=createExtension(this);return env.addExtension("custom",new addComponent),this.watchers=[],this.items=[],this.rtemplate=env.renderString(this.template,this.data),this.items.filter((function(item){return item.msg})).filter((function(item,i){var oldItem=lastItems[i];return oldItem?item.msg.msg_id!==oldItem.msg.msg_id:item}))},Parser}();exports["default"]=Parser},function(module,exports,__webpack_require__){(exports=module.exports=__webpack_require__(24)(!1)).push([module.i,".time_2YtKH {\n  margin: 0;\n  clear: both;\n  text-align: center;\n  color: #8e9ca8;\n  padding: 20px 0 12px;\n  font-size: 12px;\n}\n.tips_11eGS {\n  background: #d9dee2;\n  height: 24px;\n  line-height: 24px;\n  border-radius: 12px;\n  color: #8e9ca8;\n  font-size: 12px;\n  display: inline-block;\n  padding: 0 4px;\n}\n.msgContent_1zaK0 {\n  display: inline-block;\n  width: 100%;\n  margin: 4px 0;\n}\n.msgContent_1zaK0 .msgContainer_2njOc {\n  margin: 0;\n  margin: 12px 0;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dt {\n  height: 36px;\n  width: 36px;\n  text-align: left;\n  float: left;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dt .avatar_1rwWo {\n  width: 36px;\n  height: 36px;\n  overflow: hidden;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dt .circle_3Hy0S {\n  border-radius: 50%;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dt img {\n  width: 36px;\n  height: 36px;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd {\n  float: left;\n  position: relative;\n  text-align: left;\n  max-width: 75%;\n  margin: 0;\n  width: auto !important;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd .content_1mnBh {\n  font-size: 14px;\n  line-height: 1.3;\n  word-break: break-all;\n  word-break: break-word;\n  overflow-wrap: break-word;\n  background: #fff;\n  display: inline-block;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd .textContent_3EjL3 {\n  padding: 9px 12px;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd .textContent_3EjL3 img {\n  max-width: 200px;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd .textContent_3EjL3 a {\n  color: inherit;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd .similar_2T4kX {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  border-top: solid 0.5px #eceef0;\n  padding: 12px 15px 24px;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd .similar_2T4kX li {\n  margin-top: 12px;\n  cursor: pointer;\n  color: #1f8fff;\n  font-size: 14px;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd .cls_34Yp0 {\n  background: none !important;\n  padding: 0;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd .hiddenId_2Nla0 {\n  font-size: 12px;\n  color: #eceef0;\n  position: absolute;\n  bottom: -17px;\n  width: 130px;\n  left: -31px;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd .loaderRing_hJphL {\n  position: absolute;\n  top: 50%;\n  left: -31px;\n  margin: 0;\n  margin-top: -10px;\n  width: 20px;\n  height: 20px;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd .loaderRing_hJphL .loaderRingLight_12O_g {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  animation: rotate-360_JaLB9 2.5s linear infinite running;\n  z-index: 1;\n  box-sizing: border-box;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd .loaderRing_hJphL .loaderRingTrack_1dA4F {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  box-sizing: border-box;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd .reSendStatus_2uvWb,\n.msgContent_1zaK0 .msgContainer_2njOc dd .noNet_nJIxw {\n  position: absolute;\n  top: 50%;\n  left: -31px;\n  margin: 0;\n  margin-top: -10px;\n  width: 20px;\n  height: 20px;\n}\n.msgContent_1zaK0 .msgContainer_2njOc dd .reSendStatus_2uvWb img,\n.msgContent_1zaK0 .msgContainer_2njOc dd .noNet_nJIxw img {\n  width: 100%;\n}\n.msgContent_1zaK0 .userMsg_3TreI dt {\n  margin-left: 8px;\n  float: right;\n}\n.msgContent_1zaK0 .userMsg_3TreI dd {\n  float: right;\n}\n.msgContent_1zaK0 .userMsg_3TreI dd .content_1mnBh,\n.msgContent_1zaK0 .userMsg_3TreI dd .bubbleDrip_3U5cJ {\n  border-radius: 24px 0 24px 24px;\n}\n.msgContent_1zaK0 .userMsg_3TreI dd .bubbleCapsule_3RQFO {\n  border-radius: 24px;\n}\n.msgContent_1zaK0 .userMsg_3TreI dd .bubbleSquare_3OKy1 {\n  border-radius: 1px;\n}\n.msgContent_1zaK0 .userMsg_3TreI dd .fontColor_2zoRh {\n  color: #000;\n}\n.msgContent_1zaK0 .userMsg_3TreI dd .fontColor_2zoRh a {\n  color: #000;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dt {\n  margin-right: 10px;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .content_1mnBh,\n.msgContent_1zaK0 .staffMsg_32JhC dd .bubbleDrip_3U5cJ {\n  border-radius: 0 24px 24px 24px;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .bubbleCapsule_3RQFO {\n  border-radius: 24px;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .bubbleSquare_3OKy1 {\n  border-radius: 1px;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .suggest_3hWZm {\n  position: absolute;\n  right: -48px;\n  top: 0;\n  width: 40px;\n  height: 36px;\n  line-height: 36px;\n  cursor: pointer;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .suggest_3hWZm span {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  background: url(https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/ea306395-4d67-4096-8363-f65bf120d0c1.png);\n  background-size: 20px 20px;\n  vertical-align: middle;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .suggest_3hWZm span:hover {\n  background: url(https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/9b178914-24f4-41b0-80c8-ba294d7e2d1b.png);\n  background-size: 20px 20px;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .suggest_3hWZm img {\n  width: 20px;\n  height: 20px;\n  vertical-align: middle;\n  background: #fff;\n  border-radius: 50%;\n  box-shadow: 0 2px 8px 0 rgba(66, 91, 109, 0.1);\n  cursor: not-allowed;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .answerList_2Tc3p {\n  position: absolute;\n  width: 132px;\n  left: 0;\n  top: 36px;\n  margin: 0;\n  padding: 0;\n  background: #fff;\n  border-radius: 8px;\n  box-sizing: border-box;\n  overflow: hidden;\n  z-index: 2;\n  box-shadow: 0 2px 15px 0 rgba(66, 91, 109, 0.2);\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .answerList_2Tc3p li {\n  list-style: none;\n  padding: 0 12px;\n  line-height: 40px;\n  cursor: pointer;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .answerList_2Tc3p li:hover {\n  background: #e7f3ff;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .answerList_2Tc3p img {\n  width: 20px;\n  display: inline-block;\n  border-radius: 50%;\n  margin-right: 8px;\n  vertical-align: middle;\n  box-shadow: 0 2px 8px 0 rgba(66, 91, 109, 0.1);\n  cursor: pointer;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .answerList_2Tc3p p {\n  display: inline-block;\n  font-size: 12px;\n  color: #333;\n  margin: 0;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .alRight_1gppJ {\n  right: 18px;\n  left: initial;\n}\n.msgContent_1zaK0 .staffMsg_32JhC dd .alTop_1Z3WM {\n  bottom: 32px;\n  top: initial;\n}\n.ellipsis_R4snO {\n  display: inline-block;\n  width: 90px;\n  height: 36px;\n  line-height: 36px;\n  text-align: center;\n}\n.ellipsis_R4snO span {\n  display: inline-block;\n  width: 6px;\n  height: 6px;\n  margin-right: 5px;\n  border-radius: 50%;\n  background: #1f8fff;\n  animation: load_2Yt8x 1.04s ease infinite;\n}\n.ellipsis_R4snO span:last-child {\n  margin-right: 0px;\n}\n.ellipsis_R4snO span:nth-child(1) {\n  animation-delay: 0.13s;\n}\n.ellipsis_R4snO span:nth-child(2) {\n  animation-delay: 0.26s;\n}\n.ellipsis_R4snO span:nth-child(3) {\n  animation-delay: 0.39s;\n}\n.ellipsis_R4snO span:nth-child(4) {\n  animation-delay: 0.52s;\n}\n.ellipsis_R4snO span:nth-child(5) {\n  animation-delay: 0.65s;\n}\n.imgContent_2YDAg {\n  cursor: pointer;\n  height: 110px;\n}\n.imgContent_2YDAg img {\n  max-width: 160px;\n  max-height: 160px;\n  border-radius: 8px;\n}\n.shareLinkContent_eMk4q {\n  display: block;\n  width: 255px;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px 0 rgba(66, 91, 109, 0.2);\n  color: #000;\n  text-decoration: none;\n  padding: 12px;\n}\n.shareLinkContent_eMk4q .shareLink_2bIax {\n  margin: 0;\n}\n.shareLinkContent_eMk4q .shareLink_2bIax dt {\n  width: 100%;\n  height: 20px;\n  margin-left: 0;\n  vertical-align: initial;\n  float: none;\n}\n.shareLinkContent_eMk4q .shareLink_2bIax dt h5 {\n  margin: 0;\n  font-weight: normal;\n  font-size: 14px;\n  color: #333;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.shareLinkContent_eMk4q .shareLink_2bIax dd {\n  display: -webkit-flex;\n  display: -ms-flex;\n  display: flex;\n  margin-top: 12px;\n  max-width: inherit;\n  float: none;\n}\n.shareLinkContent_eMk4q .shareLink_2bIax dd .description_3M_Hk {\n  margin-right: 8px;\n  margin-top: 4px;\n  line-height: 1.5;\n  color: #8e9ca8;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  flex: 1;\n}\n.shareLinkContent_eMk4q .shareLink_2bIax dd .coverUrl_1NYtQ {\n  width: 48px;\n  height: 48px;\n}\n.shareLinkContent_eMk4q .shareLink_2bIax dd .coverUrl_1NYtQ img {\n  width: 48px;\n  height: 48px;\n}\n.fileContent_2jcuw {\n  display: block;\n  width: 255px;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px 0 rgba(66, 91, 109, 0.2);\n  color: #000;\n  text-decoration: none;\n  padding: 12px;\n  filter: none !important;\n}\n.fileContent_2jcuw .file_1hn8i {\n  display: -webkit-flex;\n  display: -ms-flex;\n  display: flex;\n  flex-direction: row-reverse;\n  margin: 0;\n}\n.fileContent_2jcuw .file_1hn8i dt {\n  width: 64px;\n  height: 64px;\n  text-align: center;\n  overflow: hidden;\n  line-height: 58px;\n  margin-right: 0;\n  margin-left: 10px;\n  border-radius: 4px;\n}\n.fileContent_2jcuw .file_1hn8i dt i {\n  font-weight: bold;\n  font-size: 22px;\n  color: #fff;\n}\n.fileContent_2jcuw .file_1hn8i dd {\n  float: initial;\n  flex: 1;\n}\n.fileContent_2jcuw .file_1hn8i .fileName_Kt4P6 {\n  color: #333;\n  overflow: hidden;\n  height: 40px;\n  line-height: 1.5;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  flex: 1;\n}\n.fileContent_2jcuw .file_1hn8i .downLoad_aXOgb {\n  display: block;\n  color: #1f77f3;\n  text-align: left;\n  margin-top: 4px;\n}\n.audio_2aun6 {\n  cursor: pointer;\n  min-width: 80px;\n  padding: 8px 12px;\n}\n.audio_2aun6 .audioMask_2Y4pw {\n  display: -webkit-flex;\n  display: -ms-flex;\n  display: flex;\n  justify-content: space-between;\n}\n.audio_2aun6 .audioMask_2Y4pw span {\n  min-width: 48px;\n  color: #8e9ca8;\n  font-size: 12px;\n  font-weight: 500;\n  margin-right: 16px;\n  line-height: 1.5;\n}\n.audio_2aun6 .voiceContainer_1HfNV {\n  display: none;\n}\n.audio_2aun6 .animation_2yM8z {\n  width: 16px;\n  height: 16px;\n  display: -webkit-flex;\n  display: -ms-flex;\n  display: flex;\n  justify-content: space-around;\n  margin: 0;\n  padding: 0;\n  padding-top: 4px;\n}\n.audio_2aun6 .animation_2yM8z li {\n  list-style: none;\n  width: 2px;\n  height: 8px;\n  border-radius: 1px;\n  background: #b3bdc5;\n}\n.audio_2aun6 .animation_2yM8z li:nth-of-type(2),\n.audio_2aun6 .animation_2yM8z li:nth-of-type(4) {\n  margin-top: 2px;\n}\n.audio_2aun6 .actived_1ImVD li {\n  animation: playing_KjvIa 1s ease-in-out infinite;\n}\n.audio_2aun6 .actived_1ImVD li:nth-of-type(2),\n.audio_2aun6 .actived_1ImVD li:nth-of-type(4) {\n  margin-top: 2px;\n  animation-delay: 0.5s;\n}\n.videoContent_3r_fp {\n  line-height: 0;\n  position: relative;\n  border-radius: 8px;\n  overflow: hidden;\n}\n.videoContent_3r_fp .video_2spk- {\n  max-width: 160px;\n  max-height: 160px;\n}\n.videoContent_3r_fp .model_3gJi8 {\n  cursor: pointer;\n  position: absolute;\n  background: rgba(0, 0, 0, 0.4);\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n.videoContent_3r_fp .model_3gJi8 .playBox_1X1qk {\n  width: 32px;\n  height: 32px;\n  background: rgba(255, 255, 255, 0.6);\n  border-radius: 50%;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n}\n.videoContent_3r_fp .model_3gJi8 .playBox_1X1qk img {\n  width: 100%;\n  height: 100%;\n}\n.richTextContent_3FJIr {\n  overflow: hidden;\n  min-height: 32px;\n  padding: 8px 8px 0;\n}\n.richTextContent_3FJIr img {\n  width: 100% !important;\n}\n.fullContent_1n4Pw {\n  max-width: 570px;\n}\n.phoneContent_2v_H6 {\n  max-width: 280px;\n}\n@keyframes playing_KjvIa {\n  0% {\n    margin-top: 0;\n  }\n  50% {\n    margin-top: 2px;\n  }\n}\n@keyframes load_2Yt8x {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@keyframes rotate-360_JaLB9 {\n  from {\n    -moz-transform: rotate(0);\n    -ms-transform: rotate(0);\n    -webkit-transform: rotate(0);\n    transform: rotate(0);\n  }\n  to {\n    -moz-transform: rotate(360deg);\n    -ms-transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",""]),exports.locals={time:"time_2YtKH",tips:"tips_11eGS",msgContent:"msgContent_1zaK0",msgContainer:"msgContainer_2njOc",avatar:"avatar_1rwWo",circle:"circle_3Hy0S",content:"content_1mnBh",textContent:"textContent_3EjL3",similar:"similar_2T4kX",cls:"cls_34Yp0",hiddenId:"hiddenId_2Nla0",loaderRing:"loaderRing_hJphL",loaderRingLight:"loaderRingLight_12O_g","rotate-360":"rotate-360_JaLB9",loaderRingTrack:"loaderRingTrack_1dA4F",reSendStatus:"reSendStatus_2uvWb",noNet:"noNet_nJIxw",userMsg:"userMsg_3TreI",bubbleDrip:"bubbleDrip_3U5cJ",bubbleCapsule:"bubbleCapsule_3RQFO",bubbleSquare:"bubbleSquare_3OKy1",fontColor:"fontColor_2zoRh",staffMsg:"staffMsg_32JhC",suggest:"suggest_3hWZm",answerList:"answerList_2Tc3p",alRight:"alRight_1gppJ",alTop:"alTop_1Z3WM",ellipsis:"ellipsis_R4snO",load:"load_2Yt8x",imgContent:"imgContent_2YDAg",shareLinkContent:"shareLinkContent_eMk4q",shareLink:"shareLink_2bIax",description:"description_3M_Hk",coverUrl:"coverUrl_1NYtQ",fileContent:"fileContent_2jcuw",file:"file_1hn8i",fileName:"fileName_Kt4P6",downLoad:"downLoad_aXOgb",audio:"audio_2aun6",audioMask:"audioMask_2Y4pw",voiceContainer:"voiceContainer_1HfNV",animation:"animation_2yM8z",actived:"actived_1ImVD",playing:"playing_KjvIa",videoContent:"videoContent_3r_fp",video:"video_2spk-",model:"model_3gJi8",playBox:"playBox_1X1qk",richTextContent:"richTextContent_3FJIr",fullContent:"fullContent_1n4Pw",phoneContent:"phoneContent_2v_H6"}},function(module,exports,__webpack_require__){(exports=module.exports=__webpack_require__(24)(!1)).push([module.i,".chatInput_36lH_ {\n  margin: 16px;\n  padding: 12px 16px 16px;\n  background: #fff;\n  box-shadow: 0 2px 4px 0 rgba(66, 91, 109, 0.2);\n  position: relative;\n}\n.chatInput_36lH_ .wulaiLogo_1QztB {\n  position: absolute;\n  width: 116px;\n  top: -24px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n}\n.chatInput_36lH_ textarea {\n  outline: none;\n  border: none;\n  padding: 0;\n  -webkit-tap-highlight-color: transparent;\n  resize: none;\n  width: 100%;\n  height: 56px;\n  font-size: 14px;\n  line-height: 1.5;\n}\n.chatInput_36lH_ textarea::-webkit-input-placeholder {\n  color: #cacaca;\n}\n.chatInput_36lH_ textarea:-moz-placeholde {\n  color: #cacaca;\n}\n.chatInput_36lH_ .ctrl_3ULhU {\n  height: 32px;\n  display: flex;\n  justify-content: space-between;\n}\n.chatInput_36lH_ .ctrl_3ULhU .pullLeft_287xp {\n  height: 24px;\n  margin-top: 8px;\n  float: left;\n}\n.chatInput_36lH_ .ctrl_3ULhU .pullLeft_287xp .picture_1g8pX {\n  height: 24px;\n  position: relative;\n  cursor: pointer;\n}\n.chatInput_36lH_ .ctrl_3ULhU .pullLeft_287xp .uploader_-wISN {\n  width: 24px;\n  height: 24px;\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n}\n.chatInput_36lH_ .ctrl_3ULhU .pullRight_2nejX {\n  float: right;\n}\n.chatInput_36lH_ .ctrl_3ULhU .sendBtn_3wDl- {\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  cursor: pointer;\n  text-align: center;\n}\n.chatInput_36lH_ .ctrl_3ULhU .sendBtn_3wDl- img {\n  width: 32px;\n  height: 32px;\n}\n.boderSquare_1119t {\n  border-radius: 1px;\n}\n.borderCircle_3SERG {\n  border-radius: 24px;\n}\n@media screen and (min-width: 320px) and (max-width: 414px) {\n  .chatInput_36lH_ {\n    display: -webkit-flex;\n    display: -ms-flex;\n    display: flex;\n    border-radius: 32px;\n    box-shadow: 0 2px 4px 0 rgba(66, 91, 109, 0.2);\n    margin: 16px 16px 16px 60px;\n  }\n  .chatInput_36lH_ div,\n  .chatInput_36lH_ p,\n  .chatInput_36lH_ a,\n  .chatInput_36lH_ img,\n  .chatInput_36lH_ input {\n    position: initial;\n  }\n  .chatInput_36lH_ textarea {\n    box-sizing: border-box;\n    height: 40px;\n    padding-top: 10px;\n    white-space: nowrap;\n    margin-right: 10px;\n    font-size: 16px;\n    min-height: 40px;\n  }\n  .chatInput_36lH_ .ctrl_3ULhU .sendBtn_3wDl- {\n    margin-top: 6px;\n  }\n  .chatInput_36lH_ .ctrl_3ULhU .pullLeft_287xp {\n    position: absolute;\n    width: 32px;\n    height: 32px;\n    background: #fff;\n    border-radius: 50%;\n    text-align: center;\n    line-height: 32px;\n    box-shadow: 0 2px 4px 0 rgba(66, 91, 109, 0.2);\n    top: 10px;\n    left: -44px;\n  }\n  .chatInput_36lH_ .ctrl_3ULhU .pullLeft_287xp .picture_1g8pX {\n    margin-top: 4px;\n  }\n}\n",""]),exports.locals={chatInput:"chatInput_36lH_",wulaiLogo:"wulaiLogo_1QztB",ctrl:"ctrl_3ULhU",pullLeft:"pullLeft_287xp",picture:"picture_1g8pX",uploader:"uploader_-wISN",pullRight:"pullRight_2nejX",sendBtn:"sendBtn_3wDl-",boderSquare:"boderSquare_1119t",borderCircle:"borderCircle_3SERG"}},function(module){module.exports={name:"web-sdk",version:"3.30.0",description:"IM SDK",main:"dist/IMLib.js",scripts:{dev:"better-npm-run dev",node:"node ./dist/server.js",pm2:"pm2 start --no-daemon pm2.json",build:"better-npm-run build"},betterScripts:{dev:{command:"webpack-dev-server",env:{NODE_ENV:"development"}},build:{command:"webpack --progress --colors",env:{NODE_ENV:"production"}}},repository:{type:"git",url:"git+ssh://git@gitlab.com/laiye-frontend-repos/web-sdk.git"},keywords:["im"],author:"wulai",license:"ISC",bugs:{url:"https://gitlab.com/laiye-frontend-repos/web-sdk/issues"},homepage:"https://gitlab.com/laiye-frontend-repos/web-sdk#readme",dependencies:{"@types/uuid":"3.4.4","copy-to-clipboard":"3.2.0","core-js":"3.0.0",uuid:"3.3.2","whatwg-fetch":"3.0.0",xss:"1.0.6"},devDependencies:{"better-npm-run":"0.1.1",colors:"1.3.3","css-loader":"2.1.0","html-webpack-plugin":"3.2.0",less:"3.9.0","less-loader":"4.1.0","mini-css-extract-plugin":"0.5.0","style-loader":"0.23.1","ts-loader":"5.3.3",typescript:"3.3.3","url-loader":"1.1.2",webpack:"4.29.3","webpack-cli":"3.2.3","webpack-dev-server":"3.1.14"}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var message_1=__webpack_require__(28),config_1=__webpack_require__(1),stream_1=__webpack_require__(6),_instance=null,Monitor={MAX_TIMES:3,count:0,isDisconnected:!0,isConnecting:!1,reset:function(){this.count=0,this.isConnecting&&(this.isConnecting=!1)},reconnect:function(){var _this=this;if(this.count>=this.MAX_TIMES)return this.reset(),Promise.reject("重连了很多次，还是失败了……请刷新浏览器");var reconnect=RongIMLib.RongIMClient.reconnect;return new Promise((function(resolve,reject){var handleError=function(err){_this.count+=1,_this.isConnecting=!1,reject(err)};reconnect({onSuccess:function(){console.log("重连成功。"),_this.reset(),resolve()},onTokenIncorrect:function(){return handleError("无效的令牌")},onError:function(error){handleError("重连异常："+error)}},{auto:!0,url:"https://cdn.ronghub.com/RongIMLib-2.4.0.min.js",rate:[1e3]})}))}};exports.init=function(appKey,rcToken){if(_instance)return new Promise((function(resolve){return resolve(_instance)}));var RongIMClient=RongIMLib.RongIMClient;try{RongIMClient.init(appKey,null,{showError:!0}),RongIMLib.RongIMEmoji.init({appKey:appKey})}catch(e){console.error("RongIMClient.init",e.message,e.stack)}return RongIMClient.setConnectionStatusListener({onChanged:function(status){var STATUS=RongIMLib.ConnectionStatus,NetWork=window.appLocale.NetWork;switch(status){case STATUS.KICKED_OFFLINE_BY_OTHER_CLIENT:stream_1["default"].trigger(config_1.STREAM_LISTEN.RECONNECT_RONGCOULD,{isShowModal:!0,showBtn:!0,content:NetWork.rongMsg});break;case STATUS.DISCONNECTED:case STATUS.NETWORK_UNAVAILABLE:case STATUS.CONNECTION_CLOSED:_instance&&(console.error("融云连接异常："+status+" - "+STATUS[status]),"undefined"!=typeof navigator&&navigator.onLine&&Monitor.reconnect());break;case STATUS.CONNECTED:console.info("融云连接成功："+status+" time："+(new Date).getTime());break;case STATUS.CONNECTING:}}}),_instance=RongIMClient.getInstance(),RongIMLib.RongIMClient.setOnReceiveMessageListener({onReceived:function(msg){var content=msg.content;if("undefined"!=typeof content.extra){var msgBody=JSON.parse(content.extra);stream_1["default"].trigger(config_1.STREAM_LISTEN.IS_SHOW_LOADING_MSG,!1);var message=message_1.reRongMsgInfo(msgBody);stream_1["default"].trigger(config_1.STREAM_LISTEN.SEND_MSG,message)}}}),new Promise((function(resolve,reject){RongIMClient.connect(rcToken,{onSuccess:function(id){console.log("id ---\x3e",id),resolve(_instance)},onTokenIncorrect:function(){var txt="无效的通讯令牌，请联系技术维护人员。";console.error(txt,appKey,rcToken),reject(txt)},onError:function(error){var txt="通讯管道连接失败："+error+"，请联系技术维护人员。";console.error(txt,appKey,rcToken),reject(txt)}})}))},exports.disconnect=function(){_instance&&(_instance.disconnect(),_instance=null)},exports["default"]={init:exports.init,disconnect:exports.disconnect,Monitor:Monitor}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Headers",(function(){return Headers})),__webpack_require__.d(__webpack_exports__,"Request",(function(){return Request})),__webpack_require__.d(__webpack_exports__,"Response",(function(){return Response})),__webpack_require__.d(__webpack_exports__,"DOMException",(function(){return DOMException})),__webpack_require__.d(__webpack_exports__,"fetch",(function(){return fetch}));var support_searchParams="URLSearchParams"in self,support_iterable="Symbol"in self&&"iterator"in Symbol,support_blob="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),support_formData="FormData"in self,support_arrayBuffer="ArrayBuffer"in self;if(support_arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1};function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name))throw new TypeError("Invalid character in header field name");return name.toLowerCase()}function normalizeValue(value){return"string"!=typeof value&&(value=String(value)),value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:value===undefined,value:value}}};return support_iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach((function(value,name){this.append(name,value)}),this):Array.isArray(headers)?headers.forEach((function(header){this.append(header[0],header[1])}),this):headers&&Object.getOwnPropertyNames(headers).forEach((function(name){this.append(name,headers[name])}),this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function fileReaderReady(reader){return new Promise((function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}}))}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function bufferClone(buf){if(buf.slice)return buf.slice(0);var view=new Uint8Array(buf.byteLength);return view.set(new Uint8Array(buf)),view.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(body){var obj;this._bodyInit=body,body?"string"==typeof body?this._bodyText=body:support_blob&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:support_formData&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():support_arrayBuffer&&support_blob&&((obj=body)&&DataView.prototype.isPrototypeOf(obj))?(this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))?this._bodyArrayBuffer=bufferClone(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support_blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var blob,reader,promise,rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return blob=this._bodyBlob,reader=new FileReader,promise=fileReaderReady(reader),reader.readAsText(blob),promise;if(this._bodyArrayBuffer)return Promise.resolve(function(buf){for(var view=new Uint8Array(buf),chars=new Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support_formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value},Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach((function(value,name){items.push(name)})),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach((function(value){items.push(value)})),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach((function(value,name){items.push([name,value])})),iteratorFor(items)},support_iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(input,options){var method,upcased,body=(options=options||{}).body;if(input instanceof Request){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,options.headers||(this.headers=new Headers(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=options.credentials||this.credentials||"same-origin",!options.headers&&this.headers||(this.headers=new Headers(options.headers)),this.method=(method=options.method||this.method||"GET",upcased=method.toUpperCase(),methods.indexOf(upcased)>-1?upcased:method),this.mode=options.mode||this.mode||null,this.signal=options.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function decode(body){var form=new FormData;return body.trim().split("&").forEach((function(bytes){if(bytes){var split=bytes.split("="),name=split.shift().replace(/\+/g," "),value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}})),form}function Response(bodyInit,options){options||(options={}),this.type="default",this.status=options.status===undefined?200:options.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in options?options.statusText:"OK",this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:0,statusText:""});return response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status:status,headers:{location:url}})};var DOMException=self.DOMException;try{new DOMException}catch(err){(DOMException=function(message,name){this.message=message,this.name=name;var error=Error(message);this.stack=error.stack}).prototype=Object.create(Error.prototype),DOMException.prototype.constructor=DOMException}function fetch(input,init){return new Promise((function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted)return reject(new DOMException("Aborted","AbortError"));var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}xhr.onload=function(){var rawHeaders,headers,options={status:xhr.status,statusText:xhr.statusText,headers:(rawHeaders=xhr.getAllResponseHeaders()||"",headers=new Headers,rawHeaders.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(line){var parts=line.split(":"),key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}})),headers)};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))},xhr.onerror=function(){reject(new TypeError("Network request failed"))},xhr.ontimeout=function(){reject(new TypeError("Network request failed"))},xhr.onabort=function(){reject(new DOMException("Aborted","AbortError"))},xhr.open(request.method,request.url,!0),"include"===request.credentials?xhr.withCredentials=!0:"omit"===request.credentials&&(xhr.withCredentials=!1),"responseType"in xhr&&support_blob&&(xhr.responseType="blob"),request.headers.forEach((function(value,name){xhr.setRequestHeader(name,value)})),request.signal&&(request.signal.addEventListener("abort",abortXhr),xhr.onreadystatechange=function(){4===xhr.readyState&&request.signal.removeEventListener("abort",abortXhr)}),xhr.send("undefined"==typeof request._bodyInit?null:request._bodyInit)}))}fetch.polyfill=!0,self.fetch||(self.fetch=fetch,self.Headers=Headers,self.Request=Request,self.Response=Response)},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),"throw":verb(1),"return":verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(102),component_1=__webpack_require__(2),utils_1=__webpack_require__(9),message_1=__webpack_require__(28),config_1=__webpack_require__(1),stream_1=__webpack_require__(6),app_data_1=__webpack_require__(103),user_data_1=__webpack_require__(64),QuickReplyMsg_1=__webpack_require__(104),SugList_1=__webpack_require__(220),ChatInput=function(_super){function ChatInput(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.onPressEnter=function(event){var mySug=_this.refs.mysug,$textarea=_this.getNode().querySelector("textarea");mySug&&(mySug.data.isShowSugPanel=!1);var text=$textarea.value.replace(/(^\s*)|(\s*$)/g,"");if(!text)return event.preventDefault(),event.stopPropagation(),!1;if(event.shiftKey&&13===event.keyCode)console.log("换行 > ",text);else{event.preventDefault(),event.stopPropagation();var msg=message_1.createTextMsg(text),message=message_1.sendRtMessage(msg.msg_body,msg.msg_type,!0);stream_1["default"].trigger(config_1.STREAM_LISTEN.SEND_MSG,message),_this.data.inputValue&&(_this.data.inputValue="",setTimeout((function(){mySug.data.isShowSugPanel=!1,mySug.data.sugList=[]}),0))}},_this.getUserSugList=function(){return __awaiter(_this,void 0,void 0,(function(){var textarea,value,mySug,sugList,err_1;return __generator(this,(function(_a){switch(_a.label){case 0:textarea=document.getElementsByTagName("textarea")[0],value=textarea.value,mySug=this.refs.mysug,_a.label=1;case 1:return _a.trys.push([1,4,,5]),this.data.isShowSug?value?[4,user_data_1.getUserInputSugList(value)]:[2]:[3,3];case 2:sugList=_a.sent(),mySug.data.isShowSugPanel=0!==sugList.user_suggestions.length,mySug.data.sugList=sugList.user_suggestions.slice(0,4),_a.label=3;case 3:return[3,5];case 4:return err_1=_a.sent(),console.error("用户sug检索失败："+err_1),[3,5];case 5:return[2]}}))}))},_this.handleUpload=function(evt){return __awaiter(_this,void 0,void 0,(function(){var Uploader,file,stsToken,client,ext,storeAs;return __generator(this,(function(_a){switch(_a.label){case 0:return evt.target.files.length?(Uploader=window.appLocale.Uploader,file=evt.target.files[0],10485760,["jpeg","png","gif"].indexOf(file.type.split("/")[1])<0?(stream_1["default"].trigger(config_1.STREAM_LISTEN.TOAST,{isShow:!0,message:Uploader.imgType}),console.error(Uploader.imgType),[2]):file.size>10485760?(stream_1["default"].trigger(config_1.STREAM_LISTEN.TOAST,{isShow:!0,message:Uploader.imgSize}),console.error(Uploader.imgSize),[2]):[4,app_data_1.getStsToken()]):[2];case 1:return(stsToken=_a.sent())?(client=new window.OSS.Wrapper({accessKeyId:stsToken.access_key_id,accessKeySecret:stsToken.access_key_secret,stsToken:stsToken.security_token,endpoint:stsToken.end_point,bucket:stsToken.bucket,secure:"https:"}),ext=file.name.split(".").slice(-1)[0]||"unknown",storeAs=stsToken.access_dir+"/"+(file.uid||file.name)+Date.now()+"."+ext,[2,client.multipartUpload(storeAs,file).then((function(result){if(result&&result.res)return result.res.requestUrls.map((function(url){return url.split("?")[0]}))}))["catch"]((function(err){console.error(Uploader.errMsg,err.message),stream_1["default"].trigger(config_1.STREAM_LISTEN.TOAST,{isShow:!0,message:Uploader.errMsg})}))]):[2,console.error("Can not get STS.")]}}))}))},_this}return __extends(ChatInput,_super),ChatInput.prototype.create=function(){var pageConfig=this.data.pageConfig,_a=window.appLocale,ChatInput=_a.ChatInput,Logo=_a.Logo;this.data.chatShape=config_1.TEXTAREA_SHAPE[pageConfig.frame_shape];var isPhone=document.body.clientWidth<=414;this.data.placeholder=isPhone?ChatInput.placeholder:ChatInput.pcPlaceholder,this.data.wulaiLogo=Logo.waterMark},ChatInput.prototype.mount=function(){var _this=this;this.useEvents();var mySug=this.refs.mysug,$textarea=this.getNode().querySelector("textarea"),$input=this.getNode().querySelector("input");stream_1["default"].listen(config_1.STREAM_LISTEN.IS_SHOW_SUGLIST,(function(input){mySug.data.isShowSugPanel=input.isShow,input.isClear&&(_this.data.inputValue="")}));var validate=utils_1.debounce((function(){return _this.getUserSugList()}),380);this.addEvent("input","textarea",(function(evt){var value=evt.target.value;_this.data.inputValue=value,value||(mySug.data.isShowSugPanel=!1,mySug.data.sugList=[]),value.length&&value.length<25&&validate()})),this.addEvent("keydown","textarea",(function(evt){if(13===evt.keyCode){if(evt.shiftKey)return;return this.onPressEnter(evt)}})),this.addEvent("click",".edit-block",(function(){$textarea.focus()})),this.addEvent("click",".send-msg",(function(evt){if($textarea.value)return ChatInput.isClickSendBtn=!0,this.onPressEnter(evt)})),$input.addEventListener("click",(function(evt){evt.stopPropagation(),$textarea.blur()})),$input.addEventListener("change",(function(evt){return __awaiter(_this,void 0,void 0,(function(){var urls,msg,message;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,this.handleUpload(evt)];case 1:return urls=_a.sent(),msg=message_1.createImageMsg(urls[0]),message=message_1.sendRtMessage(msg.msg_body,msg.msg_type,!0),stream_1["default"].trigger(config_1.STREAM_LISTEN.SEND_MSG,message),[2]}}))}))})),$textarea.addEventListener("blur",(function(){setTimeout((function(){ChatInput.isClickSendBtn||window.scrollTo(0,document.body.scrollHeight),ChatInput.isClickSendBtn=!1}),0)}))},ChatInput.isClickSendBtn=!1,ChatInput.data={inputValue:"",sugList:[],chatShape:"",placeholder:"",wulaiLogo:""},ChatInput.template='\n  <div class="'+style.chatInput+' {{ chatShape }}">\n    <component name="QuickReplyMsg", :pageConfig="pageConfig" />\n    {% component ref="mysug",name="SugList",sugList=sugList %}\n\n    {% if isShowWulaiLogo %}\n      <img src="{{ wulaiLogo }}" class="'+style.wulaiLogo+'"/>\n    {% endif %}\n\n    {# 千万不要换行！ #}\n    <textarea placeholder="{{ placeholder }}" @value="inputValue" maxlength="2048" class="inputcontent needsclick"></textarea>\n\n    <div class="'+style.ctrl+' edit-block">\n      <div class="'+style.pullLeft+'">\n        <div class="'+style.picture+' wulai-web-sdk-upload-icon">\n          <input type="file" accept="image/*" class="'+style.uploader+'"/>\n          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <g fill="none" fill-rule="evenodd">\n              <path id="instagram" fill="#b3bdc5" d="M17.429 9.714a.857.857 0 1 1 0-1.715.857.857 0 0 1 0 1.715M12 15.428A3.432 3.432 0 0 1 8.571 12 3.432 3.432 0 0 1 12 8.571 3.432 3.432 0 0 1 15.429 12 3.432 3.432 0 0 1 12 15.428m6.286-9.714H12A1.716 1.716 0 0 0 10.286 4H9.142a1.717 1.717 0 0 0-1.714 1.714H5.714A1.717 1.717 0 0 0 4 7.43v9.142a1.717 1.717 0 0 0 1.714 1.715h12.572A1.717 1.717 0 0 0 20 16.57V7.43a1.716 1.716 0 0 0-1.714-1.715"/>\n            </g>\n          </svg>\n        </div>\n      </div>\n\n      <div class="'+style.pullRight+'">\n        <div class="'+style.sendBtn+' send-msg" style="background: {{ pageConfig.theme_color}}">\n          <img src="https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/c90a8872-8913-43cc-943b-f496c6c8fdf5.png"/>\n        </div>\n      </div>\n    </div>\n  </div>\n  ',ChatInput.components=[QuickReplyMsg_1["default"],SugList_1["default"]],ChatInput}(component_1["default"]);exports["default"]=ChatInput},function(module,exports,__webpack_require__){var content=__webpack_require__(219);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0};options.insertInto=undefined;__webpack_require__(25)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(exports=module.exports=__webpack_require__(24)(!1)).push([module.i,".quickModal_31CUP {\n  width: 100%;\n  position: absolute !important;\n  white-space: nowrap;\n  top: -44px;\n  left: 0;\n  display: flex;\n}\n.quickModal_31CUP .replyList_u8RMn {\n  flex: 1;\n  overflow-y: scroll;\n}\n.quickModal_31CUP .replyList_u8RMn ul {\n  margin: 0;\n  padding: 0;\n  font-size: 0;\n}\n.quickModal_31CUP .replyList_u8RMn li {\n  list-style: none;\n  border-radius: 18px;\n  background: #fff;\n  margin-left: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #fff;\n  height: 36px;\n  line-height: 36px;\n  padding: 0 24px;\n  display: inline-block;\n}\n.quickModal_31CUP .replyList_u8RMn .fontColor_zn1pI {\n  color: #000;\n}\n.quickModal_31CUP .arrow_1J8V_ {\n  width: 36px;\n  height: 36px;\n  line-height: 36px;\n  text-align: center;\n  cursor: pointer;\n  display: none;\n}\n.quickModal_31CUP .arrow_1J8V_ span {\n  display: inline-block;\n  width: 12px;\n  height: 24px;\n  background: url(https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/8749622b-7263-4f54-bf58-41e797c36402.png);\n  background-size: contain;\n  vertical-align: middle;\n  margin-top: -4px;\n}\n.quickModal_31CUP .arrow_1J8V_ span:hover {\n  background: url(https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/64612447-d183-4a89-b02d-c0d4aff2fae7.png);\n  background-size: contain;\n}\n.quickModal_31CUP .arrow_1J8V_ img {\n  width: 12px;\n  vertical-align: middle;\n}\n.quickModal_31CUP .rightArrow_33Ib_ {\n  transform: rotate(180deg);\n}\n@media screen and (min-width: 320px) and (max-width: 414px) {\n  .quickModal_31CUP .arrow_1J8V_ span {\n    background: url(https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/64612447-d183-4a89-b02d-c0d4aff2fae7.png);\n    background-size: contain;\n  }\n}\n",""]),exports.locals={quickModal:"quickModal_31CUP",replyList:"replyList_u8RMn",fontColor:"fontColor_zn1pI",arrow:"arrow_1J8V_",rightArrow:"rightArrow_33Ib_"}},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),"throw":verb(1),"return":verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(221),component_1=__webpack_require__(2),stream_1=__webpack_require__(6),config_1=__webpack_require__(1),message_1=__webpack_require__(28),SugList=function(_super){function SugList(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SugList,_super),SugList.prototype.mount=function(){this.useEvents(),this.addEvent("click",".sugList",(function(evt){return __awaiter(this,void 0,void 0,(function(){var value,msg,message;return __generator(this,(function(_a){return stream_1["default"].trigger(config_1.STREAM_LISTEN.IS_SHOW_SUGLIST,{isShow:!1,isClear:!0}),value=evt.target.innerText,msg=message_1.createTextMsg(value),message=message_1.sendRtMessage(msg.msg_body,msg.msg_type,!0),stream_1["default"].trigger(config_1.STREAM_LISTEN.SEND_MSG,message),this.data.sugList=[],[2]}))}))}))},SugList.data={isShowSugPanel:!1},SugList.template='\n    {% if isShowSugPanel %}\n      <div class="'+style.sugBox+'">\n        <ul class="'+style.sugs+'">\n          {% for list in sugList %}\n            <li class="sugList">{{ list.suggestion }}</li>\n          {% endfor %}\n        </ul>\n      </div>\n    {% endif %}\n  ',SugList}(component_1["default"]);exports["default"]=SugList},function(module,exports,__webpack_require__){var content=__webpack_require__(222);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0};options.insertInto=undefined;__webpack_require__(25)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){(exports=module.exports=__webpack_require__(24)(!1)).push([module.i,".sugBox_5ihLf {\n  box-sizing: border-box;\n  position: absolute !important;\n  bottom: 140px;\n  left: 0;\n  width: 100%;\n  max-height: 164px;\n  min-height: 41px;\n  z-index: 2;\n}\n.sugBox_5ihLf .sugs_3BfUI {\n  margin: 0;\n  padding: 0;\n  background: #fff;\n  height: 100%;\n  overflow: hidden;\n  overflow-y: scroll;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px 0 rgba(66, 91, 109, 0.2);\n}\n.sugBox_5ihLf .sugs_3BfUI li {\n  list-style: none;\n  line-height: 41px;\n  padding: 0 8px;\n  font-size: 12px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  cursor: pointer;\n}\n.sugBox_5ihLf .sugs_3BfUI li:hover {\n  background: #e7f3ff;\n}\n@media screen and (min-width: 320px) and (max-width: 414px) {\n  .sugBox_5ihLf {\n    bottom: 90px;\n  }\n}\n",""]),exports.locals={sugBox:"sugBox_5ihLf",sugs:"sugs_3BfUI"}},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),"throw":verb(1),"return":verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(105),component_1=__webpack_require__(2),stream_1=__webpack_require__(6),config_1=__webpack_require__(1),utils_1=__webpack_require__(9),message_data_1=__webpack_require__(54),Msg_1=__webpack_require__(106),HistoryMsgPanel=function(_super){function HistoryMsgPanel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.getHistoryList=function(){return __awaiter(_this,void 0,void 0,(function(){var $content,firstMsgId,data,oldMsgs,messages,newMsgs,err_1;return __generator(this,(function(_a){switch(_a.label){case 0:if($content=document.getElementById("msg-panel"),!($content.scrollTop<150))return[3,4];if(!this.data.message.has_more)return[3,4];firstMsgId=this.data.message.msg[0].msg_id,_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,message_data_1.getMsgHistory(firstMsgId,this.data.pageNum)];case 2:return data=_a.sent(),oldMsgs=this.data.message.msg,messages=data.msg.concat(oldMsgs),newMsgs={has_more:data.has_more,msg:messages},this.data.message=newMsgs,[3,4];case 3:return err_1=_a.sent(),console.error(err_1),[3,4];case 4:return[2]}}))}))},_this}return __extends(HistoryMsgPanel,_super),HistoryMsgPanel.prototype.create=function(){return __awaiter(this,void 0,void 0,(function(){var Message,data,filterMsg,isShow,err_2;return __generator(this,(function(_a){switch(_a.label){case 0:Message=window.appLocale.Message,this.data.noMoreMsg=Message.noMore,_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,message_data_1.getMsgHistory()];case 2:return data=_a.sent(),filterMsg=data.msg.filter((function(msg){return!(msg.msg_body.event&&"ENTER"===msg.msg_body.event.event_type)})),this.data.message=__assign({},data,{msg:filterMsg}),isShow=0!==filterMsg.length,stream_1["default"].trigger(config_1.STREAM_LISTEN.IS_SHOW_RT_TIPS,isShow),[3,4];case 3:return err_2=_a.sent(),console.error(err_2),[3,4];case 4:return[2]}}))}))},HistoryMsgPanel.prototype.mount=function(){var $content=document.getElementById("msg-panel");$content.addEventListener("scroll",utils_1.debounce(this.getHistoryList,320)),utils_1.scrollToBottom($content)},HistoryMsgPanel.data={message:{has_more:!1,msg:[]},rtMsg:[],pageNum:20,noMoreMsg:""},HistoryMsgPanel.template='\n    <div>\n      {% if message.has_more === false %}\n        <p class="'+style.noMore+'">{{ noMoreMsg }}</p>\n      {% endif %}\n    </div>\n\n    {% for msg in message.msg %}\n      {% component name="Msg",msg=msg,pageConfig=pageConfig,lastMsg=message.msg[loop.index0 - 1],fullScreen=fullScreen %}\n    {% endfor %}\n  ',HistoryMsgPanel.components=[Msg_1["default"]],HistoryMsgPanel}(component_1["default"]);exports["default"]=HistoryMsgPanel},function(module,exports,__webpack_require__){(exports=module.exports=__webpack_require__(24)(!1)).push([module.i,".holder_CiUw7 {\n  margin: 0;\n  clear: both;\n  text-align: center;\n  padding: 27px 0;\n}\n.holder_CiUw7 .tips_3hJiu {\n  background: #d9dee2;\n  height: 24px;\n  line-height: 24px;\n  border-radius: 12px;\n  color: #8e9ca8;\n  font-size: 12px;\n  display: inline-block;\n  padding: 0 8px;\n}\n.noMore_jJBz7 {\n  font-size: 12px;\n  text-align: center;\n  color: #8e9ca8;\n  margin: 20px 0 10px;\n}\n",""]),exports.locals={holder:"holder_CiUw7",tips:"tips_3hJiu",noMore:"noMore_jJBz7"}},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),"throw":verb(1),"return":verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(14),component_1=__webpack_require__(2),utils_1=__webpack_require__(9),config_1=__webpack_require__(1),message_1=__webpack_require__(28),stream_1=__webpack_require__(6),MsgContent_1=__webpack_require__(107),message_data_1=__webpack_require__(54),reloadPng=__webpack_require__(238),faildPng=__webpack_require__(239),UserMsg=function(_super){function UserMsg(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(UserMsg,_super),UserMsg.prototype.create=function(){var _a=this.data,msg=_a.msg,pageConfig=_a.pageConfig,MSG_TYPE=msg.msg_type;if(this.data.avatarShape=config_1.AVATAR_SHAPE[pageConfig.avatar_shape],this.data.chatBar=config_1.CHAT_BAR[pageConfig.chat_bar],this.data.isShowUserAvatar=2!==pageConfig.user_avatar_chose&&Boolean(pageConfig.user_avatar),1===pageConfig.theme_chose)this.data.fontColor=pageConfig.font_color||"#fff";else{var color=config_1.BACKGROUND_COLOR.find((function(color){return color===pageConfig.theme_color}));this.data.fontColor=void 0===color?"#fff":"#000"}this.data.hasOwnContent="IMAGE"===MSG_TYPE||"FILE"===MSG_TYPE||"SHARELINK"===MSG_TYPE||"VIDEO"===MSG_TYPE},UserMsg.prototype.mount=function(){var _this=this;this.useEvents(),this.data.msg.isUserSend&&(this.sendMsg(),window.addEventListener("online",(function(){_this.data.status.isSend||(_this.data.status={isPending:!1,isError:!1,isReSend:!0,isSend:!0})})),window.addEventListener("offline",(function(){_this.data.status.isSend||(_this.data.status={isPending:!1,isError:!0,isReSend:!1})}))),this.addEvent("click",".re-send",(function(){_this.sendMsg()}))},UserMsg.prototype.sendMsg=function(){return __awaiter(this,void 0,void 0,(function(){var msg,content,err_1,msg_1,message;return __generator(this,(function(_a){switch(_a.label){case 0:if(!(msg=this.data.msg).isUserSend)return[3,4];this.data.status={isPending:!0,isError:utils_1.isOnline(),isReSend:!1,isSend:!0},_a.label=1;case 1:switch(_a.trys.push([1,3,,4]),content=null,msg.msg_type){case"TEXT":content=message_1.createTextMsg(msg.msg_body.text.content);break;case"IMAGE":content=message_1.createImageMsg(msg.msg_body.image.resource_url)}return content?[4,message_data_1.sendMsg(content)]:[2];case 2:return _a.sent().msg_id?(stream_1["default"].trigger(config_1.STREAM_LISTEN.IS_SHOW_LOADING_MSG,!0),this.data.status={isPending:!1,isError:utils_1.isOnline(),isReSend:!1,isSend:!0}):this.data.status={isPending:!1,isError:utils_1.isOnline(),isReSend:!0,isSend:!1},[3,4];case 3:return 8===(err_1=_a.sent()).code?(this.data.status={isPending:!1,isError:!0},msg_1=message_1.createNoticeMsg(err_1.message),message=message_1.sendRtMessage(msg_1.msg_body,msg_1.msg_type,!1),stream_1["default"].trigger(config_1.STREAM_LISTEN.SEND_MSG,message),[2]):(this.data.status={isPending:!1,isError:utils_1.isOnline(),isReSend:!0,isSend:!1},[3,4]);case 4:return[2]}}))}))},UserMsg.data={avatarShape:"",chatBar:"",isShowUserAvatar:!1,hasOwnContent:!1,status:{isPending:!1,isError:!1,isReSend:!1,isSend:!1},fontColor:""},UserMsg.template='\n    <div class="'+style.msgContent+'">\n      <dl class="'+style.msgContainer+" "+style.userMsg+'">\n        {% if isShowUserAvatar %}\n          <dt>\n            <div class="'+style.avatar+' {{ avatarShape }}" style="background: {{ pageConfig.theme_color}}">\n              <img src="{{ pageConfig.user_avatar }}?x-oss-process=image/resize,w_72,h_72/quality,q_80" alt="user-avatar"/>\n            </div>\n          </dt>\n        {% endif %}\n        <dd>\n          <div\n            class="'+style.content+" {{ '"+style.cls+'\' if hasOwnContent else \'\' }} {{ chatBar }} "\n            style="background: {{ pageConfig.theme_color}}; color: {{ fontColor }}"\n          >\n            {% component name="MsgContent",msg=msg,pageConfig=pageConfig,fullScreen=fullScreen %}\n          </div>\n\n          {# 消息重试状态 #}\n          {% if status.isReSend %}\n            <div class="'+style.reSendStatus+' re-send">\n              <img src="'+reloadPng+'"/>\n            </div>\n          {% endif %}\n\n          {# 没网状态 #}\n          {% if status.isError %}\n            <div class="'+style.noNet+'">\n              <img src="'+faildPng+'"/>\n            </div>\n          {% endif %}\n\n          {# 消息发送状态 #}\n          {% if status.isPending %}\n            <div class="'+style.loaderRing+'">\n              <span\n                class="'+style.loaderRingLight+'"\n                style="border:4px solid {{ pageConfig.theme_color }};border-left: 4px solid transparent;"\n              >\n              </span>\n\n              <span\n                class="'+style.loaderRingTrack+'"\n                style="border:4px solid {{ pageConfig.theme_color }};opacity:0.5"\n              >\n              </span>\n            </div>\n          {% endif %}\n\n          <div class="'+style.hiddenId+'">#{{ msg.msg_id }}</div>\n        </dd>\n      </dl>\n    </div>\n  ',UserMsg.components=[MsgContent_1["default"]],UserMsg}(component_1["default"]);exports["default"]=UserMsg},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),"throw":verb(1),"return":verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(14),component_1=__webpack_require__(2),stream_1=__webpack_require__(6),utils_1=__webpack_require__(9),config_1=__webpack_require__(1),message_1=__webpack_require__(28),security_1=__webpack_require__(227),user_data_1=__webpack_require__(64),TextContent=function(_super){function TextContent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TextContent,_super),TextContent.prototype.create=function(){var _a=this.data.msg,msg_body=_a.msg_body,similar_response=_a.similar_response,direction=_a.direction;this.data.content=RongIMLib.RongIMEmoji.symbolToEmoji(msg_body.text.content),direction===config_1.MSG_DIRECTION.staff&&similar_response&&(this.data.similar_response=similar_response);var content=this.data.content,text=security_1.xssFilter(content),reg2=/\n|\\n/g;if(/<img.*?(?:>|\/>)/gi.test(text)||/<a[^>]*href=['"]([^"]*)['"][^>]*>(.*?)<\/a>/g.test(text))text=text;else{var res=text.replace(/((http[s]?\:\/\/)?([\w\-]+\.)+[A-Za-z]{2,}([\:\d]*)?([\/\?][\w\-\.\/?\@\%\!\&=\+\~\:\#\;\,]*)?)/gi,(function(kw){return"<a href="+utils_1.prefixUrl(kw)+' target="_blank">'+kw+"</a>"}));text=res}if(reg2.test(text)){var test=text.replace(reg2,"<br />");text=test}this.data.content=text},TextContent.prototype.mount=function(){var _this=this;this.useEvents(),this.addEvent("click",".similar-list",(function(evt){return __awaiter(_this,void 0,void 0,(function(){var url,value,msg,message;return __generator(this,(function(_a){switch(_a.label){case 0:return url=evt.target.dataset.key,value=evt.target.innerText,msg=message_1.createTextMsg(value),url?[3,1]:(message=message_1.sendRtMessage(msg.msg_body,msg.msg_type,!0),stream_1["default"].trigger(config_1.STREAM_LISTEN.SEND_MSG,message),[3,3]);case 1:return message=message_1.sendRtMessage(msg.msg_body,msg.msg_type),stream_1["default"].trigger(config_1.STREAM_LISTEN.SEND_MSG,message),[4,user_data_1.simulateMessage(url)];case 2:_a.sent(),_a.label=3;case 3:return[2]}}))}))}))},TextContent.data={content:"",similar_response:[]},TextContent.template='\n    <div>\n      <div class="'+style.textContent+' staff-msg-file">{{ content }}</div>\n\n      {% if similar_response.length %}\n        <ul class="'+style.similar+'">\n          {% for similar in similar_response %}\n            <li\n              class="similar-list"\n              data-key="{{ similar.url }}"\n              style="\n                color: {{ pageConfig.theme_color }};\n                text-decoration: {{ \'underline\' if pageConfig.theme_color === \'#000000\' else \'initial\'}};\n              "\n            >\n              {{ similar.detail.qa.standard_question }}\n            </li>\n          {% endfor %}\n        </ul>\n      {% endif %}\n    </div>\n  ',TextContent}(component_1["default"]);exports["default"]=TextContent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var xss_1=__webpack_require__(228),options={whiteList:{a:["href","title","target"],b:[],img:["src"],ul:["class"],li:["class","style"]},css:{whiteList:{color:!0}}};exports.xssFilter=function(html){return xss_1.filterXSS(html,options)}},function(module,exports,__webpack_require__){var DEFAULT=__webpack_require__(108),parser=__webpack_require__(111),FilterXSS=__webpack_require__(231);function filterXSS(html,options){return new FilterXSS(options).process(html)}for(var i in(exports=module.exports=filterXSS).filterXSS=filterXSS,exports.FilterXSS=FilterXSS,DEFAULT)exports[i]=DEFAULT[i];for(var i in parser)exports[i]=parser[i];"undefined"!=typeof window&&(window.filterXSS=module.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=module.exports)},function(module,exports,__webpack_require__){var DEFAULT=__webpack_require__(109),parseStyle=__webpack_require__(230);__webpack_require__(110);function isNull(obj){return obj===undefined||null===obj}function FilterCSS(options){(options=function(obj){var ret={};for(var i in obj)ret[i]=obj[i];return ret}(options||{})).whiteList=options.whiteList||DEFAULT.whiteList,options.onAttr=options.onAttr||DEFAULT.onAttr,options.onIgnoreAttr=options.onIgnoreAttr||DEFAULT.onIgnoreAttr,options.safeAttrValue=options.safeAttrValue||DEFAULT.safeAttrValue,this.options=options}FilterCSS.prototype.process=function(css){if(!(css=(css=css||"").toString()))return"";var options=this.options,whiteList=options.whiteList,onAttr=options.onAttr,onIgnoreAttr=options.onIgnoreAttr,safeAttrValue=options.safeAttrValue;return parseStyle(css,(function(sourcePosition,position,name,value,source){var check=whiteList[name],isWhite=!1;if(!0===check?isWhite=check:"function"==typeof check?isWhite=check(value):check instanceof RegExp&&(isWhite=check.test(value)),!0!==isWhite&&(isWhite=!1),value=safeAttrValue(name,value)){var ret,opts={position:position,sourcePosition:sourcePosition,source:source,isWhite:isWhite};return isWhite?isNull(ret=onAttr(name,value,opts))?name+":"+value:ret:isNull(ret=onIgnoreAttr(name,value,opts))?void 0:ret}}))},module.exports=FilterCSS},function(module,exports,__webpack_require__){var _=__webpack_require__(110);module.exports=function(css,onAttr){";"!==(css=_.trimRight(css))[css.length-1]&&(css+=";");var cssLength=css.length,isParenthesisOpen=!1,lastPos=0,i=0,retCSS="";function addNewAttr(){if(!isParenthesisOpen){var source=_.trim(css.slice(lastPos,i)),j=source.indexOf(":");if(-1!==j){var name=_.trim(source.slice(0,j)),value=_.trim(source.slice(j+1));if(name){var ret=onAttr(lastPos,retCSS.length,name,value,source);ret&&(retCSS+=ret+"; ")}}}lastPos=i+1}for(;i<cssLength;i++){var c=css[i];if("/"===c&&"*"===css[i+1]){var j=css.indexOf("*/",i+2);if(-1===j)break;lastPos=(i=j+1)+1,isParenthesisOpen=!1}else"("===c?isParenthesisOpen=!0:")"===c?isParenthesisOpen=!1:";"===c?isParenthesisOpen||addNewAttr():"\n"===c&&addNewAttr()}return _.trim(retCSS)}},function(module,exports,__webpack_require__){var FilterCSS=__webpack_require__(65).FilterCSS,DEFAULT=__webpack_require__(108),parser=__webpack_require__(111),parseTag=parser.parseTag,parseAttr=parser.parseAttr,_=__webpack_require__(66);function isNull(obj){return obj===undefined||null===obj}function FilterXSS(options){(options=function(obj){var ret={};for(var i in obj)ret[i]=obj[i];return ret}(options||{})).stripIgnoreTag&&(options.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),options.onIgnoreTag=DEFAULT.onIgnoreTagStripAll),options.whiteList=options.whiteList||DEFAULT.whiteList,options.onTag=options.onTag||DEFAULT.onTag,options.onTagAttr=options.onTagAttr||DEFAULT.onTagAttr,options.onIgnoreTag=options.onIgnoreTag||DEFAULT.onIgnoreTag,options.onIgnoreTagAttr=options.onIgnoreTagAttr||DEFAULT.onIgnoreTagAttr,options.safeAttrValue=options.safeAttrValue||DEFAULT.safeAttrValue,options.escapeHtml=options.escapeHtml||DEFAULT.escapeHtml,this.options=options,!1===options.css?this.cssFilter=!1:(options.css=options.css||{},this.cssFilter=new FilterCSS(options.css))}FilterXSS.prototype.process=function(html){if(!(html=(html=html||"").toString()))return"";var options=this.options,whiteList=options.whiteList,onTag=options.onTag,onIgnoreTag=options.onIgnoreTag,onTagAttr=options.onTagAttr,onIgnoreTagAttr=options.onIgnoreTagAttr,safeAttrValue=options.safeAttrValue,escapeHtml=options.escapeHtml,cssFilter=this.cssFilter;options.stripBlankChar&&(html=DEFAULT.stripBlankChar(html)),options.allowCommentTag||(html=DEFAULT.stripCommentTag(html));var stripIgnoreTagBody=!1;if(options.stripIgnoreTagBody){stripIgnoreTagBody=DEFAULT.StripTagBody(options.stripIgnoreTagBody,onIgnoreTag);onIgnoreTag=stripIgnoreTagBody.onIgnoreTag}var retHtml=parseTag(html,(function(sourcePosition,position,tag,html,isClosing){var ret,info={sourcePosition:sourcePosition,position:position,isClosing:isClosing,isWhite:whiteList.hasOwnProperty(tag)};if(!isNull(ret=onTag(tag,html,info)))return ret;if(info.isWhite){if(info.isClosing)return"</"+tag+">";var attrs=function(html){var i=_.spaceIndex(html);if(-1===i)return{html:"",closing:"/"===html[html.length-2]};var isClosing="/"===(html=_.trim(html.slice(i+1,-1)))[html.length-1];return isClosing&&(html=_.trim(html.slice(0,-1))),{html:html,closing:isClosing}}(html),whiteAttrList=whiteList[tag],attrsHtml=parseAttr(attrs.html,(function(name,value){var ret,isWhiteAttr=-1!==_.indexOf(whiteAttrList,name);return isNull(ret=onTagAttr(tag,name,value,isWhiteAttr))?isWhiteAttr?(value=safeAttrValue(tag,name,value,cssFilter))?name+'="'+value+'"':name:isNull(ret=onIgnoreTagAttr(tag,name,value,isWhiteAttr))?void 0:ret:ret}));html="<"+tag;return attrsHtml&&(html+=" "+attrsHtml),attrs.closing&&(html+=" /"),html+=">"}return isNull(ret=onIgnoreTag(tag,html,info))?escapeHtml(html):ret}),escapeHtml);return stripIgnoreTagBody&&(retHtml=stripIgnoreTagBody.remove(retHtml)),retHtml},module.exports=FilterXSS},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(14),component_1=__webpack_require__(2),stream_1=__webpack_require__(6),config_1=__webpack_require__(1),ImgContent=function(_super){function ImgContent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ImgContent,_super),ImgContent.prototype.create=function(){var body=this.data.body;this.data.resourceUrl=body.image.resource_url},ImgContent.prototype.mount=function(){var _this=this;this.useEvents(),this.addEvent("click",".img-content",(function(){stream_1["default"].trigger(config_1.STREAM_LISTEN.IMG_URL,{type:"image",url:_this.data.resourceUrl,isShow:!0})}))},ImgContent.data={resourceUrl:""},ImgContent.template='\n    <div class="'+style.imgContent+' img-content">\n      <img src="{{ resourceUrl }}" />\n    </div>\n  ',ImgContent}(component_1["default"]);exports["default"]=ImgContent},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(14),component_1=__webpack_require__(2),utils_1=__webpack_require__(9),ShareLinkContent=function(_super){function ShareLinkContent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ShareLinkContent,_super),ShareLinkContent.prototype.create=function(){var body=this.data.body;this.data.shareLink=__assign({},body.share_link,{destination_url:utils_1.prefixUrl(body.share_link.destination_url)})},ShareLinkContent.data={shareLink:{cover_url:"",description:"",destination_url:"",title:""}},ShareLinkContent.template='\n    <a class="'+style.shareLinkContent+'" href="{{ shareLink.destination_url}}" target="_blank">\n      <dl class="'+style.shareLink+'">\n        <dt>\n          <h5>{{ shareLink.title }}</h5>\n        </dt>\n\n        <dd>\n          <div class="'+style.description+'">{{ shareLink.description }}</div>\n          <div class="'+style.coverUrl+'">\n            {% if shareLink.cover_url %}\n              <img src="{{ shareLink.cover_url }}"/>\n            {% else %}\n              <img src="https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/69135fc2-2a9a-47c2-8e10-248f0df9bb6c.png"/>\n            {% endif %}\n          </div>\n        </dd>\n      </dl>\n    </a>\n  ',ShareLinkContent}(component_1["default"]);exports["default"]=ShareLinkContent},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(14),utils_1=__webpack_require__(9),config_1=__webpack_require__(1),FileContent=function(_super){function FileContent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(FileContent,_super),FileContent.prototype.create=function(){var Message=window.appLocale.Message,body=this.data.body;this.data.file=__assign({},body.file,{resource_url:utils_1.prefixUrl(body.file.resource_url)}),this.data.ext=body.file.file_name.split(".").slice(-1)[0]||"?",this.data.color=config_1.EXT_COLOR[this.data.ext]||config_1.EXT_COLOR["default"],this.data.downloadTxt=Message.download},FileContent.data={file:{file_name:"",resource_url:""},ext:"",color:"",downloadTxt:""},FileContent.template='\n    <a class="'+style.fileContent+'" href="{{ file.resource_url }}" target="_blank">\n      <dl class="'+style.file+' staff-msg-file">\n        <dt style="background: {{ color }}">\n          <i>{{ ext }}</i>\n        </dt>\n\n        <dd>\n          <div class="'+style.fileName+'">\n            {{ file.file_name }}\n          </div>\n\n          <span\n            class="'+style.downLoad+"\"\n            style=\"\n              color: {{ pageConfig.theme_color }};\n              filter: brightness(0.95);\n              text-decoration: {{ 'underline' if pageConfig.theme_color === '#000000' else 'initial'}};\n            \"\n          >\n            {{ downloadTxt }}\n          </span>\n        </dd>\n      </dl>\n    </a>\n  ",FileContent}(__webpack_require__(2)["default"]);exports["default"]=FileContent},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(14),utils_1=__webpack_require__(9),AudioContent=function(_super){function AudioContent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(AudioContent,_super),AudioContent.prototype.create=function(){var body=this.data.body,Message=window.appLocale.Message;this.data.btnText=Message.audio,this.data.voice=__assign({},body.voice,{resource_url:utils_1.prefixUrl(body.voice.resource_url)})},AudioContent.prototype.mount=function(){var _this=this;this.useEvents();var that=this,Message=window.appLocale.Message,audio=this.getNode().querySelector("audio");audio.addEventListener("loadeddata",(function(){var duration=Math.ceil(audio.duration),minute=utils_1.zeroPad(Math.floor(duration/60)),second=utils_1.zeroPad(Math.floor(duration%60));that.data.time=minute+":"+second})),this.addEvent("click",".audio",(function(){_this.data.isPlaying?(audio.pause(),audio.currentTime=0,_this.data.isPlaying=!1,_this.data.btnText=Message.audio):(audio.play(),_this.data.isPlaying=!0,_this.data.btnText=_this.data.time,audio.onended=function(){_this.data.isPlaying=!1,_this.data.btnText=Message.audio},audio.onpause=function(){_this.data.isPlaying=!1,_this.data.btnText=Message.audio})}))},AudioContent.data={voice:{recognition:"",resource_url:"",type:""},time:"--:--",isPlaying:!1,btnText:"点击播放"},AudioContent.template='\n    <div class="'+style.audio+' audio">\n      <div class="'+style.audioMask+'">\n        <span>{{ btnText }}</span>\n        <ul class="'+style.animation+" {{ '"+style.actived+'\' if isPlaying else \'\' }}">\n          {% if isPlaying %}\n            <li style="background: {{ pageConfig.theme_color }}"/>\n            <li style="background: {{ pageConfig.theme_color }}"/>\n            <li style="background: {{ pageConfig.theme_color }}"/>\n            <li style="background: {{ pageConfig.theme_color }}"/>\n          {% else %}\n            <li/>\n            <li/>\n            <li/>\n            <li/>\n          {% endif %}\n        </ul>\n      </div>\n\n      <audio\n        preload="true"\n        class="'+style.voiceContainer+'"\n        src="{{ voice.resource_url }}"\n      />\n    </div>\n  ',AudioContent}(__webpack_require__(2)["default"]);exports["default"]=AudioContent},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(14),component_1=__webpack_require__(2),utils_1=__webpack_require__(9),stream_1=__webpack_require__(6),config_1=__webpack_require__(1),VideoContent=function(_super){function VideoContent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(VideoContent,_super),VideoContent.prototype.create=function(){var body=this.data.body;this.data.video=__assign({},body.video,{resource_url:utils_1.prefixUrl(body.video.resource_url)})},VideoContent.prototype.mount=function(){var _this=this;this.useEvents(),this.addEvent("click",".video-model",(function(){stream_1["default"].trigger(config_1.STREAM_LISTEN.IMG_URL,{type:"video",url:_this.data.video.resource_url,isShow:!0})}))},VideoContent.data={video:{description:"",resource_url:"",thumb:"",title:""}},VideoContent.template='\n    <div class="'+style.videoContent+'">\n      <video\n        preload\n        src="{{ video.resource_url }}"\n        class="'+style.video+'"\n      >\n        您的浏览器不支持video标签\n      </video>\n\n      <div class="'+style.model+' video-model video-hover-icon-bg">\n        <div class="'+style.playBox+' play-icon">\n          <img src="https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/8b03e713-d24c-406e-98d9-7e60ea2090af.png"/>\n        </div>\n      </div>\n    </div>\n  ',VideoContent}(component_1["default"]);exports["default"]=VideoContent},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),"throw":verb(1),"return":verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(14),component_1=__webpack_require__(2),request_1=__webpack_require__(53),RichTextContent=function(_super){function RichTextContent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(RichTextContent,_super),RichTextContent.prototype.create=function(){return __awaiter(this,void 0,void 0,(function(){var body,result;return __generator(this,(function(_a){switch(_a.label){case 0:return body=this.data.body,[4,request_1["default"](body.rich_text.resource_url,{mode:"cors",credentials:"omit"})];case 1:return result=_a.sent(),this.data.richTextHTML=result,[2]}}))}))},RichTextContent.data={richTextHTML:""},RichTextContent.template='\n    <div class="'+style.richTextContent+" {{'"+style.fullContent+"' if fullScreen else '"+style.phoneContent+"' }}\">\n      {{ richTextHTML }}\n    </div>\n  ",RichTextContent}(component_1["default"]);exports["default"]=RichTextContent},function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAB8BJREFUaAXlW31oVWUY/71386NNs8yvkiALcoYIphHqdJtaupgYhpD2YQgRkfWPJgUakoLgR4gmUkG0Eg0iyTSnZbrpdIguQSRn0AeEOT/TdJpz2+n5nbPjzj33Peee99x7N6sHtnve933e53l+9/163uc8VyFHZE0bVYCmpmK0YhQsDIWSP2CQ/PWWcm9brcIV+eRfo9SdFJ6TyEM9Cgtr1bb6azZPlv+pbMqznhwxAM03Z8NqmwFLPQ5Y3ePJV81Q1iGoxBZ077ZJfXvsbDw5qb2yAtiaOGwCWq03RfxUWFZ+qpoMapRqkd47kadWqj0n9mUgye6aEWCrZGiZSHlXpmNxpoZE6q9QC6UWq+qG6kj8GqZYgK0pw+7F39ZqGc1ZGpm5r1JqM3qq+WrXidOmyowBWyWPlAOtm2VU+5gqyyq/wmUgb5aq+bHKRG7ChNmaUDQfVuv2LgdLo/mFiy22TQYgIo2wVV7eA02/fiBa5hjIDmctngTcuAEcrg3ni9SqKlE45BVVVSUCwyktYKt8ZH9cu75V1uuYcFGGrd8dA7rLqbV7O7B2GXD5kqEAH7tSdSi4Y7qqOnrO15JUDJ3S9sjmAixNIFjS5Arg0x1A2VSnHPc/B0RstW0OkREK2J7G2R5ZnTF39QWWrAGWrgP69tNxRKujrfbSC2YPBOxsBllcs8E2dLRMeEJG+xtgytMddcZP1pywjUy7hu2jh7sxEPiFRLaj153AmBJg9DjxpO8DHnxYvGmpU2lEH9oPrFwMnGuMrMrD2AaVV6E7slIAO05F24mMj57xk4EZzwMjRgP5Mb3Na1eBDauArz/3YIn4yHO6Z2KY3zlJBVxStCkjD2r4SOBVcauHPxrRsghsO78Clr8VgdHHIh6ZqmmY7a1NmldWaVFpbLAJETXvbWD95uyCpbWUHYfE9bUxefomzzXLWuppi/7YS6633GUfk3WaTcpkSrt2OJjGu8VbU9oqKyqRK1612xD5k2DXyxp74KHIXSIxZrZpJavIU6Vqb0MNKztGuA0LkrkilDjVOLLpwJ47Axz4HqirBk79DlyQ+3xVvV7BFbkTrFsO7JJ1my1ysNmA7RG2IxU3mk/J+u34AqIo45qdGeJeE9jH4kxUbZELVmuyxJqG5DJL+3cD7y0BLp5PbcukhkGEHt0HM3LiALTDMoZguRuHgT2wB1i2EOA6TEeXLgJrZPvYa3TTSye1o50DSYyixdn+GIMyJR49QfTlZ8CieeFgW246vXl5ePGp3IF1bWzHqOzo4uWmP40CbnQqlr3vikr+5MgSbFtbcr2/xOvhdQlM1tf5W3JUlsBgn8K78+1Qqml0kR6UjrhmOY3TgWXfWtnEOpUkgiph44QdNzZRTN+Y7qKOuEFFWbO6vp1RJzHyhPjMQ410jS3V+8Y8ergb384kWBPtbwSim8lbj454zvqPHh1fV9bJ2w8eS3z9EZ0GBLDTqcgl5XcD5r4hof7pjpadW+WMXwu4u3003YMI2HnPE60D0G+AnpMeVC6JYJ97uUOD+/zh6o669E+9uYbNAN8TAJg7dC7JHVmvDl2dt93/LFhj3Lssv5jclwsKAd0XHSP+xU2Lryuj04WAKKjOoOhSwzmDZF/5K7yfv1WwcoTNAJ8PmLqD7/eLz145SPYvP5nqsAGbRcnOnNYrGVOqr89GbZDsxj9MpTdy0zpp1Kv+oJ59nPjGeXn6tkxqKZOydXTkgK42uE6wcg2bAT5YLWdfS6rQ/gOBcvNLV6ogXw1lUrafaEOdfaf3twSXBWvCzqkIZkltuSobxbEjqfWsmfs6UNBL3xanlrIoU0e0gbaYkOSPJJhAIlHxZpN+2LJRz87ddNGK+FFGr1SGjygraIcOssErI+lZMArWhJ0twwQSE2Io5vgP+h7jJjrh2rihVUplX4aPKEtH1E0bTEgwEqtIFmK2jCltWBnc45kXnABBnOnNPgwuUEYQhekO6tOO0QEsqUGSLKLZiYJ6S/3xo8AXlcEMHJ2NO4CKmdF2b+7G5GWfoJGlNuqkbhMiNmIUUm4/q6Rom0QtK9xypE9OvRUfpQ/A68K0VMD1SaeC5yyPHt1u7DXksBxDC+UCESWi4u2n1HZ55TKNVR2AmWvV0lbj5Yv0nKtAvF/5bz8Drz0rO7OZY2iLyU+UuDlezpSWWruCeVCmRANoCL/9XBFlxwUrmFywNO8W4HZb34llM0FzqoWt6ViCpRNlUnackaVOSWTzqr41pd1KWcu3x+tSHj3cjU03KBcIPzWvS1MB21l2XfRCnO4iPSg6FabnrBeoDTbiC3HyZj3lYWypk/LAeBhDRK73xCgJr5tn5cLGi8DBanN3UezVUPSUB7dze1LLKrf87/pUC9S+htU6m1OmtJdJQH+S1ew7r/CcPatKAftSkHj/Lp3MJ+l8svA76+VPsu44JdpKm0ModITZL2ephyFGxWrKRuohFdu5iwVDyuSpMpYhndJJbBMb0+VZ2nhM7GnfyOSSmuKwmIjJJq+8k1ULgzYonaK0U9rf6X+VIE7wdjqfZLjRi/F/GZ1Wtn8CIFl2htnwtv2ZGNmeyLZUIp/FmciJ3LerfuThN9DO8XJSg3L3M54EVrm5Vn79JmXjNRwm3Jo0fKC8I571n/+hlu5LuF1/ivcPfOSflTccndcAAAAASUVORK5CYII="},function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA61JREFUWAnNmT1MFEEUx98smMsZKgtMaLXASGyobJBYoI3xI4KFBcZEC1EbLWwUsLFQGiQWFhpKcwRjYqKxMEhjRWMwYqKlh5BoBSiBc/z/hxvubnfu9pMLL1l29u2bN797M7Mz81CSUPTxrgNS2jyN6t24OkTjUrgoWoooF1HiNSctra/U+/nvfBVXVJwKuu9Iu6yvXxdRZ0Xrrjh1Ral5kL+UXG5Cvfu0HLVuJEDde7hN/pVuISq3AdYW1bnTTqkVRPiReC1jaubzitOmShkKqHs6zwHsCcD2V9VLX1RqCaDX1OzCdCNnXr2XWmsFuGF0y1TmcGzU/GA9xTbYVj0O5wvdfzQvy78n8Qv761XMVK+kIO37BlXh4x+/30AEza9pJhyJGAi06YpkAFCOHbrXtMhVh4uQbNsnNV1sJgTHHL4jPrvGjx5+5+CQyKkB2GmR13Dx/DHHWeN6wbeooM5XT5xtEPMp0aVviSbEwCWRoTu1zU08EClM1uqiPHF2q5aD9hNU6WJ+55J+Snr6gk33ngjqomjIQJayGECzQvAjnFTye4M1c/mgLqoGLIYJ9lsR/LtxA9FLvkKsOhaEtdWoOEE7spgl1QIqfSZoFUOz5gJ06GK4NOs97D2zK4m78PsbckXLpfPXa/QMJrJ55S1TI9Pwd64udunCPdVaYDvHMcj9XDrZkS42SN0E3NpkpkF0dadLF7+NDg8f/vSAru506eICgs3DopYe0BUtly4uINgYwdgLZqAdV7RcukDFEAXYOAYXQ8zCX3+dFymVKnYsU5deFtnFPHmlk58/RB7eFfmFsxAvlqlLK2BrhY/0gAR5g6MFr2ylyC6ey9Znpt7mPB6qM3WZpTOweebEbw7VKTy37hG5ii3c9OzWxTJ1aQRMZOMYhODEL9Jlikn+XL4pcvFKpaYtPx2r6GKXDFN5P4h0BFITyfdHJ5mi8YlL5zOp+0gWMkE4ScTkSpiO2C0CFpu/MYCGC7kSRHEpEeNbxzxz6aI4JwNZyrJ9quNz4mMnJwTHoe1Wwj0bF9ncsO1Evdc/dloP5XzMiH1u7l2N4Ew8Wt1mTQT5wqQfejtfYAvRnLyMpWF+ZmbhglKqZvNSGYNlQ2OARA7W6IKtu+N3mzzywbHdQAQtjImkyZXo4UZ21j7hnWNuVD58ue+PnPVXF9AamImzGxOYFtAkcpArwS8dSfUx33bIBYG+kH8Jya6ySmgErV/eTTqCWQge9OOepXcyiV4NacvN+jfEfxzeWjcXGVleAAAAAElFTkSuQmCC"},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(14),component_1=__webpack_require__(2),config_1=__webpack_require__(1),MsgContent_1=__webpack_require__(107),message_data_1=__webpack_require__(54),interfaces_1=__webpack_require__(241),ANSWER_LIST=[{title:"满意",icon:"https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/68e7fdd9-1e93-4993-b668-6dd4554093e0.png",satisfaction:interfaces_1.SATISFACTION_ENUM.THUMB_UP,type:"thumbUp"},{title:"内容不满意",icon:"https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/14ab3428-57ec-460b-b33e-408d399a4e94.png",satisfaction:interfaces_1.SATISFACTION_ENUM.BAD_ANSWER,type:"badAnswer"},{title:"回答不匹配",icon:"https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/aeeed67b-0e21-44f2-979e-787c7121705f.png",satisfaction:interfaces_1.SATISFACTION_ENUM.WRONG_ANSWER,type:"wrongAnswer"}],StaffMsg=function(_super){function StaffMsg(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(StaffMsg,_super),StaffMsg.prototype.create=function(){var _a=this.data,pageConfig=_a.pageConfig,msg=_a.msg,Satisfaction=window.appLocale.Satisfaction,MSG_TYPE=msg.msg_type;this.data.avatarShape=config_1.AVATAR_SHAPE[pageConfig.avatar_shape],this.data.chatBar=config_1.CHAT_BAR[pageConfig.chat_bar],this.data.isShowBotAvatat=2!==pageConfig.bot_avatar_chose&&Boolean(pageConfig.bot_avatar),this.data.hasOwnContent="IMAGE"===MSG_TYPE||"FILE"===MSG_TYPE||"SHARELINK"===MSG_TYPE||"VIDEO"===MSG_TYPE,this.data.answerList=ANSWER_LIST.map((function(answer){return __assign({},answer,{title:Satisfaction[answer.type]})})),this.data.reportTxt=Satisfaction.report},StaffMsg.prototype.mount=function(){var _this=this;this.useEvents();var wulai=document.getElementById("websdk-wulai");this.addEvent("click",".survey-btn",(function(evt){if(!_this.data.selectIcon){_this.data.selectId=_this.data.msg.msg_id;var wulaiX=wulai.getBoundingClientRect().left,wulaiY=wulai.getBoundingClientRect().top;_this.data.posRight=evt.clientX-wulaiX>=245,_this.data.posTop=evt.clientY-wulaiY>=338,_this.data.isShowAnswerCard=!_this.data.isShowAnswerCard}})),this.addEvent("click",".evaluate-list",(function(_,node){var selectIdx=parseInt(node.dataset.loopidx,10);_this.data.selectIcon=ANSWER_LIST[selectIdx].icon,_this.data.isShowAnswerCard=!1;var input={bot_id:{knowledge_id:""+_this.data.msg.bot.qa.knowledge_id},satisfaction:ANSWER_LIST[selectIdx].satisfaction,msg_id:_this.data.msg.msg_id,user_id:_this.data.msg.user_id};message_data_1.satisfactionEvaluate(input)})),this.addEvent("click",".websdk-report-btn",(function(){_this.data.selectIcon="https://cdn.wul.ai/weapp/invalid-name%403x.png",_this.data.isShowAnswerCard=!1;var input={bot_id:{knowledge_id:""+_this.data.msg.bot.qa.knowledge_id},satisfaction:interfaces_1.SATISFACTION_ENUM.REPORT,msg_id:_this.data.msg.msg_id,user_id:_this.data.msg.user_id};message_data_1.satisfactionEvaluate(input)}))},StaffMsg.data={avatarShape:"",chatBar:"",hasOwnContent:!1,time:"",isShowBotAvatat:!1,answerList:ANSWER_LIST,isShowAnswerCard:!1,selectIcon:"",posRight:!1,posTop:!1,reportTxt:""},StaffMsg.template='\n  <div class="'+style.msgContent+'">\n    <dl class="'+style.msgContainer+" "+style.staffMsg+'">\n        {% if isShowBotAvatat %}\n          <dt>\n            <div class="'+style.avatar+' {{ avatarShape }}" style="background: {{ pageConfig.theme_color }}">\n              <img src="{{ pageConfig.bot_avatar }}?x-oss-process=image/resize,w_72,h_72/quality,q_80" alt="staff-avatar"/>\n            </div>\n          </dt>\n        {% endif %}\n\n        <dd>\n          <div class="'+style.content+" {{ '"+style.cls+'\' if hasOwnContent else \'\' }} {{ chatBar }} staff-msg-link-color">\n            {% component name="MsgContent",msg=msg,pageConfig=pageConfig,fullScreen=fullScreen %}\n          </div>\n\n          <div class="'+style.hiddenId+'">#{{ msg.msg_id }}</div>\n\n          {% if msg.enable_evaluate or isShowReportBtn %}\n            <div class="'+style.suggest+' survey-btn">\n              {% if selectIcon %}\n                <img src="{{ selectIcon }}"/>\n              {% else %}\n                <span></span>\n              {% endif %}\n\n              {% if isShowAnswerCard %}\n                <ul class="'+style.answerList+" {{ '"+style.alRight+"' if posRight else '' }} {{ '"+style.alTop+'\' if posTop else \'\' }}">\n                  {% if msg.enable_evaluate %}\n                    {% for list in answerList %}\n                      <li data-loopIdx="{{ loop.index0 }}" class="evaluate-list">\n                        <img src="{{ list.icon }}"/>\n                        <p>{{ list.title }}</p>\n                      </li>\n                    {% endfor%}\n                  {% endif %}\n\n                  {% if isShowReportBtn %}\n                    <li class="websdk-report-btn">\n                      <img src="https://cdn.wul.ai/weapp/invalid-name%403x.png"/>\n                      <p>{{ reportTxt }}</p>\n                    </li>\n                  {% endif %}\n                </ul>\n              {% endif %}\n            </div>\n          {% endif %}\n        </dd>\n      </dl>\n    </div>\n  ',StaffMsg.components=[MsgContent_1["default"]],StaffMsg}(component_1["default"]);exports["default"]=StaffMsg},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var message_type_1=__webpack_require__(242);exports.SATISFACTION_ENUM=message_type_1.SATISFACTION_ENUM},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(SATISFACTION_ENUM){SATISFACTION_ENUM.DEFAULT_SATISFACTION="DEFAULT_SATISFACTION",SATISFACTION_ENUM.THUMB_UP="THUMB_UP",SATISFACTION_ENUM.BAD_ANSWER="BAD_ANSWER",SATISFACTION_ENUM.WRONG_ANSWER="WRONG_ANSWER",SATISFACTION_ENUM.REPORT="REPORT"}(exports.SATISFACTION_ENUM||(exports.SATISFACTION_ENUM={}))},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(105),component_1=__webpack_require__(2),Msg_1=__webpack_require__(106),stream_1=__webpack_require__(6),utils_1=__webpack_require__(9),config_1=__webpack_require__(1),LoadingMsg_1=__webpack_require__(244),RtMsgPanel=function(_super){function RtMsgPanel(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(RtMsgPanel,_super),RtMsgPanel.prototype.create=function(){var Message=window.appLocale.Message;this.data.tips=Message.historyMsgTips},RtMsgPanel.prototype.mount=function(){var _this=this;stream_1["default"].listen(config_1.STREAM_LISTEN.SEND_MSG,(function(msg){_this.data.message=msg})),stream_1["default"].listen(config_1.STREAM_LISTEN.IS_SHOW_RT_TIPS,(function(isShow){_this.data.isShow=isShow}))},RtMsgPanel.prototype.update=function(){var $content=document.getElementById("msg-panel");utils_1.scrollToBottom($content)},RtMsgPanel.prototype._renderPatch=function(items){var _this=this;items.forEach((function(item){var msg=new Msg_1["default"]({data:item});_this.addSub(msg,{sel:"."+style.holder})}))},RtMsgPanel.data={message:[],isShow:!1,tips:""},RtMsgPanel.template='\n      <div class="'+style.holder+'">\n        {% if isLoadHistory and isShow %}\n          <p class="'+style.tips+'">{{ tips }}</p>\n        {% endif %}\n      </div>\n\n      {% for msg in message %}\n        {% component name="Msg",msg=msg,pageConfig=pageConfig,lastMsg=message[loop.index0 - 1],isShowReportBtn=isShowReportBtn,fullScreen=fullScreen %}\n      {% endfor %}\n\n      <component name="LoadingMsg", :pageConfig="pageConfig"/>\n  ',RtMsgPanel.components=[Msg_1["default"],LoadingMsg_1["default"]],RtMsgPanel}(component_1["default"]);exports["default"]=RtMsgPanel},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var msgStyle=__webpack_require__(14),component_1=__webpack_require__(2),stream_1=__webpack_require__(6),config_1=__webpack_require__(1),LoadingMsg=function(_super){function LoadingMsg(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(LoadingMsg,_super),LoadingMsg.prototype.create=function(){this.data.avatarShape=config_1.AVATAR_SHAPE[this.data.pageConfig.avatar_shape]},LoadingMsg.prototype.mount=function(){var _this=this;stream_1["default"].listen(config_1.STREAM_LISTEN.IS_SHOW_LOADING_MSG,(function(isShow){_this.data.isShowLoading=isShow,setTimeout((function(){_this.data.isShowLoading=!1}),2e3)}))},LoadingMsg.data={avatarShape:"",isShowLoading:!1},LoadingMsg.template='\n    <div>\n      {% if isShowLoading %}\n        <div class="'+msgStyle.msgContent+" "+msgStyle.clearfix+'">\n          <dl class="'+msgStyle.msgContainer+" "+msgStyle.staffMsg+" "+msgStyle.pullLeft+'">\n            {% if pageConfig.bot_avatar %}\n              <dt>\n                <div class="'+msgStyle.avatar+' {{ avatarShape }}" style="background: {{ pageConfig.theme_color }}">\n                  <img src="{{ pageConfig.bot_avatar }}" alt="staff-avatar"/>\n                </div>\n              </dt>\n            {% endif %}\n\n            <dd>\n              <div class="'+msgStyle.content+'">\n                <div class="'+msgStyle.ellipsis+'">\n                  <span style="background: {{ pageConfig.theme_color }}"></span>\n                  <span style="background: {{ pageConfig.theme_color }}"></span>\n                  <span style="background: {{ pageConfig.theme_color }}"></span>\n                  <span style="background: {{ pageConfig.theme_color }}"></span>\n                </div>\n              </div>\n            </dd>\n          </dl>\n        </div>\n      {% endif %}\n    </div>\n  ',LoadingMsg}(component_1["default"]);exports["default"]=LoadingMsg},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(46),component_1=__webpack_require__(2),stream_1=__webpack_require__(6),config_1=__webpack_require__(1),ErrorHeader=function(_super){function ErrorHeader(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ErrorHeader,_super),ErrorHeader.prototype.create=function(){var _this=this;stream_1["default"].listen(config_1.STREAM_LISTEN.ERROR_TIPS,(function(err){_this.data.isShow=err.isShow,_this.data.title=err.message,err.isHidden&&setTimeout((function(){_this.data.isShow=!1}),2e3)}))},ErrorHeader.data={isShow:!1,title:"",isHidden:!1},ErrorHeader.template='\n    <div\n      class="'+style.errorHeader+" {{ '"+style.show+"' if isShow else '' }} {{ '"+style.hidden+"' if isHidden else '' }} {{ '"+style.largeHeader+"' if hideFooter else ''}}\"\n    >\n      <img src=\"https://laiye-im-saas.oss-cn-beijing.aliyuncs.com/3feb3aaa-4119-480d-a6ba-0e6c1c1e1552.png\" />\n      <p>{{ title }}</p>\n    </div>\n  ",ErrorHeader}(component_1["default"]);exports["default"]=ErrorHeader},function(module,exports,__webpack_require__){(exports=module.exports=__webpack_require__(24)(!1)).push([module.i,".errorHeader_2C9Do {\n  width: 100%;\n  height: 41px;\n  position: absolute;\n  z-index: 100;\n  top: 64px;\n  left: 0;\n  text-align: center;\n  line-height: 41px;\n  display: none;\n}\n.errorHeader_2C9Do img {\n  width: 24px;\n  height: 24px;\n  vertical-align: middle;\n  display: inline-block;\n}\n.errorHeader_2C9Do p {\n  margin: 0;\n  color: #fff;\n  font-size: 12px;\n  display: inline-block;\n}\n.largeHeader_2RKfb {\n  top: 0;\n}\n.hidden_2jtD0 {\n  display: none;\n  background: #ff3e27;\n}\n.show_2iULN {\n  display: block;\n  background: #ff3e27;\n}\n.imgModal_2s1kU .imgContent_2unio {\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10000;\n}\n.imgModal_2s1kU .imgContent_2unio img {\n  max-width: 80%;\n  max-height: 90%;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n}\n.imgModal_2s1kU .imgContent_2unio video {\n  max-width: 80%;\n  max-height: 90%;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n}\n.reloadModal_3Ln5y {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n}\n.reloadModal_3Ln5y .msgBox_JgT2U {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate3d(-50%, -50%, 0);\n  background-color: #fff;\n  width: 85%;\n  border-radius: 4px;\n  font-size: 16px;\n  transition: 0.2s;\n  overflow: hidden;\n}\n.reloadModal_3Ln5y .msgBoxHeader_2ZFby {\n  padding: 16px 0 0;\n  text-align: center;\n  margin-bottom: 0;\n  font-size: 16px;\n  font-weight: 700;\n  color: #333;\n}\n.reloadModal_3Ln5y .msgBoxContent_lMn_F {\n  padding: 10px 20px 15px;\n  border-bottom: 1px solid #ddd;\n  min-height: 36px;\n}\n.reloadModal_3Ln5y .msgboxMessage_mBiba {\n  color: #999;\n  margin: 0;\n  text-align: center;\n  line-height: 36px;\n}\n.reloadModal_3Ln5y .msgBoxBtns_39bP1 {\n  height: 40px;\n  line-height: 40px;\n  color: #1F77F3;\n  text-align: center;\n  cursor: pointer;\n}\n.toast_2VZIH {\n  width: 100%;\n  position: absolute;\n  z-index: 100;\n  bottom: 159px;\n  left: 0;\n  text-align: center;\n  line-height: 41px;\n  display: none;\n}\n.toast_2VZIH .content_2wgaS {\n  width: 90%;\n  opacity: 0.8;\n  background: #425b6d;\n  border-radius: 8px;\n  margin: 0 auto;\n}\n.toast_2VZIH .content_2wgaS p {\n  font-size: 12px;\n  color: #fff;\n  margin: 0;\n  padding: 16px;\n  line-height: 1.5;\n}\n.websdkMessage_1WyAt {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-size: 14px;\n  line-height: 1.5;\n  position: fixed;\n  top: 50px;\n  left: 40%;\n  z-index: 1010;\n  background: #fff;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(66, 91, 109, 0.2);\n}\n.websdkMessage_1WyAt .content_2wgaS {\n  display: inline-block;\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  padding: 18px 24px;\n}\n.websdkMessage_1WyAt img {\n  width: 16px;\n  height: 16px;\n  margin-right: 12px;\n}\n.websdkMessage_1WyAt p {\n  margin: 0;\n  font-size: 14px;\n  font-weight: 500;\n}\n.toastShow_AVFls {\n  display: block;\n}\n.toastHidden_1dI3I {\n  display: none;\n}\n@media screen and (min-width: 320px) and (max-width: 414px) {\n  .errorHeader_2C9Do {\n    position: fixed;\n    left: 0;\n    top: 64px;\n  }\n  .errorHeader_2C9Do p {\n    margin: 0;\n  }\n  .toast_2VZIH {\n    bottom: 97px;\n  }\n}\n",""]),exports.locals={errorHeader:"errorHeader_2C9Do",largeHeader:"largeHeader_2RKfb",hidden:"hidden_2jtD0",show:"show_2iULN",imgModal:"imgModal_2s1kU",imgContent:"imgContent_2unio",reloadModal:"reloadModal_3Ln5y",msgBox:"msgBox_JgT2U",msgBoxHeader:"msgBoxHeader_2ZFby",msgBoxContent:"msgBoxContent_lMn_F",msgboxMessage:"msgboxMessage_mBiba",msgBoxBtns:"msgBoxBtns_39bP1",toast:"toast_2VZIH",content:"content_2wgaS",websdkMessage:"websdkMessage_1WyAt",toastShow:"toastShow_AVFls",toastHidden:"toastHidden_1dI3I"}},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(46),component_1=__webpack_require__(2),stream_1=__webpack_require__(6),config_1=__webpack_require__(1),ImgModal=function(_super){function ImgModal(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ImgModal,_super),ImgModal.prototype.mount=function(){var _this=this;this.useEvents(),this.addEvent("click",".img-modal",(function(){_this.data.isShow=!1})),stream_1["default"].listen(config_1.STREAM_LISTEN.IMG_URL,(function(query){_this.data.isShow=query.isShow,_this.data.type=query.type,_this.data.url=query.url}))},ImgModal.data={isShow:!1,url:"",type:""},ImgModal.template='\n    <div class="'+style.imgModal+'">\n      {% if isShow %}\n        <div class="'+style.imgContent+' img-modal">\n          {% if type === \'image\' %}\n            <img src="{{ url }}"/>\n          {% endif %}\n\n          {% if type === \'video\' %}\n            <video\n              autoPlay\n              controls\n              controlsList="nofullscreen"\n              src="{{ url }}"\n              class="'+style.video+'"\n            >\n              您的浏览器不支持video标签\n            </video>\n          {% endif %}\n        </div>\n      {% endif %}\n    </div>\n  ',ImgModal}(component_1["default"]);exports["default"]=ImgModal},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(46),component_1=__webpack_require__(2),stream_1=__webpack_require__(6),config_1=__webpack_require__(1),ReLoadModal=function(_super){function ReLoadModal(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ReLoadModal,_super),ReLoadModal.prototype.create=function(){var Tips=window.appLocale.Tips;this.data.title=Tips.alertTitle,this.data.okText=Tips.reload},ReLoadModal.prototype.mount=function(){var _this=this;this.useEvents(),stream_1["default"].listen(config_1.STREAM_LISTEN.RECONNECT_RONGCOULD,(function(_a){var isShowModal=_a.isShowModal,content=_a.content,showBtn=_a.showBtn;_this.data.isShowModal=isShowModal,_this.data.message=content,_this.data.showBtn=showBtn})),this.addEvent("click",".reconnect-btn",(function(){location.reload()}))},ReLoadModal.data={isShowModal:!1,message:"",showBtn:!1,title:"",okText:""},ReLoadModal.template='\n    {% if isShowModal %}\n      <div class="'+style.reloadModal+'">\n        <div class="'+style.msgBox+'">\n          <div class="'+style.msgBoxHeader+'">{{ title }}</div>\n          <div class="'+style.msgBoxContent+'">\n            <div class="'+style.msgboxMessage+'">\n              {{ message }}\n            </div>\n          </div>\n\n          {% if showBtn %}\n            <div class="'+style.msgBoxBtns+' reconnect-btn">{{ okText }}</div>\n          {% endif %}\n        </div>\n      </div>\n    {% endif %}\n  ',ReLoadModal}(component_1["default"]);exports["default"]=ReLoadModal},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(46),component_1=__webpack_require__(2),stream_1=__webpack_require__(6),config_1=__webpack_require__(1),Toast=function(_super){function Toast(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Toast,_super),Toast.prototype.create=function(){var _this=this;stream_1["default"].listen(config_1.STREAM_LISTEN.TOAST,(function(err){_this.data.isShow=err.isShow,_this.data.title=err.message,setTimeout((function(){_this.data.isShow=!1}),3e3)}))},Toast.data={isShow:!1,title:""},Toast.template='\n    <div class="'+style.toast+" {{ '"+style.toastShow+"' if isShow else '"+style.toastHidden+'\'}}">\n      <div class="'+style.content+'">\n        <p>{{ title }}</p>\n      </div>\n    </div>\n  ',Toast}(component_1["default"]);exports["default"]=Toast},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var style=__webpack_require__(46),component_1=__webpack_require__(2),stream_1=__webpack_require__(6),config_1=__webpack_require__(1),successPng=__webpack_require__(251),Message=function(_super){function Message(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Message,_super),Message.prototype.create=function(){var _this=this;stream_1["default"].listen(config_1.STREAM_LISTEN.MESSAGE,(function(msg){_this.data.isShow=msg.isShow,_this.data.message=msg.message,_this.data.type=msg.type,setTimeout((function(){_this.data.isShow=!1}),3e3)}))},Message.data={isShow:!1,message:"",type:""},Message.template='\n    <div class="'+style.websdkMessage+" {{ '"+style.toastShow+"' if isShow else '"+style.toastHidden+'\' }}">\n      <div class="'+style.content+"\">\n        {% if type === 'success' %}\n          <img src=\""+successPng+'"/>\n        {% endif %}\n        <span>{{ message }}</span>\n      </div>\n    </div>\n  ',Message}(component_1["default"]);exports["default"]=Message},function(module,exports){module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABTBJREFUaAXVmn9oHEUUx9+buzTJNWlMmliPYFSI5RBBhZSktdD6E38dqYj9Q80fIlLsP0L/qLRWKBgrVekfFgoKQmn9Sws1Pas2VqpYTUtDFSVQNKgNxPNHorYpaZrmdnxvJrt3t9nbH83t5jJ/3M7Ozr73+c7Ozs68OYQypNXf7qmV/0w9IA24B8FIAWC7lNAIIOu1eZxAhH/pfFiCOIcCTmBTzecDa7Zcnq97vFYDaz9+vXHGMLolQDeBPQgSEoFsIUyS0H4C6IsL0XfysW0kMHgKLCCdeSfxN4xvAUNulVYLB3dceAcCToDAN1pg+Z5MehMJ8598C3hSfhAbyfz8HLX0TmrxpH8XQWpiFhB2tqVvfe9D3Jjzc6cvAaszva2GgR8ReIcfo/Ovg4NCyA0D6R2jXraEV4Wuo7s6Cf5MdPBMJDvYJ/v24nMV0Nn32jOQM74Mr8u44VE3Jd+KwaVayS6kb5QHXe6N8BL2nO5++X0nh44C1KMj9TSW1zjdFHUZfUOmICbWn3p0+2m77zkCZl9Y7vMhjTR2BL/nmKUXe5X9xS56B3ionB1tKgyeRcokszFjoeQiAWqcj2yoLMTwm5cdmjFf3+pC/IX9yxgbrryuk4fVOcxeL5rbzS+29QTU9KDi+r0dns9lUrPOyuGDmpjljPPlmtto0+H98twpHhM38QQwzm70rNKc+obn2Mly29ImePH2++HmumY4O34e9g59ARevTjlVtcq4oZmZCvYrAXpKbF2PLLNy2QrYu+ZpaFhSq3y2Lm2Ehqpa2HrmkCfDLPN+5MWIMTY5Fng+7+nCvYId3qxNLQvrju6GHK2OXBOtJ0RzolnwSqpS4Bn4wvSkNzxXpAUUswteBvJ5VKlUy5v+3x46bmY9j8wu9BrWs65VoVrEIdWQhMYlwVaQbMAL/q0fj8Gx0SHLl1eG2eklxnZ+Hn5SquEGeLNzI7TU1NPIlYN3z30FB4YH/NzqC/7Qr4O+bOUrYbvQ0YN8kVvupTseVvBcJy5isPm2e2FTap3bLeqan5YPDk/NTpEP+hL7H/9vqWuZA/vsyrWuIsKC1yCy3ppKzCFzKPhufMShFKCUiHDhNQoJoJCGz7T7h0/gz8sXHWvbRUQBz+yxG5+673kianKkshVemrkCX//xE6xPpqCuqtp2FeCu5W0Qo7DbxPRU0RfWXpFHm2vp83Y7iPg7dh3p/ZRehofsF93OWxPXwb67e2BF7TLHaldyV6E6VuV4rVzwbJyWmp8JjlU6enIpHJ38DzZ/c7Bkd4oCnvGYXXCg1YW15CUvEfYby9nypm1mFxwlpnBeoHikacCviDDgmZnZhQ5xY78JFfRoirgw7RwpDwVeQWI/s6vvAC2M+4KCF9ZnES+cPKCmF2a5pJHh8G9nyzLamDYLjyazWtBwfH4mZ0zMZ0n5y6UxeOL4Pth25yO0QEko+CMj3xf6LFteLSmJmQ1aUYmuzK4d0jBeLZuXEA2hEK+cSm/vZRfWVII3F0hPNkS/ZTKNWc2qzVkCVJyFNhfK5CU8M8RoxoTYiSWAT3hnhJ5C0Ek53xpRwkHNmHdXJIC3dXhnpDK7kgrubrBvPRUJYF0c/cU4Pq5C2nmhC5pjFmayR6YZao4ALuQ4vJTIs9SKSMzitDfAcI4C+ILeEcGehXwS2nfp3RnmtL4DfOKUeLdGzsjDNPeLeM8As9xtSrW8yVryCZgV2ADvjEQ7Oqlt1lVe8Mzo+QRMIYt6o9sUwcdF+1eDQhGcX7R/9rAL4fOF/LvN/9AVOC7NUHBeAAAAAElFTkSuQmCC"},function(module,exports,__webpack_require__){var map={"./en":112,"./en.ts":112,"./zh-CN":113,"./zh-CN.ts":113};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=252}])["default"];